{
  "vyos.vyos.vyos_banner": {
    "doc": {
      "description": "This will configure both pre-login and post-login banners on remote devices running VyOS. It allows playbooks to add or remote banner text from the active running configuration.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "banner": {
          "aliases": [],
          "description": "Specifies which banner that should be configured on the remote device.",
          "type": "str",
          "required": true,
          "choices": [
            "pre-login",
            "post-login"
          ],
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "Specifies whether or not the configuration is present in the current devices active running configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        },
        "text": {
          "aliases": [],
          "description": "The banner text that should be present in the remote device running configuration. This argument accepts a multiline string, with no empty lines. Requires I(state=present).",
          "type": "str",
          "required": false,
          "suboptions": {}
        }
      },
      "short_description": "Manage multiline banners on VyOS devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure the pre-login banner\n  vyos.vyos.vyos_banner:\n    banner: pre-login\n    text: |\n      this is my pre-login banner\n      that contains a multiline\n      string\n    state: present\n- name: remove the post-login banner\n  vyos.vyos.vyos_banner:\n    banner: post-login\n    state: absent\n"
  },
  "vyos.vyos.vyos_bgp_address_family": {
    "doc": {
      "description": "This module manages BGP address family configuration of interfaces on devices running VYOS.",
      "has_action": true,
      "options": {
        "config": {
          "aliases": [],
          "description": "A dict of BGP global configuration for interfaces.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "address_family": {
              "aliases": [],
              "description": "BGP address-family parameters.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "afi": {
                  "aliases": [],
                  "description": "BGP address family settings.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "ipv4",
                    "ipv6"
                  ],
                  "suboptions": {}
                },
                "aggregate_address": {
                  "aliases": [],
                  "description": "BGP aggregate network.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "as_set": {
                      "aliases": [],
                      "description": "Generate AS-set path information for this aggregate address.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "prefix": {
                      "aliases": [],
                      "description": "BGP aggregate network.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "summary_only": {
                      "aliases": [],
                      "description": "Announce the aggregate summary network only.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "networks": {
                  "aliases": [],
                  "description": "BGP network",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "backdoor": {
                      "aliases": [],
                      "description": "Network as a backdoor route.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "path_limit": {
                      "aliases": [],
                      "description": "AS path hop count limit",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "prefix": {
                      "aliases": [],
                      "description": "BGP network address",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "route_map": {
                      "aliases": [],
                      "description": "Route-map to modify route attributes",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "redistribute": {
                  "aliases": [],
                  "description": "Redistribute routes from other protocols into BGP",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "metric": {
                      "aliases": [],
                      "description": "Metric for redistributed routes.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "protocol": {
                      "aliases": [],
                      "description": "types of routes to be redistributed.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "connected",
                        "kernel",
                        "ospf",
                        "ospfv3",
                        "rip",
                        "ripng",
                        "static"
                      ],
                      "suboptions": {}
                    },
                    "route_map": {
                      "aliases": [],
                      "description": "Route map to filter redistributed routes",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "table": {
                      "aliases": [],
                      "description": "Redistribute non-main Kernel Routing Table.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "as_number": {
              "aliases": [],
              "description": "AS number.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "neighbors": {
              "aliases": [],
              "description": "BGP neighbor",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address_family": {
                  "aliases": [],
                  "description": "address family.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "afi": {
                      "aliases": [],
                      "description": "BGP neighbor parameters.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ipv4",
                        "ipv6"
                      ],
                      "suboptions": {}
                    },
                    "allowas_in": {
                      "aliases": [],
                      "description": "Number of occurrences of AS number.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "as_override": {
                      "aliases": [],
                      "description": "AS for routes sent to this neighbor to be the local AS.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "attribute_unchanged": {
                      "aliases": [],
                      "description": "BGP attributes are sent unchanged.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "as_path": {
                          "aliases": [],
                          "description": "as_path attribute",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "med": {
                          "aliases": [],
                          "description": "med attribute",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "next_hop": {
                          "aliases": [],
                          "description": "next_hop attribute",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "capability": {
                      "aliases": [],
                      "description": "Advertise capabilities to this neighbor.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "dynamic": {
                          "aliases": [],
                          "description": "Advertise dynamic capability to this neighbor.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "orf": {
                          "aliases": [],
                          "description": "Advertise ORF capability to this neighbor.",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "send",
                            "receive"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "default_originate": {
                      "aliases": [],
                      "description": "Send default route to this neighbor",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "distribute_list": {
                      "aliases": [],
                      "description": "Access-list to filter route updates to/from this neighbor.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "acl": {
                          "aliases": [],
                          "description": "Access-list number.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "action": {
                          "aliases": [],
                          "description": "Access-list to filter outgoing/incoming route updates to this neighbor",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "export",
                            "import"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "filter_list": {
                      "aliases": [],
                      "description": "As-path-list to filter route updates to/from this neighbor.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "action": {
                          "aliases": [],
                          "description": "filter outgoing/incoming route updates",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "export",
                            "import"
                          ],
                          "suboptions": {}
                        },
                        "path_list": {
                          "aliases": [],
                          "description": "As-path-list to filter",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "maximum_prefix": {
                      "aliases": [],
                      "description": "Maximum number of prefixes to accept from this neighbor nexthop-self Nexthop for routes sent to this neighbor to be the local router.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "nexthop_local": {
                      "aliases": [],
                      "description": "Nexthop attributes.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "nexthop_self": {
                      "aliases": [],
                      "description": "Nexthop for routes sent to this neighbor to be the local router.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "peer_group": {
                      "aliases": [],
                      "description": "IPv4 peer group for this peer",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "prefix_list": {
                      "aliases": [],
                      "description": "Prefix-list to filter route updates to/from this neighbor.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "action": {
                          "aliases": [],
                          "description": "filter outgoing/incoming route updates",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "export",
                            "import"
                          ],
                          "suboptions": {}
                        },
                        "prefix_list": {
                          "aliases": [],
                          "description": "Prefix-list to filter",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "remove_private_as": {
                      "aliases": [],
                      "description": "Remove private AS numbers from AS path in outbound route updates",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "route_map": {
                      "aliases": [],
                      "description": "Route-map to filter route updates to/from this neighbor.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "action": {
                          "aliases": [],
                          "description": "filter outgoing/incoming route updates",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "export",
                            "import"
                          ],
                          "suboptions": {}
                        },
                        "route_map": {
                          "aliases": [],
                          "description": "route-map to filter",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "route_reflector_client": {
                      "aliases": [],
                      "description": "Neighbor as a route reflector client",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "route_server_client": {
                      "aliases": [],
                      "description": "Neighbor is route server client",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "soft_reconfiguration": {
                      "aliases": [],
                      "description": "Soft reconfiguration for neighbor",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "unsupress_map": {
                      "aliases": [],
                      "description": "Route-map to selectively unsuppress suppressed routes",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "weight": {
                      "aliases": [],
                      "description": "Default weight for routes from this neighbor",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "neighbor_address": {
                  "aliases": [],
                  "description": "BGP neighbor address (v4/v6).",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VYOS device by executing the command B(show configuration command | match bgp).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "deleted",
            "gathered",
            "parsed",
            "rendered",
            "purged",
            "overridden"
          ],
          "suboptions": {}
        }
      },
      "short_description": "BGP Address Family Resource Module.",
      "version_added": "2.1.0"
    },
    "examples": "\n# Using merged\n# Before state\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# vyos@vyos:~$\n\n  - name: Merge provided configuration with device configuration\n    vyos.vyos.vyos_bgp_address_family:\n      config:\n        as_number: \"100\"\n        address_family:\n          - afi: \"ipv4\"\n            redistribute:\n              - protocol: \"static\"\n                metric: 50\n        neighbors:\n          - neighbor_address: \"20.33.1.1/24\"\n            address_family:\n              - afi: \"ipv4\"\n                allowas_in: 4\n                as_override: True\n                attribute_unchanged:\n                  med: True\n              - afi: \"ipv6\"\n                default_originate: \"map01\"\n                distribute_list:\n                  - action: \"export\"\n                    acl: 10\n          - neighbor_address: \"100.11.34.12\"\n            address_family:\n              - afi: \"ipv4\"\n                maximum_prefix: 45\n                nexthop_self: True\n                route_map:\n                  - action: \"export\"\n                    route_map: \"map01\"\n                  - action: \"import\"\n                    route_map: \"map01\"\n                weight: 50\n\n# After State:\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate route-map 'map01'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list export '10'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map export 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map import 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast weight '50'\n# vyos@vyos:~$\n#\n# Module Execution:\n#\n# \"after\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true,\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"export\",\n#                                 \"route_map\": \"map01\"\n#                             },\n#                             {\n#                                 \"action\": \"import\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ],\n#                         \"weight\": 50\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"default_originate\": \"map01\",\n#                         \"distribute_list\": [\n#                             {\n#                                 \"acl\": 10,\n#                                 \"action\": \"export\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"before\": {},\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set protocols bgp 100 address-family ipv4-unicast redistribute static metric 50\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number 4\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate route-map map01\",\n#         \"set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list export 10\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix 45\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map export map01\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map import map01\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast weight 50\"\n#     ],\n#\n\n# Using replaced:\n\n# Before state:\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate route-map 'map01'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list export '10'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map export 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map import 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast weight '50'\n# vyos@vyos:~$\n\n  - name: Replace provided configuration with device configuration\n    vyos.vyos.vyos_bgp_address_family:\n      config:\n        as_number: \"100\"\n        neighbors:\n          - neighbor_address: \"100.11.34.12\"\n            address_family:\n              - afi: \"ipv4\"\n                allowas_in: 4\n                as_override: True\n                attribute_unchanged:\n                  med: True\n              - afi: \"ipv6\"\n                default_originate: \"map01\"\n                distribute_list:\n                  - action: \"export\"\n                    acl: 10\n          - neighbor_address: \"20.33.1.1/24\"\n            address_family:\n              - afi: \"ipv6\"\n                maximum_prefix: 45\n                nexthop_self: True\n\n      state: replaced\n\n# After State:\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast default-originate route-map 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast distribute-list export '10'\n# vyos@vyos:~$\n#\n#\n# # Module Execution:\n# \"after\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"default_originate\": \"map01\",\n#                         \"distribute_list\": [\n#                             {\n#                                 \"acl\": 10,\n#                                 \"action\": \"export\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\"\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"before\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true,\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"export\",\n#                                 \"route_map\": \"map01\"\n#                             },\n#                             {\n#                                 \"action\": \"import\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ],\n#                         \"weight\": 50\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"default_originate\": \"map01\",\n#                         \"distribute_list\": [\n#                             {\n#                                 \"acl\": 10,\n#                                 \"action\": \"export\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list\",\n#         \"delete protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate\",\n#         \"delete protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged\",\n#         \"delete protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\",\n#         \"delete protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast weight\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast route-map\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast allowas-in number 4\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast as-override\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast attribute-unchanged med\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv6-unicast default-originate route-map map01\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast distribute-list export 10\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast maximum-prefix 45\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast nexthop-self\"\n#     ],\n\n\n# Using overridden\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast network 35.1.1.0/24 backdoor\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 address-family ipv6-unicast aggregate-address 6601:1:1:1::/64 summary-only\n# set protocols bgp 100 address-family ipv6-unicast network 5001:1:1:1::/64 route-map 'map01'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast default-originate route-map 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast distribute-list export '10'\n# vyos@vyos:~$\n\n  - name: Override\n    vyos.vyos.vyos_bgp_address_family:\n      config:\n        as_number: \"100\"\n        neighbors:\n          - neighbor_address: \"100.11.34.12\"\n            address_family:\n              - afi: \"ipv6\"\n                maximum_prefix: 45\n                nexthop_self: True\n                route_map:\n                  - action: \"import\"\n                    route_map: \"map01\"\n        address_family:\n          - afi: \"ipv4\"\n            aggregate_address:\n              - prefix: \"60.9.2.0/24\"\n                summary_only: True\n          - afi: \"ipv6\"\n            redistribute:\n              - protocol: \"static\"\n                metric: 50\n      state: overridden\n\n# Aft=validate-moduleser State\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast aggregate-address 60.9.2.0/24 summary-only\n# set protocols bgp 100 address-family ipv6-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast route-map import 'map01'\n# vyos@vyos:~$\n\n\n# Module Execution:\n\n# \"after\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"aggregate_address\": [\n#                     {\n#                         \"prefix\": \"60.9.2.0/24\",\n#                         \"summary_only\": true\n#                     }\n#                 ]\n#             },\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\"\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true,\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"import\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             }\n#         ]\n#     },\n#     \"before\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"networks\": [\n#                     {\n#                         \"backdoor\": true,\n#                         \"prefix\": \"35.1.1.0/24\"\n#                     }\n#                 ],\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             },\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"aggregate_address\": [\n#                     {\n#                         \"prefix\": \"6601:1:1:1::/64\",\n#                         \"summary_only\": true\n#                     }\n#                 ],\n#                 \"networks\": [\n#                     {\n#                         \"prefix\": \"5001:1:1:1::/64\",\n#                         \"route_map\": \"map01\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"default_originate\": \"map01\",\n#                         \"distribute_list\": [\n#                             {\n#                                 \"acl\": 10,\n#                                 \"action\": \"export\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\"\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 100 neighbor 20.33.1.1/24 address-family\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv6-unicast distribute-list\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv6-unicast default-originate\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast attribute-unchanged\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast as-override\",\n#         \"delete protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast allowas-in\",\n#         \"delete protocols bgp 100 address-family ipv6 aggregate-address\",\n#         \"delete protocols bgp 100 address-family ipv6 network\",\n#         \"delete protocols bgp 100 address-family ipv4 network\",\n#         \"delete protocols bgp 100 address-family ipv4 redistribute\",\n#         \"set protocols bgp 100 address-family ipv4-unicast aggregate-address 60.9.2.0/24 summary-only\",\n#         \"set protocols bgp 100 address-family ipv6-unicast redistribute static metric 50\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv6-unicast maximum-prefix 45\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv6-unicast nexthop-self\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast route-map import map01\"\n#     ],\n#\n\n# Using deleted:\n\n# Before State:\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast aggregate-address 60.9.2.0/24 summary-only\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 address-family ipv6-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate route-map 'map01'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list export '10'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map export 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map import 'map01'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast weight '50'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast maximum-prefix '45'\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast nexthop-self\n# set protocols bgp 100 neighbor 100.11.34.12 address-family ipv6-unicast route-map import 'map01'\n# vyos@vyos:~$\n\n  - name: Delete\n    vyos.vyos.vyos_bgp_address_family:\n      config:\n        as_number: \"100\"\n        neighbors:\n          - neighbor_address: \"20.33.1.1/24\"\n            address_family:\n              - afi: \"ipv6\"\n          - neighbor_address: \"100.11.34.12\"\n        address_family:\n          - afi: \"ipv4\"\n      state: deleted\n\n\n# After State:\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv6-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 100.11.34.12\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n#\n# \"after\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"before\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"aggregate_address\": [\n#                     {\n#                         \"prefix\": \"60.9.2.0/24\",\n#                         \"summary_only\": true\n#                     }\n#                 ],\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             },\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true,\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"export\",\n#                                 \"route_map\": \"map01\"\n#                             },\n#                             {\n#                                 \"action\": \"import\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ],\n#                         \"weight\": 50\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"maximum_prefix\": 45,\n#                         \"nexthop_self\": true,\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"import\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"100.11.34.12\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     },\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"default_originate\": \"map01\",\n#                         \"distribute_list\": [\n#                             {\n#                                 \"acl\": 10,\n#                                 \"action\": \"export\"\n#                             }\n#                         ]\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 100 address-family ipv4-unicast\",\n#         \"delete protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast\",\n#         \"delete protocols bgp 100 neighbor 100.11.34.12 address-family\"\n#     ],\n#\n\n# using parsed:\n\n# parsed.cfg\n# set protocols bgp 65536 address-family ipv4-unicast aggregate-address 192.0.2.0/24 as-set\n# set protocols bgp 65536 address-family ipv4-unicast network 192.1.13.0/24 route-map 'map01'\n# set protocols bgp 65536 address-family ipv4-unicast network 192.2.13.0/24 backdoor\n# set protocols bgp 65536 address-family ipv6-unicast redistribute ripng metric '20'\n# set protocols bgp 65536 neighbor 192.0.2.25 address-family ipv4-unicast route-map export 'map01'\n# set protocols bgp 65536 neighbor 192.0.2.25 address-family ipv4-unicast soft-reconfiguration inbound\n# set protocols bgp 65536 neighbor 203.0.113.5 address-family ipv6-unicast attribute-unchanged next-hop\n\n\n  - name: parse configs\n    vyos.vyos.vyos_bgp_address_family:\n      running_config: \"{{ lookup('file', './parsed.cfg') }}\"\n      state: parsed\n\n# Module Execution:\n# \"parsed\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"aggregate_address\": [\n#                     {\n#                         \"as_set\": true,\n#                         \"prefix\": \"192.0.2.0/24\"\n#                     }\n#                 ],\n#                 \"networks\": [\n#                     {\n#                         \"prefix\": \"192.1.13.0/24\",\n#                         \"route_map\": \"map01\"\n#                     },\n#                     {\n#                         \"backdoor\": true,\n#                         \"prefix\": \"192.2.13.0/24\"\n#                     }\n#                 ]\n#             },\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 20,\n#                         \"protocol\": \"ripng\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 65536,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"route_map\": [\n#                             {\n#                                 \"action\": \"export\",\n#                                 \"route_map\": \"map01\"\n#                             }\n#                         ],\n#                         \"soft_reconfiguration\": true\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"192.0.2.25\"\n#             },\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv6\",\n#                         \"attribute_unchanged\": {\n#                             \"next_hop\": true\n#                         }\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"203.0.113.5\"\n#             }\n#         ]\n#\n\n# Using gathered:\n\n# Native config:\n\n# vyos@vyos:~$ show configuration commands | match \"set protocols bgp\"\n# set protocols bgp 100 address-family ipv4-unicast network 35.1.1.0/24 backdoor\n# set protocols bgp 100 address-family ipv4-unicast redistribute static metric '50'\n# set protocols bgp 100 address-family ipv6-unicast aggregate-address 6601:1:1:1::/64 summary-only\n# set protocols bgp 100 address-family ipv6-unicast network 5001:1:1:1::/64 route-map 'map01'\n# set protocols bgp 100 address-family ipv6-unicast redistribute static metric '50'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number '4'\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\n# set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\n# set protocols bgp 100 neighbor 100.11.34.12\n\n  - name: gather configs\n    vyos.vyos.vyos_bgp_address_family:\n      state: gathered\n\n# Module Execution:\n\n# \"gathered\": {\n#         \"address_family\": [\n#             {\n#                 \"afi\": \"ipv4\",\n#                 \"networks\": [\n#                     {\n#                         \"backdoor\": true,\n#                         \"prefix\": \"35.1.1.0/24\"\n#                     }\n#                 ],\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             },\n#             {\n#                 \"afi\": \"ipv6\",\n#                 \"aggregate_address\": [\n#                     {\n#                         \"prefix\": \"6601:1:1:1::/64\",\n#                         \"summary_only\": true\n#                     }\n#                 ],\n#                 \"networks\": [\n#                     {\n#                         \"prefix\": \"5001:1:1:1::/64\",\n#                         \"route_map\": \"map01\"\n#                     }\n#                 ],\n#                 \"redistribute\": [\n#                     {\n#                         \"metric\": 50,\n#                         \"protocol\": \"static\"\n#                     }\n#                 ]\n#             }\n#         ],\n#         \"as_number\": 100,\n#         \"neighbors\": [\n#             {\n#                 \"address_family\": [\n#                     {\n#                         \"afi\": \"ipv4\",\n#                         \"allowas_in\": 4,\n#                         \"as_override\": true,\n#                         \"attribute_unchanged\": {\n#                             \"med\": true\n#                         }\n#                     }\n#                 ],\n#                 \"neighbor_address\": \"20.33.1.1/24\"\n#             }\n#         ]\n\n# Using rendered:\n\n  - name: Render\n    vyos.vyos.vyos_bgp_address_family:\n      config:\n        as_number: \"100\"\n        address_family:\n          - afi: \"ipv4\"\n            redistribute:\n              - protocol: \"static\"\n                metric: 50\n        neighbors:\n          - neighbor_address: \"20.33.1.1/24\"\n            address_family:\n              - afi: \"ipv4\"\n                allowas_in: 4\n                as_override: True\n                attribute_unchanged:\n                  med: True\n              - afi: \"ipv6\"\n                default_originate: \"map01\"\n                distribute_list:\n                  - action: \"export\"\n                    acl: 10\n          - neighbor_address: \"100.11.34.12\"\n            address_family:\n              - afi: \"ipv4\"\n                maximum_prefix: 45\n                nexthop_self: True\n                route_map:\n                  - action: \"export\"\n                    route_map: \"map01\"\n                  - action: \"import\"\n                    route_map: \"map01\"\n                weight: 50\n      state: rendered\n\n# Module Execution:\n\n# \"rendered\": [\n#         \"set protocols bgp 100 address-family ipv4-unicast redistribute static metric 50\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast allowas-in number 4\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast as-override\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv4-unicast attribute-unchanged med\",\n#         \"set protocols bgp 100  neighbor 20.33.1.1/24 address-family ipv6-unicast default-originate route-map map01\",\n#         \"set protocols bgp 100 neighbor 20.33.1.1/24 address-family ipv6-unicast distribute-list export 10\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast maximum-prefix 45\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast nexthop-self\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map export map01\",\n#         \"set protocols bgp 100 neighbor 100.11.34.12 address-family ipv4-unicast route-map import map01\",\n#         \"set protocols bgp 100  neighbor 100.11.34.12 address-family ipv4-unicast weight 50\"\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_bgp_global": {
    "doc": {
      "description": "This module manages BGP global configuration of interfaces on devices running VYOS.",
      "has_action": true,
      "options": {
        "config": {
          "aliases": [],
          "description": "A dict of BGP global configuration for interfaces.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "aggregate_address": {
              "aliases": [],
              "description": "BGP aggregate network.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "as_set": {
                  "aliases": [],
                  "description": "Generate AS-set path information for this aggregate address.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "prefix": {
                  "aliases": [],
                  "description": "BGP aggregate network.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "summary_only": {
                  "aliases": [],
                  "description": "Announce the aggregate summary network only.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "as_number": {
              "aliases": [],
              "description": "AS number.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "bgp_params": {
              "aliases": [],
              "description": "BGP parameters",
              "type": "dict",
              "required": false,
              "suboptions": {
                "always_compare_med": {
                  "aliases": [],
                  "description": "Always compare MEDs from different neighbors",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "bestpath": {
                  "aliases": [],
                  "description": "Default bestpath selection mechanism",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "as_path": {
                      "aliases": [],
                      "description": "AS-path attribute comparison parameters",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "confed",
                        "ignore"
                      ],
                      "suboptions": {}
                    },
                    "compare_routerid": {
                      "aliases": [],
                      "description": "Compare the router-id for identical EBGP paths",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "med": {
                      "aliases": [],
                      "description": "MED attribute comparison parameters",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "confed",
                        "missing-as-worst"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "cluster_id": {
                  "aliases": [],
                  "description": "Route-reflector cluster-id",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "confederation": {
                  "aliases": [],
                  "description": "AS confederation parameters",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "identifier": {
                      "aliases": [],
                      "description": "Confederation AS identifier",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "peers": {
                      "aliases": [],
                      "description": "Peer ASs in the BGP confederation",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "dampening": {
                  "aliases": [],
                  "description": "Enable route-flap dampening",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "half_life": {
                      "aliases": [],
                      "description": "Half-life penalty in seconds",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "max_suppress_time": {
                      "aliases": [],
                      "description": "Maximum duration to suppress a stable route",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "re_use": {
                      "aliases": [],
                      "description": "Time to start reusing a route",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "start_suppress_time": {
                      "aliases": [],
                      "description": "When to start suppressing a route",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "default": {
                  "aliases": [],
                  "description": "BGP defaults",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "local_pref": {
                      "aliases": [],
                      "description": "Default local preference",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "no_ipv4_unicast": {
                      "aliases": [],
                      "description": "Deactivate IPv4 unicast for a peer by default",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "deterministic_med": {
                  "aliases": [],
                  "description": "Compare MEDs between different peers in the same AS",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "disable_network_import_check": {
                  "aliases": [],
                  "description": "Disable IGP route check for network statements",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "distance": {
                  "aliases": [],
                  "description": "Administrative distances for BGP routes",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "prefix": {
                      "aliases": [],
                      "description": "Administrative distance for a specific BGP prefix",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "type": {
                      "aliases": [],
                      "description": "Type of route",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "external",
                        "internal",
                        "local"
                      ],
                      "suboptions": {}
                    },
                    "value": {
                      "aliases": [],
                      "description": "distance",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "enforce_first_as": {
                  "aliases": [],
                  "description": "Require first AS in the path to match peer's AS",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "graceful_restart": {
                  "aliases": [],
                  "description": "Maximum time to hold onto restarting peer's stale paths",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "log_neighbor_changes": {
                  "aliases": [],
                  "description": "Log neighbor up/down changes and reset reason",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "no_client_to_client_reflection": {
                  "aliases": [],
                  "description": "Disable client to client route reflection",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "no_fast_external_failover": {
                  "aliases": [],
                  "description": "Disable immediate session reset if peer's connected link goes down",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "router_id": {
                  "aliases": [],
                  "description": "BGP router-id",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "scan_time": {
                  "aliases": [],
                  "description": "BGP route scanner interval",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "maximum_paths": {
              "aliases": [],
              "description": "BGP multipaths",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "count": {
                  "aliases": [],
                  "description": "No. of paths.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "path": {
                  "aliases": [],
                  "description": "BGP multipaths",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "neighbor": {
              "aliases": [],
              "description": "BGP neighbor",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "BGP neighbor address (v4/v6).",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "advertisement_interval": {
                  "aliases": [],
                  "description": "Minimum interval for sending routing updates.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "allowas_in": {
                  "aliases": [],
                  "description": "Number of occurrences of AS number.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "as_override": {
                  "aliases": [],
                  "description": "AS for routes sent to this neighbor to be the local AS.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "attribute_unchanged": {
                  "aliases": [],
                  "description": "BGP attributes are sent unchanged.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "as_path": {
                      "aliases": [],
                      "description": "as_path",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "med": {
                      "aliases": [],
                      "description": "med",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "next_hop": {
                      "aliases": [],
                      "description": "next_hop",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "capability": {
                  "aliases": [],
                  "description": "Advertise capabilities to this neighbor.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "dynamic": {
                      "aliases": [],
                      "description": "Advertise dynamic capability to this neighbor.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "orf": {
                      "aliases": [],
                      "description": "Advertise ORF capability to this neighbor.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "send",
                        "receive"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "default_originate": {
                  "aliases": [],
                  "description": "Send default route to this neighbor",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "description": {
                  "aliases": [],
                  "description": "description text",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "disable_capability_negotiation": {
                  "aliases": [],
                  "description": "Disbale capability negotiation with the neighbor",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "disable_connected_check": {
                  "aliases": [],
                  "description": "Disable check to see if EBGP peer's address is a connected route.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "disable_send_community": {
                  "aliases": [],
                  "description": "Disable sending community attributes to this neighbor.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "extended",
                    "standard"
                  ],
                  "suboptions": {}
                },
                "distribute_list": {
                  "aliases": [],
                  "description": "Access-list to filter route updates to/from this neighbor.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "acl": {
                      "aliases": [],
                      "description": "Access-list number.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "action": {
                      "aliases": [],
                      "description": "Access-list to filter outgoing/incoming route updates to this neighbor",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "export",
                        "import"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "ebgp_multihop": {
                  "aliases": [],
                  "description": "Allow this EBGP neighbor to not be on a directly connected network. Specify the number hops.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "filter_list": {
                  "aliases": [],
                  "description": "As-path-list to filter route updates to/from this neighbor.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "action": {
                      "aliases": [],
                      "description": "filter outgoing/incoming route updates",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "export",
                        "import"
                      ],
                      "suboptions": {}
                    },
                    "path_list": {
                      "aliases": [],
                      "description": "As-path-list to filter",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "local_as": {
                  "aliases": [],
                  "description": "local as number not to be prepended to updates from EBGP peers",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "maximum_prefix": {
                  "aliases": [],
                  "description": "Maximum number of prefixes to accept from this neighbor nexthop-self Nexthop for routes sent to this neighbor to be the local router.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "nexthop_self": {
                  "aliases": [],
                  "description": "Nexthop for routes sent to this neighbor to be the local router.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "override_capability": {
                  "aliases": [],
                  "description": "Ignore capability negotiation with specified neighbor.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "passive": {
                  "aliases": [],
                  "description": "Do not initiate a session with this neighbor",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "password": {
                  "aliases": [],
                  "description": "BGP MD5 password",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "peer_group": {
                  "aliases": [],
                  "description": "True if all the configs under this neighbor key is for peer group template.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "peer_group_name": {
                  "aliases": [],
                  "description": "IPv4 peer group for this peer",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "port": {
                  "aliases": [],
                  "description": "Neighbor's BGP port",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "prefix_list": {
                  "aliases": [],
                  "description": "Prefix-list to filter route updates to/from this neighbor.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "action": {
                      "aliases": [],
                      "description": "filter outgoing/incoming route updates",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "export",
                        "import"
                      ],
                      "suboptions": {}
                    },
                    "prefix_list": {
                      "aliases": [],
                      "description": "Prefix-list to filter",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "remote_as": {
                  "aliases": [],
                  "description": "Neighbor BGP AS number",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "remove_private_as": {
                  "aliases": [],
                  "description": "Remove private AS numbers from AS path in outbound route updates",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "route_map": {
                  "aliases": [],
                  "description": "Route-map to filter route updates to/from this neighbor.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "action": {
                      "aliases": [],
                      "description": "filter outgoing/incoming route updates",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "export",
                        "import"
                      ],
                      "suboptions": {}
                    },
                    "route_map": {
                      "aliases": [],
                      "description": "route-map to filter",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "route_reflector_client": {
                  "aliases": [],
                  "description": "Neighbor as a route reflector client",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "route_server_client": {
                  "aliases": [],
                  "description": "Neighbor is route server client",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "shutdown": {
                  "aliases": [],
                  "description": "Administratively shut down neighbor",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "soft_reconfiguration": {
                  "aliases": [],
                  "description": "Soft reconfiguration for neighbor",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "strict_capability_match": {
                  "aliases": [],
                  "description": "Enable strict capability negotiation",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "timers": {
                  "aliases": [],
                  "description": "Neighbor timers",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "connect": {
                      "aliases": [],
                      "description": "BGP connect timer for this neighbor.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "holdtime": {
                      "aliases": [],
                      "description": "BGP hold timer for this neighbor",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "keepalive": {
                      "aliases": [],
                      "description": "BGP keepalive interval for this neighbor",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "ttl_security": {
                  "aliases": [],
                  "description": "Ttl security mechanism for this BGP peer",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "unsuppress_map": {
                  "aliases": [],
                  "description": "Route-map to selectively unsuppress suppressed routes",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "update_source": {
                  "aliases": [],
                  "description": "Source IP of routing updates",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "weight": {
                  "aliases": [],
                  "description": "Default weight for routes from this neighbor",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "network": {
              "aliases": [],
              "description": "BGP network",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "BGP network address",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "backdoor": {
                  "aliases": [],
                  "description": "Network as a backdoor route",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "route_map": {
                  "aliases": [],
                  "description": "Route-map to modify route attributes",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "redistribute": {
              "aliases": [],
              "description": "Redistribute routes from other protocols into BGP",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "metric": {
                  "aliases": [],
                  "description": "Metric for redistributed routes.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "protocol": {
                  "aliases": [],
                  "description": "types of routes to be redistributed.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "connected",
                    "kernel",
                    "ospf",
                    "rip",
                    "static"
                  ],
                  "suboptions": {}
                },
                "route_map": {
                  "aliases": [],
                  "description": "Route map to filter redistributed routes",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "timers": {
              "aliases": [],
              "description": "BGP protocol timers",
              "type": "dict",
              "required": false,
              "suboptions": {
                "holdtime": {
                  "aliases": [],
                  "description": "Hold time interval",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "keepalive": {
                  "aliases": [],
                  "description": "Keepalive interval",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the EOS device by executing the command B(show running-config | section bgp).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.\nState I(purged) removes all the BGP configurations from the target device. Use caution with this state.('delete protocols bgp <x>')\nState I(deleted) only removes BGP attributes that this modules manages and does not negate the BGP process completely. Thereby, preserving address-family related configurations under BGP context.\nRunning states I(deleted) and I(replaced) will result in an error if there are address-family configuration lines present under neighbor context that is is to be removed. Please use the  M(vyos.vyos.vyos_bgp_address_family) module for prior cleanup.\nRefer to examples for more details.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "deleted",
            "merged",
            "purged",
            "replaced",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "BGP Global Resource Module.",
      "version_added": "2.0.0"
    },
    "examples": "\n# Using merged\n# Before state\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# vyos@vyos:~$\n\n  - name: Merge provided configuration with device configuration\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n        aggregate_address:\n          - prefix: \"203.0.113.0/24\"\n            as_set: true\n          - prefix: \"192.0.2.0/24\"\n            summary_only: true\n        network:\n          - address: \"192.1.13.0/24\"\n            backdoor: true\n        redistribute:\n          - protocol: \"kernel\"\n            metric: 45\n          - protocol: \"connected\"\n            route_map: \"map01\"\n        maximum_paths:\n          - path: \"ebgp\"\n            count: 20\n          - path: \"ibgp\"\n            count: 55\n        timers:\n          keepalive: 35\n        bgp_params:\n          bestpath:\n            as_path: \"confed\"\n            compare_routerid: true\n          default:\n            no_ipv4_unicast: true\n          router_id: \"192.1.2.9\"\n          confederation:\n            - peers: 20\n            - peers: 55\n            - identifier: 66\n        neighbor:\n          - address: \"192.0.2.25\"\n            disable_connected_check: true\n            timers:\n              holdtime: 30\n              keepalive: 10\n          - address: \"203.0.113.5\"\n            attribute_unchanged:\n              as_path: true\n              med: true\n            ebgp_multihop: 2\n            remote_as: 101\n            update_source: \"192.0.2.25\"\n          - address: \"5001::64\"\n            maximum_prefix: 34\n            distribute_list:\n              - acl: 20\n                action: \"export\"\n              - acl: 40\n                action: \"import\"\n\n      state: merged\n\n# After State\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 aggregate-address 192.0.2.0/24 'summary-only'\n# set protocols bgp 65536 aggregate-address 203.0.113.0/24 'as-set'\n# set protocols bgp 65536 maximum-paths ebgp '20'\n# set protocols bgp 65536 maximum-paths ibgp '55'\n# set protocols bgp 65536 neighbor 192.0.2.25 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'as-path'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'med'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'next-hop'\n# set protocols bgp 65536 neighbor 203.0.113.5 ebgp-multihop '2'\n# set protocols bgp 65536 neighbor 203.0.113.5 remote-as '101'\n# set protocols bgp 65536 neighbor 203.0.113.5 update-source '192.0.2.25'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list export '20'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list import '40'\n# set protocols bgp 65536 neighbor 5001::64 maximum-prefix '34'\n# set protocols bgp 65536 network 192.1.13.0/24 'backdoor'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters confederation identifier '66'\n# set protocols bgp 65536 parameters confederation peers '20'\n# set protocols bgp 65536 parameters confederation peers '55'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters router-id '192.1.2.9'\n# set protocols bgp 65536 redistribute connected route-map 'map01'\n# set protocols bgp 65536 redistribute kernel metric '45'\n# set protocols bgp 65536 timers keepalive '35'\n# vyos@vyos:~$\n#\n# # Module Execution:\n#\n# \"after\": {\n#         \"aggregate_address\": [\n#             {\n#                 \"prefix\": \"192.0.2.0/24\",\n#                 \"summary_only\": true\n#             },\n#             {\n#                 \"prefix\": \"203.0.113.0/24\",\n#                 \"as_set\": true\n#             }\n#         ],\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\",\n#                 \"compare_routerid\": true\n#             },\n#             \"confederation\": [\n#                 {\n#                     \"identifier\": 66\n#                 },\n#                 {\n#                     \"peers\": 20\n#                 },\n#                 {\n#                     \"peers\": 55\n#                 }\n#             ],\n#             \"default\": {\n#                 \"no_ipv4_unicast\": true\n#             },\n#             \"router_id\": \"192.1.2.9\"\n#         },\n#         \"maximum_paths\": [\n#             {\n#                 \"count\": 20,\n#                 \"path\": \"ebgp\"\n#             },\n#             {\n#                 \"count\": 55,\n#                 \"path\": \"ibgp\"\n#             }\n#         ],\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.25\",\n#                 \"disable_connected_check\": true,\n#                 \"timers\": {\n#                     \"holdtime\": 30,\n#                     \"keepalive\": 10\n#                 }\n#             },\n#             {\n#                 \"address\": \"203.0.113.5\",\n#                 \"attribute_unchanged\": {\n#                     \"as_path\": true,\n#                     \"med\": true,\n#                     \"next_hop\": true\n#                 },\n#                 \"ebgp_multihop\": 2,\n#                 \"remote_as\": 101,\n#                 \"update_source\": \"192.0.2.25\"\n#             },\n#             {\n#                 \"address\": \"5001::64\",\n#                 \"distribute_list\": [\n#                     {\n#                         \"acl\": 20,\n#                         \"action\": \"export\"\n#                     },\n#                     {\n#                         \"acl\": 40,\n#                         \"action\": \"import\"\n#                     }\n#                 ],\n#                 \"maximum_prefix\": 34\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"192.1.13.0/24\",\n#                 \"backdoor\": true\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"connected\",\n#                 \"route_map\": \"map01\"\n#             },\n#             {\n#                 \"metric\": 45,\n#                 \"protocol\": \"kernel\"\n#             }\n#         ],\n#         \"timers\": {\n#             \"keepalive\": 35\n#         }\n#     },\n#     \"before\": {},\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set protocols bgp 65536 neighbor 192.0.2.25 disable-connected-check\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.25 timers holdtime 30\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.25 timers keepalive 10\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged as-path\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged med\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged next-hop\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 ebgp-multihop 2\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 remote-as 101\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.5 update-source 192.0.2.25\",\n#         \"set protocols bgp 65536 neighbor 5001::64 maximum-prefix 34\",\n#         \"set protocols bgp 65536 neighbor 5001::64 distribute-list export 20\",\n#         \"set protocols bgp 65536 neighbor 5001::64 distribute-list import 40\",\n#         \"set protocols bgp 65536 redistribute kernel metric 45\",\n#         \"set protocols bgp 65536 redistribute connected route-map map01\",\n#         \"set protocols bgp 65536 network 192.1.13.0/24 backdoor\",\n#         \"set protocols bgp 65536 aggregate-address 203.0.113.0/24 as-set\",\n#         \"set protocols bgp 65536 aggregate-address 192.0.2.0/24 summary-only\",\n#         \"set protocols bgp 65536 parameters bestpath as-path confed\",\n#         \"set protocols bgp 65536 parameters bestpath compare-routerid\",\n#         \"set protocols bgp 65536 parameters default no-ipv4-unicast\",\n#         \"set protocols bgp 65536 parameters router-id 192.1.2.9\",\n#         \"set protocols bgp 65536 parameters confederation peers 20\",\n#         \"set protocols bgp 65536 parameters confederation peers 55\",\n#         \"set protocols bgp 65536 parameters confederation identifier 66\",\n#         \"set protocols bgp 65536 maximum-paths ebgp 20\",\n#         \"set protocols bgp 65536 maximum-paths ibgp 55\",\n#         \"set protocols bgp 65536 timers keepalive 35\"\n#     ],\n\n# Using replaced:\n# --------------\n\n# Before state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 aggregate-address 192.0.2.0/24 'summary-only'\n# set protocols bgp 65536 aggregate-address 203.0.113.0/24 'as-set'\n# set protocols bgp 65536 maximum-paths ebgp '20'\n# set protocols bgp 65536 maximum-paths ibgp '55'\n# set protocols bgp 65536 neighbor 192.0.2.25 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'as-path'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'med'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'next-hop'\n# set protocols bgp 65536 neighbor 203.0.113.5 ebgp-multihop '2'\n# set protocols bgp 65536 neighbor 203.0.113.5 remote-as '101'\n# set protocols bgp 65536 neighbor 203.0.113.5 update-source '192.0.2.25'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list export '20'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list import '40'\n# set protocols bgp 65536 neighbor 5001::64 maximum-prefix '34'\n# set protocols bgp 65536 network 192.1.13.0/24 'backdoor'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters confederation identifier '66'\n# set protocols bgp 65536 parameters confederation peers '20'\n# set protocols bgp 65536 parameters confederation peers '55'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters router-id '192.1.2.9'\n# set protocols bgp 65536 redistribute connected route-map 'map01'\n# set protocols bgp 65536 redistribute kernel metric '45'\n# set protocols bgp 65536 timers keepalive '35'\n# vyos@vyos:~$\n\n  - name: Replace\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n        network:\n          - address: \"203.0.113.0/24\"\n            route_map: map01\n        redistribute:\n          - protocol: \"static\"\n            route_map: \"map01\"\n        neighbor:\n          - address: \"192.0.2.40\"\n            advertisement_interval: 72\n            capability:\n              orf: \"receive\"\n        bgp_params:\n          bestpath:\n            as_path: \"confed\"\n\n      state: replaced\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 neighbor 192.0.2.40 advertisement-interval '72'\n# set protocols bgp 65536 neighbor 192.0.2.40 capability orf prefix-list 'receive'\n# set protocols bgp 65536 network 203.0.113.0/24 route-map 'map01'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 redistribute static route-map 'map01'\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n#\n# \"after\": {\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\"\n#             }\n#         },\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.40\",\n#                 \"advertisement_interval\": 72,\n#                 \"capability\": {\n#                     \"orf\": \"receive\"\n#                 }\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"203.0.113.0/24\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"static\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ]\n#     },\n#     \"before\": {\n#         \"aggregate_address\": [\n#             {\n#                 \"prefix\": \"192.0.2.0/24\",\n#                 \"summary_only\": true\n#             },\n#             {\n#                 \"prefix\": \"203.0.113.0/24\",\n#                 \"as_set\": true\n#             }\n#         ],\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\",\n#                 \"compare_routerid\": true\n#             },\n#             \"confederation\": [\n#                 {\n#                     \"identifier\": 66\n#                 },\n#                 {\n#                     \"peers\": 20\n#                 },\n#                 {\n#                     \"peers\": 55\n#                 }\n#             ],\n#             \"default\": {\n#                 \"no_ipv4_unicast\": true\n#             },\n#             \"router_id\": \"192.1.2.9\"\n#         },\n#         \"maximum_paths\": [\n#             {\n#                 \"count\": 20,\n#                 \"path\": \"ebgp\"\n#             },\n#             {\n#                 \"count\": 55,\n#                 \"path\": \"ibgp\"\n#             }\n#         ],\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.25\",\n#                 \"disable_connected_check\": true,\n#                 \"timers\": {\n#                     \"holdtime\": 30,\n#                     \"keepalive\": 10\n#                 }\n#             },\n#             {\n#                 \"address\": \"203.0.113.5\",\n#                 \"attribute_unchanged\": {\n#                     \"as_path\": true,\n#                     \"med\": true,\n#                     \"next_hop\": true\n#                 },\n#                 \"ebgp_multihop\": 2,\n#                 \"remote_as\": 101,\n#                 \"update_source\": \"192.0.2.25\"\n#             },\n#             {\n#                 \"address\": \"5001::64\",\n#                 \"distribute_list\": [\n#                     {\n#                         \"acl\": 20,\n#                         \"action\": \"export\"\n#                     },\n#                     {\n#                         \"acl\": 40,\n#                         \"action\": \"import\"\n#                     }\n#                 ],\n#                 \"maximum_prefix\": 34\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"192.1.13.0/24\",\n#                 \"backdoor\": true\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"connected\",\n#                 \"route_map\": \"map01\"\n#             },\n#             {\n#                 \"metric\": 45,\n#                 \"protocol\": \"kernel\"\n#             }\n#         ],\n#         \"timers\": {\n#             \"keepalive\": 35\n#         }\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 65536 timers\",\n#         \"delete protocols bgp 65536 maximum-paths \",\n#         \"delete protocols bgp 65536 maximum-paths \",\n#         \"delete protocols bgp 65536 parameters router-id 192.1.2.9\",\n#         \"delete protocols bgp 65536 parameters default\",\n#         \"delete protocols bgp 65536 parameters confederation\",\n#         \"delete protocols bgp 65536 parameters bestpath compare-routerid\",\n#         \"delete protocols bgp 65536 aggregate-address\",\n#         \"delete protocols bgp 65536 network 192.1.13.0/24\",\n#         \"delete protocols bgp 65536 redistribute kernel\",\n#         \"delete protocols bgp 65536 redistribute kernel\",\n#         \"delete protocols bgp 65536 redistribute connected\",\n#         \"delete protocols bgp 65536 redistribute connected\",\n#         \"delete protocols bgp 65536 neighbor 5001::64\",\n#         \"delete protocols bgp 65536 neighbor 203.0.113.5\",\n#         \"delete protocols bgp 65536 neighbor 192.0.2.25\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.40 advertisement-interval 72\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.40 capability orf prefix-list receive\",\n#         \"set protocols bgp 65536 redistribute static route-map map01\",\n#         \"set protocols bgp 65536 network 203.0.113.0/24 route-map map01\"\n#     ],\n\n# Using deleted:\n# -------------\n\n# Before state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 neighbor 192.0.2.40 advertisement-interval '72'\n# set protocols bgp 65536 neighbor 192.0.2.40 capability orf prefix-list 'receive'\n# set protocols bgp 65536 network 203.0.113.0/24 route-map 'map01'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 redistribute static route-map 'map01'\n# vyos@vyos:~$\n\n  - name: Delete configuration\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n      state: deleted\n\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp '65536'\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n#\n# \"after\": {\n#         \"as_number\": 65536\n#     },\n#     \"before\": {\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\"\n#             }\n#         },\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.40\",\n#                 \"advertisement_interval\": 72,\n#                 \"capability\": {\n#                     \"orf\": \"receive\"\n#                 }\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"203.0.113.0/24\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"static\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ]\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 65536 neighbor 192.0.2.40\",\n#         \"delete protocols bgp 65536 redistribute\",\n#         \"delete protocols bgp 65536 network\",\n#         \"delete protocols bgp 65536 parameters\"\n#     ],\n\n# Using purged:\n\n# Before state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 aggregate-address 192.0.2.0/24 'summary-only'\n# set protocols bgp 65536 aggregate-address 203.0.113.0/24 'as-set'\n# set protocols bgp 65536 maximum-paths ebgp '20'\n# set protocols bgp 65536 maximum-paths ibgp '55'\n# set protocols bgp 65536 neighbor 192.0.2.25 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.25 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'as-path'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'med'\n# set protocols bgp 65536 neighbor 203.0.113.5 attribute-unchanged 'next-hop'\n# set protocols bgp 65536 neighbor 203.0.113.5 ebgp-multihop '2'\n# set protocols bgp 65536 neighbor 203.0.113.5 remote-as '101'\n# set protocols bgp 65536 neighbor 203.0.113.5 update-source '192.0.2.25'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list export '20'\n# set protocols bgp 65536 neighbor 5001::64 distribute-list import '40'\n# set protocols bgp 65536 neighbor 5001::64 maximum-prefix '34'\n# set protocols bgp 65536 network 192.1.13.0/24 'backdoor'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters confederation identifier '66'\n# set protocols bgp 65536 parameters confederation peers '20'\n# set protocols bgp 65536 parameters confederation peers '55'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters router-id '192.1.2.9'\n# set protocols bgp 65536 redistribute connected route-map 'map01'\n# set protocols bgp 65536 redistribute kernel metric '45'\n# set protocols bgp 65536 timers keepalive '35'\n# vyos@vyos:~$\n\n\n  - name: Purge configuration\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n      state: purged\n\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# vyos@vyos:~$\n#\n# Module Execution:\n#\n#     \"after\": {},\n#     \"before\": {\n#         \"aggregate_address\": [\n#             {\n#                 \"prefix\": \"192.0.2.0/24\",\n#                 \"summary_only\": true\n#             },\n#             {\n#                 \"prefix\": \"203.0.113.0/24\",\n#                 \"as_set\": true\n#             }\n#         ],\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\",\n#                 \"compare_routerid\": true\n#             },\n#             \"confederation\": [\n#                 {\n#                     \"identifier\": 66\n#                 },\n#                 {\n#                     \"peers\": 20\n#                 },\n#                 {\n#                     \"peers\": 55\n#                 }\n#             ],\n#             \"default\": {\n#                 \"no_ipv4_unicast\": true\n#             },\n#             \"router_id\": \"192.1.2.9\"\n#         },\n#         \"maximum_paths\": [\n#             {\n#                 \"count\": 20,\n#                 \"path\": \"ebgp\"\n#             },\n#             {\n#                 \"count\": 55,\n#                 \"path\": \"ibgp\"\n#             }\n#         ],\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.25\",\n#                 \"disable_connected_check\": true,\n#                 \"timers\": {\n#                     \"holdtime\": 30,\n#                     \"keepalive\": 10\n#                 }\n#             },\n#             {\n#                 \"address\": \"203.0.113.5\",\n#                 \"attribute_unchanged\": {\n#                     \"as_path\": true,\n#                     \"med\": true,\n#                     \"next_hop\": true\n#                 },\n#                 \"ebgp_multihop\": 2,\n#                 \"remote_as\": 101,\n#                 \"update_source\": \"192.0.2.25\"\n#             },\n#             {\n#                 \"address\": \"5001::64\",\n#                 \"distribute_list\": [\n#                     {\n#                         \"acl\": 20,\n#                         \"action\": \"export\"\n#                     },\n#                     {\n#                         \"acl\": 40,\n#                         \"action\": \"import\"\n#                     }\n#                 ],\n#                 \"maximum_prefix\": 34\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"192.1.13.0/24\",\n#                 \"backdoor\": true\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"connected\",\n#                 \"route_map\": \"map01\"\n#             },\n#             {\n#                 \"metric\": 45,\n#                 \"protocol\": \"kernel\"\n#             }\n#         ],\n#         \"timers\": {\n#             \"keepalive\": 35\n#         }\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete protocols bgp 65536\"\n#     ],\n\n\n# Deleted in presence of address family under neighbors:\n\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 neighbor 192.0.2.43 advertisement-interval '72'\n# set protocols bgp 65536 neighbor 192.0.2.43 capability 'dynamic'\n# set protocols bgp 65536 neighbor 192.0.2.43 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.0 address-family 'ipv6-unicast'\n# set protocols bgp 65536 neighbor 203.0.113.0 capability orf prefix-list 'receive'\n# set protocols bgp 65536 network 203.0.113.0/24 route-map 'map01'\n# set protocols bgp 65536 parameters 'always-compare-med'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters dampening half-life '33'\n# set protocols bgp 65536 parameters dampening max-suppress-time '20'\n# set protocols bgp 65536 parameters dampening re-use '60'\n# set protocols bgp 65536 parameters dampening start-suppress-time '5'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters distance global external '66'\n# set protocols bgp 65536 parameters distance global internal '20'\n# set protocols bgp 65536 parameters distance global local '10'\n# set protocols bgp 65536 redistribute static route-map 'map01'\n# vyos@vyos:~$ ^C\n# vyos@vyos:~$\n\n\n  - name: Delete configuration\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n      state: deleted\n\n# Module Execution:\n#\n# \"changed\": false,\n#     \"invocation\": {\n#         \"module_args\": {\n#             \"config\": {\n#                 \"aggregate_address\": null,\n#                 \"as_number\": 65536,\n#                 \"bgp_params\": null,\n#                 \"maximum_paths\": null,\n#                 \"neighbor\": null,\n#                 \"network\": null,\n#                 \"redistribute\": null,\n#                 \"timers\": null\n#             },\n#             \"running_config\": null,\n#             \"state\": \"deleted\"\n#         }\n#     },\n#     \"msg\": \"Use the _bgp_address_family module to delete the address_family under neighbor 203.0.113.0, before replacing/deleting the neighbor.\"\n# }\n\n# using gathered:\n# --------------\n\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set protocols bgp\"\n# set protocols bgp 65536 neighbor 192.0.2.43 advertisement-interval '72'\n# set protocols bgp 65536 neighbor 192.0.2.43 capability 'dynamic'\n# set protocols bgp 65536 neighbor 192.0.2.43 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.0 address-family 'ipv6-unicast'\n# set protocols bgp 65536 neighbor 203.0.113.0 capability orf prefix-list 'receive'\n# set protocols bgp 65536 network 203.0.113.0/24 route-map 'map01'\n# set protocols bgp 65536 parameters 'always-compare-med'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters dampening half-life '33'\n# set protocols bgp 65536 parameters dampening max-suppress-time '20'\n# set protocols bgp 65536 parameters dampening re-use '60'\n# set protocols bgp 65536 parameters dampening start-suppress-time '5'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters distance global external '66'\n# set protocols bgp 65536 parameters distance global internal '20'\n# set protocols bgp 65536 parameters distance global local '10'\n# set protocols bgp 65536 redistribute static route-map 'map01'\n# vyos@vyos:~$ ^C\n\n  - name: gather configs\n    vyos.vyos.vyos_bgp_global:\n      state: gathered\n\n# Module Execution:\n# \"gathered\": {\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"always_compare_med\": true,\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\",\n#                 \"compare_routerid\": true\n#             },\n#             \"default\": {\n#                 \"no_ipv4_unicast\": true\n#             },\n#             \"distance\": [\n#                 {\n#                     \"type\": \"external\",\n#                     \"value\": 66\n#                 },\n#                 {\n#                     \"type\": \"internal\",\n#                     \"value\": 20\n#                 },\n#                 {\n#                     \"type\": \"local\",\n#                     \"value\": 10\n#                 }\n#             ]\n#         },\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.43\",\n#                 \"advertisement_interval\": 72,\n#                 \"capability\": {\n#                     \"dynamic\": true\n#                 },\n#                 \"disable_connected_check\": true,\n#                 \"timers\": {\n#                     \"holdtime\": 30,\n#                     \"keepalive\": 10\n#                 }\n#             },\n#             {\n#                 \"address\": \"203.0.113.0\",\n#                 \"capability\": {\n#                     \"orf\": \"receive\"\n#                 }\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"203.0.113.0/24\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"static\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ]\n#     },\n#\n\n# Using parsed:\n# ------------\n\n# parsed.cfg\n\n# set protocols bgp 65536 neighbor 192.0.2.43 advertisement-interval '72'\n# set protocols bgp 65536 neighbor 192.0.2.43 capability 'dynamic'\n# set protocols bgp 65536 neighbor 192.0.2.43 'disable-connected-check'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers holdtime '30'\n# set protocols bgp 65536 neighbor 192.0.2.43 timers keepalive '10'\n# set protocols bgp 65536 neighbor 203.0.113.0 address-family 'ipv6-unicast'\n# set protocols bgp 65536 neighbor 203.0.113.0 capability orf prefix-list 'receive'\n# set protocols bgp 65536 network 203.0.113.0/24 route-map 'map01'\n# set protocols bgp 65536 parameters 'always-compare-med'\n# set protocols bgp 65536 parameters bestpath as-path 'confed'\n# set protocols bgp 65536 parameters bestpath 'compare-routerid'\n# set protocols bgp 65536 parameters dampening half-life '33'\n# set protocols bgp 65536 parameters dampening max-suppress-time '20'\n# set protocols bgp 65536 parameters dampening re-use '60'\n# set protocols bgp 65536 parameters dampening start-suppress-time '5'\n# set protocols bgp 65536 parameters default 'no-ipv4-unicast'\n# set protocols bgp 65536 parameters distance global external '66'\n# set protocols bgp 65536 parameters distance global internal '20'\n# set protocols bgp 65536 parameters distance global local '10'\n# set protocols bgp 65536 redistribute static route-map 'map01'\n\n  - name: parse configs\n    vyos.vyos.vyos_bgp_global:\n      running_config: \"{{ lookup('file', './parsed.cfg') }}\"\n      state: parsed\n    tags:\n      - parsed\n\n# Module execution:\n# \"parsed\": {\n#         \"as_number\": 65536,\n#         \"bgp_params\": {\n#             \"always_compare_med\": true,\n#             \"bestpath\": {\n#                 \"as_path\": \"confed\",\n#                 \"compare_routerid\": true\n#             },\n#             \"default\": {\n#                 \"no_ipv4_unicast\": true\n#             },\n#             \"distance\": [\n#                 {\n#                     \"type\": \"external\",\n#                     \"value\": 66\n#                 },\n#                 {\n#                     \"type\": \"internal\",\n#                     \"value\": 20\n#                 },\n#                 {\n#                     \"type\": \"local\",\n#                     \"value\": 10\n#                 }\n#             ]\n#         },\n#         \"neighbor\": [\n#             {\n#                 \"address\": \"192.0.2.43\",\n#                 \"advertisement_interval\": 72,\n#                 \"capability\": {\n#                     \"dynamic\": true\n#                 },\n#                 \"disable_connected_check\": true,\n#                 \"timers\": {\n#                     \"holdtime\": 30,\n#                     \"keepalive\": 10\n#                 }\n#             },\n#             {\n#                 \"address\": \"203.0.113.0\",\n#                 \"capability\": {\n#                     \"orf\": \"receive\"\n#                 }\n#             }\n#         ],\n#         \"network\": [\n#             {\n#                 \"address\": \"203.0.113.0/24\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ],\n#         \"redistribute\": [\n#             {\n#                 \"protocol\": \"static\",\n#                 \"route_map\": \"map01\"\n#             }\n#         ]\n#     }\n#\n\n# Using rendered:\n# --------------\n\n  - name: Render\n    vyos.vyos.vyos_bgp_global:\n      config:\n        as_number: \"65536\"\n        network:\n          - address: \"203.0.113.0/24\"\n            route_map: map01\n        redistribute:\n          - protocol: \"static\"\n            route_map: \"map01\"\n        bgp_params:\n          always_compare_med: true\n          dampening:\n            start_suppress_time: 5\n            max_suppress_time: 20\n            half_life: 33\n            re_use: 60\n          distance:\n            - type: \"internal\"\n              value: 20\n            - type: \"local\"\n              value: 10\n            - type: \"external\"\n              value: 66\n          bestpath:\n            as_path: \"confed\"\n            compare_routerid: true\n          default:\n            no_ipv4_unicast: true\n        neighbor:\n          - address: \"192.0.2.43\"\n            disable_connected_check: true\n            advertisement_interval: 72\n            capability:\n              dynamic: true\n            timers:\n              holdtime: 30\n              keepalive: 10\n          - address: \"203.0.113.0\"\n            capability:\n              orf: \"receive\"\n\n      state: rendered\n\n# Module Execution:\n# \"rendered\": [\n#         \"set protocols bgp 65536 neighbor 192.0.2.43 disable-connected-check\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.43 advertisement-interval 72\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.43 capability dynamic\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.43 timers holdtime 30\",\n#         \"set protocols bgp 65536 neighbor 192.0.2.43 timers keepalive 10\",\n#         \"set protocols bgp 65536 neighbor 203.0.113.0 capability orf prefix-list receive\",\n#         \"set protocols bgp 65536 redistribute static route-map map01\",\n#         \"set protocols bgp 65536 network 203.0.113.0/24 route-map map01\",\n#         \"set protocols bgp 65536 parameters always-compare-med\",\n#         \"set protocols bgp 65536 parameters dampening half-life 33\",\n#         \"set protocols bgp 65536 parameters dampening max-suppress-time 20\",\n#         \"set protocols bgp 65536 parameters dampening re-use 60\",\n#         \"set protocols bgp 65536 parameters dampening start-suppress-time 5\",\n#         \"set protocols bgp 65536 parameters distance global internal 20\",\n#         \"set protocols bgp 65536 parameters distance global local 10\",\n#         \"set protocols bgp 65536 parameters distance global external 66\",\n#         \"set protocols bgp 65536 parameters bestpath as-path confed\",\n#         \"set protocols bgp 65536 parameters bestpath compare-routerid\",\n#         \"set protocols bgp 65536 parameters default no-ipv4-unicast\"\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_command": {
    "doc": {
      "description": "The command module allows running one or more commands on remote devices running VyOS.  This module can also be introspected to validate key parameters before returning successfully.  If the conditional statements are not met in the wait period, the task fails.\nCertain C(show) commands in VyOS produce many lines of output and use a custom pager that can cause this module to hang.  If the value of the environment variable C(ANSIBLE_VYOS_TERMINAL_LENGTH) is not set, the default number of 10000 is used.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nRunning C(show system boot-messages all) will cause the module to hang since VyOS is using a custom pager setting to display the output of that command.\nIf a command sent to the device requires answering a prompt, it is possible to pass a dict containing I(command), I(answer) and I(prompt). See examples.\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "commands": {
          "aliases": [],
          "description": "The ordered set of commands to execute on the remote device running VyOS.  The output from the command execution is returned to the playbook.  If the I(wait_for) argument is provided, the module is not returned until the condition is satisfied or the number of retries has been exceeded.\nIf a command sent to the device requires answering a prompt, it is possible to pass a dict containing command, answer and prompt. Common answers are 'y' or \"\\r\" (carriage return, must be double quotes). Refer below examples.",
          "type": "list",
          "required": true,
          "elements": "raw",
          "suboptions": {}
        },
        "interval": {
          "aliases": [],
          "description": "Configures the interval in seconds to wait between I(retries) of the command. If the command does not pass the specified conditions, the interval indicates how long to wait before trying the command again.",
          "default": "1",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "match": {
          "aliases": [],
          "description": "The I(match) argument is used in conjunction with the I(wait_for) argument to specify the match policy. Valid values are C(all) or C(any).  If the value is set to C(all) then all conditionals in the wait_for must be satisfied.  If the value is set to C(any) then only one of the values must be satisfied.",
          "default": "all",
          "type": "str",
          "required": false,
          "choices": [
            "any",
            "all"
          ],
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "retries": {
          "aliases": [],
          "description": "Specifies the number of retries a command should be tried before it is considered failed. The command is run on the target device every retry and evaluated against the I(wait_for) conditionals.",
          "default": "10",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "wait_for": {
          "aliases": [
            "waitfor"
          ],
          "description": "Specifies what to evaluate from the output of the command and what conditionals to apply.  This argument will cause the task to wait for a particular conditional to be true before moving forward.  If the conditional is not true by the configured I(retries), the task fails. See examples.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        }
      },
      "short_description": "Run one or more commands on VyOS devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: show configuration on ethernet devices eth0 and eth1\n  vyos.vyos.vyos_command:\n    commands:\n    - show interfaces ethernet {{ item }}\n  with_items:\n  - eth0\n  - eth1\n\n- name: run multiple commands and check if version output contains specific version\n    string\n  vyos.vyos.vyos_command:\n    commands:\n    - show version\n    - show hardware cpu\n    wait_for:\n    - result[0] contains 'VyOS 1.1.7'\n\n- name: run command that requires answering a prompt\n  vyos.vyos.vyos_command:\n    commands:\n    - command: rollback 1\n      prompt: Proceed with reboot? [confirm][y]\n      answer: y\n"
  },
  "vyos.vyos.vyos_config": {
    "doc": {
      "description": "This module provides configuration file management of VyOS devices. It provides arguments for managing both the configuration file and state of the active configuration. All configuration statements are based on `set` and `delete` commands in the device configuration.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nTo ensure idempotency and correct diff the configuration lines in the relevant module options should be similar to how they appear if present in the running configuration on device including the indentation.\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "backup": {
          "aliases": [],
          "description": "The C(backup) argument will backup the current devices active configuration to the Ansible control host prior to making any changes. If the C(backup_options) value is not given, the backup file will be located in the backup folder in the playbook root directory or role root directory, if playbook is part of an ansible role. If the directory does not exist, it is created.",
          "default": "False",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "backup_options": {
          "aliases": [],
          "description": "This is a dict object containing configurable options related to backup file path. The value of this option is read only when C(backup) is set to I(yes), if C(backup) is set to I(no) this option will be silently ignored.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "dir_path": {
              "aliases": [],
              "description": "This option provides the path ending with directory name in which the backup configuration file will be stored. If the directory does not exist it will be first created and the filename is either the value of C(filename) or default filename as described in C(filename) options description. If the path value is not given in that case a I(backup) directory will be created in the current working directory and backup configuration will be copied in C(filename) within I(backup) directory.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "filename": {
              "aliases": [],
              "description": "The filename to be used to store the backup configuration. If the filename is not given it will be generated based on the hostname, current time and date in format defined by <hostname>_config.<current-date>@<current-time>",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "comment": {
          "aliases": [],
          "description": "Allows a commit description to be specified to be included when the configuration is committed.  If the configuration is not changed or committed, this argument is ignored.",
          "default": "configured by vyos_config",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "config": {
          "aliases": [],
          "description": "The C(config) argument specifies the base configuration to use to compare against the desired configuration.  If this value is not specified, the module will automatically retrieve the current active configuration from the remote device. The configuration lines in the option value should be similar to how it will appear if present in the running-configuration of the device including indentation to ensure idempotency and correct diff.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "lines": {
          "aliases": [],
          "description": "The ordered set of commands that should be configured in the section. The commands must be the exact same commands as found in the device running-config as found in the device running-config to ensure idempotency and correct diff. Be sure to note the configuration command syntax as some commands are automatically modified by the device config parser.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "match": {
          "aliases": [],
          "description": "The C(match) argument controls the method used to match against the current active configuration.  By default, the desired config is matched against the active config and the deltas are loaded.  If the C(match) argument is set to C(none) the active configuration is ignored and the configuration is always loaded.",
          "default": "line",
          "type": "str",
          "required": false,
          "choices": [
            "line",
            "none"
          ],
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "save": {
          "aliases": [],
          "description": "The C(save) argument controls whether or not changes made to the active configuration are saved to disk.  This is independent of committing the config.  When set to True, the active configuration is saved.",
          "default": "False",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "src": {
          "aliases": [],
          "description": "The C(src) argument specifies the path to the source config file to load.  The source config file can either be in bracket format or set format.  The source file can include Jinja2 template variables. The configuration lines in the source file should be similar to how it will appear if present in the running-configuration of the device including indentation to ensure idempotency and correct diff.",
          "type": "path",
          "required": false,
          "suboptions": {}
        }
      },
      "short_description": "Manage VyOS configuration on remote device",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure the remote device\n  vyos.vyos.vyos_config:\n    lines:\n    - set system host-name {{ inventory_hostname }}\n    - set service lldp\n    - delete service dhcp-server\n\n- name: backup and load from file\n  vyos.vyos.vyos_config:\n    src: vyos.cfg\n    backup: yes\n\n- name: render a Jinja2 template onto the VyOS router\n  vyos.vyos.vyos_config:\n    src: vyos_template.j2\n\n- name: for idempotency, use full-form commands\n  vyos.vyos.vyos_config:\n    lines:\n      # - set int eth eth2 description 'OUTSIDE'\n    - set interface ethernet eth2 description 'OUTSIDE'\n\n- name: configurable backup path\n  vyos.vyos.vyos_config:\n    backup: yes\n    backup_options:\n      filename: backup.cfg\n      dir_path: /home/user\n"
  },
  "vyos.vyos.vyos_facts": {
    "doc": {
      "description": "Collects facts from network devices running the vyos operating system. This module places the facts gathered in the fact tree keyed by the respective resource name.  The facts module will always collect a base set of facts from the device and can enable or disable collection of additional facts.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "available_network_resources": {
          "aliases": [],
          "description": "When 'True' a list of network resources for which resource modules are available will be provided.",
          "default": "False",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "gather_network_resources": {
          "aliases": [],
          "description": "When supplied, this argument will restrict the facts collected to a given subset. Possible values for this argument include all and the resources like interfaces. Can specify a list of values to include a larger subset. Values can also be used with an initial C(!) to specify that a specific subset should not be collected. Valid subsets are 'all', 'interfaces', 'l3_interfaces', 'lag_interfaces', 'lldp_global', 'lldp_interfaces', 'static_routes', 'firewall_rules', 'firewall_global', 'firewall_interfaces', 'ospfv3', 'ospfv2'.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "gather_subset": {
          "aliases": [],
          "description": "When supplied, this argument will restrict the facts collected to a given subset.  Possible values for this argument include all, default, config, and neighbors. Can specify a list of values to include a larger subset. Values can also be used with an initial C(!) to specify that a specific subset should not be collected.",
          "default": "!config",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        }
      },
      "short_description": "Get facts about vyos devices.",
      "version_added": "1.0.0"
    },
    "examples": "\n# Gather all facts\n- vyos.vyos.vyos_facts:\n    gather_subset: all\n    gather_network_resources: all\n\n# collect only the config and default facts\n- vyos.vyos.vyos_facts:\n    gather_subset: config\n\n# collect everything exception the config\n- vyos.vyos.vyos_facts:\n    gather_subset: '!config'\n\n# Collect only the interfaces facts\n- vyos.vyos.vyos_facts:\n    gather_subset:\n    - '!all'\n    - '!min'\n    gather_network_resources:\n    - interfaces\n\n# Do not collect interfaces facts\n- vyos.vyos.vyos_facts:\n    gather_network_resources:\n    - '!interfaces'\n\n# Collect interfaces and minimal default facts\n- vyos.vyos.vyos_facts:\n    gather_subset: min\n    gather_network_resources: interfaces\n"
  },
  "vyos.vyos.vyos_firewall_global": {
    "doc": {
      "description": "This module manage global policies or configurations for firewall on VyOS devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A dictionary of Firewall global configuration options.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "config_trap": {
              "aliases": [],
              "description": "SNMP trap generation on firewall configuration changes.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "group": {
              "aliases": [],
              "description": "Defines a group of objects for referencing in firewall rules.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "address_group": {
                  "aliases": [],
                  "description": "Defines a group of IP addresses for referencing in firewall rules.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "afi": {
                      "aliases": [],
                      "description": "Specifies IP address type",
                      "default": "ipv4",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ipv4",
                        "ipv6"
                      ],
                      "suboptions": {}
                    },
                    "description": {
                      "aliases": [],
                      "description": "Allows you to specify a brief description for the address group.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "members": {
                      "aliases": [],
                      "description": "Address-group members.\nIPv4 address to match.\nIPv4 range to match.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "IP address.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "name": {
                      "aliases": [],
                      "description": "Name of the firewall address group.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "network_group": {
                  "aliases": [],
                  "description": "Defines a group of networks for referencing in firewall rules.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "afi": {
                      "aliases": [],
                      "description": "Specifies network address type",
                      "default": "ipv4",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ipv4",
                        "ipv6"
                      ],
                      "suboptions": {}
                    },
                    "description": {
                      "aliases": [],
                      "description": "Allows you to specify a brief description for the network group.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "members": {
                      "aliases": [],
                      "description": "Adds an IPv4 network to the specified network group.\nThe format is ip-address/prefix.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "IP address.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "name": {
                      "aliases": [],
                      "description": "Name of the firewall network group.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "port_group": {
                  "aliases": [],
                  "description": "Defines a group of ports for referencing in firewall rules.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "description": {
                      "aliases": [],
                      "description": "Allows you to specify a brief description for the port group.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "members": {
                      "aliases": [],
                      "description": "Port-group member.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "port": {
                          "aliases": [],
                          "description": "Defines the number.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "name": {
                      "aliases": [],
                      "description": "Name of the firewall port group.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "log_martians": {
              "aliases": [],
              "description": "Specifies whether or not to record packets with invalid addresses in the log.\n(True) Logs packets with invalid addresses.\n(False) Does not log packets with invalid addresses.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "ping": {
              "aliases": [],
              "description": "Policy for handling of all IPv4 ICMP echo requests.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "all": {
                  "aliases": [],
                  "description": "Enables or disables response to all IPv4 ICMP Echo Request (ping) messages.\nThe system responds to IPv4 ICMP Echo Request messages.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "broadcast": {
                  "aliases": [],
                  "description": "Enables or disables response to broadcast IPv4 ICMP Echo Request and Timestamp Request messages.\nIPv4 ICMP Echo and Timestamp Request messages are not processed.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "route_redirects": {
              "aliases": [],
              "description": "-A dictionary of Firewall icmp redirect and source route global configuration options.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "afi": {
                  "aliases": [],
                  "description": "Specifies IP address type",
                  "type": "str",
                  "required": true,
                  "choices": [
                    "ipv4",
                    "ipv6"
                  ],
                  "suboptions": {}
                },
                "icmp_redirects": {
                  "aliases": [],
                  "description": "Specifies whether to allow sending/receiving of IPv4/v6 ICMP redirect messages.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "receive": {
                      "aliases": [],
                      "description": "Permits or denies receiving packets ICMP redirect messages.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "send": {
                      "aliases": [],
                      "description": "Permits or denies transmitting packets ICMP redirect messages.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "ip_src_route": {
                  "aliases": [],
                  "description": "Specifies whether or not to process source route IP options.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "state_policy": {
              "aliases": [],
              "description": "Specifies global firewall state-policy.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "action": {
                  "aliases": [],
                  "description": "Action for packets part of an established connection.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "accept",
                    "drop",
                    "reject"
                  ],
                  "suboptions": {}
                },
                "connection_type": {
                  "aliases": [],
                  "description": "Specifies connection type.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "established",
                    "invalid",
                    "related"
                  ],
                  "suboptions": {}
                },
                "log": {
                  "aliases": [],
                  "description": "Enable logging of packets part of an established connection.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "syn_cookies": {
              "aliases": [],
              "description": "Specifies policy for using TCP SYN cookies with IPv4.\n(True) Enables TCP SYN cookies with IPv4.\n(False) Disables TCP SYN cookies with IPv4.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "twa_hazards_protection": {
              "aliases": [],
              "description": "RFC1337 TCP TIME-WAIT assassination hazards protection.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "validation": {
              "aliases": [],
              "description": "Specifies a policy for source validation by reversed path, as defined in RFC 3704.\n(disable) No source validation is performed.\n(loose) Enable Loose Reverse Path Forwarding as defined in RFC3704.\n(strict) Enable Strict Reverse Path Forwarding as defined in RFC3704.",
              "type": "str",
              "required": false,
              "choices": [
                "strict",
                "loose",
                "disable"
              ],
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "The module, by default, will connect to the remote device and retrieve the current running-config to use as a base for comparing against the contents of source. There are times when it is not desirable to have the task get the current running-config for every task in a playbook.  The I(running_config) argument allows the implementer to pass in the configuration to use as the base config for comparison. This value of this option should be the output received from device by executing command C(show configuration commands | grep 'firewall')",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "deleted",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "FIREWALL global resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos# run show  configuration commands | grep firewall\n#\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_firewall_global:\n    config:\n      validation: strict\n      config_trap: true\n      log_martians: true\n      syn_cookies: true\n      twa_hazards_protection: true\n      ping:\n        all: true\n        broadcast: true\n      state_policy:\n      - connection_type: established\n        action: accept\n        log: true\n      - connection_type: invalid\n        action: reject\n      route_redirects:\n      - afi: ipv4\n        ip_src_route: true\n        icmp_redirects:\n          send: true\n          receive: false\n      group:\n        address_group:\n        - name: MGMT-HOSTS\n          description: This group has the Management hosts address list\n          members:\n          - address: 192.0.1.1\n          - address: 192.0.1.3\n          - address: 192.0.1.5\n        network_group:\n        - name: MGMT\n          description: This group has the Management network addresses\n          members:\n          - address: 192.0.1.0/24\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": []\n#\n#    \"commands\": [\n#        \"set firewall group address-group MGMT-HOSTS address 192.0.1.1\",\n#        \"set firewall group address-group MGMT-HOSTS address 192.0.1.3\",\n#        \"set firewall group address-group MGMT-HOSTS address 192.0.1.5\",\n#        \"set firewall group address-group MGMT-HOSTS description 'This group has the Management hosts address list'\",\n#        \"set firewall group address-group MGMT-HOSTS\",\n#        \"set firewall group network-group MGMT network 192.0.1.0/24\",\n#        \"set firewall group network-group MGMT description 'This group has the Management network addresses'\",\n#        \"set firewall group network-group MGMT\",\n#        \"set firewall ip-src-route 'enable'\",\n#        \"set firewall receive-redirects 'disable'\",\n#        \"set firewall send-redirects 'enable'\",\n#        \"set firewall config-trap 'enable'\",\n#        \"set firewall state-policy established action 'accept'\",\n#        \"set firewall state-policy established log 'enable'\",\n#        \"set firewall state-policy invalid action 'reject'\",\n#        \"set firewall broadcast-ping 'enable'\",\n#        \"set firewall all-ping 'enable'\",\n#        \"set firewall log-martians 'enable'\",\n#        \"set firewall twa-hazards-protection 'enable'\",\n#        \"set firewall syn-cookies 'enable'\",\n#        \"set firewall source-validation 'strict'\"\n#    ]\n#\n# \"after\": {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"This group has the Management hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.3\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.5\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.1'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.3'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.5'\n# set firewall group address-group MGMT-HOSTS description 'This group has the Management hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n#\n#\n# Using parsed\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_firewall_global:\n    running_config:\n      \"set firewall all-ping 'enable'\n       set firewall broadcast-ping 'enable'\n       set firewall config-trap 'enable'\n       set firewall group address-group ENG-HOSTS address '192.0.3.1'\n       set firewall group address-group ENG-HOSTS address '192.0.3.2'\n       set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\n       set firewall group address-group SALES-HOSTS address '192.0.2.1'\n       set firewall group address-group SALES-HOSTS address '192.0.2.2'\n       set firewall group address-group SALES-HOSTS address '192.0.2.3'\n       set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\n       set firewall group network-group MGMT description 'This group has the Management network addresses'\n       set firewall group network-group MGMT network '192.0.1.0/24'\n       set firewall ip-src-route 'enable'\n       set firewall log-martians 'enable'\n       set firewall receive-redirects 'disable'\n       set firewall send-redirects 'enable'\n       set firewall source-validation 'strict'\n       set firewall state-policy established action 'accept'\n       set firewall state-policy established log 'enable'\n       set firewall state-policy invalid action 'reject'\n       set firewall syn-cookies 'enable'\n       set firewall twa-hazards-protection 'enable'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.3.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.3.2\"\n#                        }\n#                    ],\n#                    \"name\": \"ENG-HOSTS\"\n#                },\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.2.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.2\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.3\"\n#                        }\n#                    ],\n#                    \"name\": \"SALES-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n# }\n#\n#\n# Using deleted\n#\n# Before state\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.1'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.3'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.5'\n# set firewall group address-group MGMT-HOSTS description 'This group has the Management hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n- name: Delete attributes of firewall.\n  vyos.vyos.vyos_firewall_global:\n    config:\n      state_policy:\n      config_trap:\n      log_martians:\n      syn_cookies:\n      twa_hazards_protection:\n      route_redirects:\n      ping:\n      group:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"This group has the Management hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.3\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.5\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n# \"commands\": [\n#        \"delete firewall source-validation\",\n#        \"delete firewall group\",\n#        \"delete firewall log-martians\",\n#        \"delete firewall ip-src-route\",\n#        \"delete firewall receive-redirects\",\n#        \"delete firewall send-redirects\",\n#        \"delete firewall config-trap\",\n#        \"delete firewall state-policy\",\n#        \"delete firewall syn-cookies\",\n#        \"delete firewall broadcast-ping\",\n#        \"delete firewall all-ping\",\n#        \"delete firewall twa-hazards-protection\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@192# run show configuration commands | grep firewall\n# set  'firewall'\n#\n#\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.1'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.3'\n# set firewall group address-group MGMT-HOSTS address '192.0.1.5'\n# set firewall group address-group MGMT-HOSTS description 'This group has the Management hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n#\n- name: Replace firewall global attributes configuration.\n  vyos.vyos.vyos_firewall_global:\n    config:\n      validation: strict\n      config_trap: true\n      log_martians: true\n      syn_cookies: true\n      twa_hazards_protection: true\n      ping:\n      all: true\n      broadcast: true\n      state_policy:\n      - connection_type: established\n        action: accept\n        log: true\n      - connection_type: invalid\n        action: reject\n      route_redirects:\n      - afi: ipv4\n        ip_src_route: true\n        icmp_redirects:\n          send: true\n          receive: false\n      group:\n        address_group:\n        - name: SALES-HOSTS\n          description: Sales office hosts address list\n          members:\n          - address: 192.0.2.1\n          - address: 192.0.2.2\n          - address: 192.0.2.3\n        - name: ENG-HOSTS\n          description: Sales office hosts address list\n          members:\n          - address: 192.0.3.1\n          - address: 192.0.3.2\n        network_group:\n        - name: MGMT\n          description: This group has the Management network addresses\n          members:\n          - address: 192.0.1.0/24\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"This group has the Management hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.3\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.1.5\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n#\n# \"commands\": [\n#        \"delete firewall group address-group MGMT-HOSTS\",\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.1\",\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.2\",\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.3\",\n#        \"set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\",\n#        \"set firewall group address-group SALES-HOSTS\",\n#        \"set firewall group address-group ENG-HOSTS address 192.0.3.1\",\n#        \"set firewall group address-group ENG-HOSTS address 192.0.3.2\",\n#        \"set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\",\n#        \"set firewall group address-group ENG-HOSTS\"\n#    ]\n#\n#    \"after\": {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.3.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.3.2\"\n#                        }\n#                    ],\n#                    \"name\": \"ENG-HOSTS\"\n#                },\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.2.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.2\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.3\"\n#                        }\n#                    ],\n#                   \"name\": \"SALES-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group ENG-HOSTS address '192.0.3.1'\n# set firewall group address-group ENG-HOSTS address '192.0.3.2'\n# set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\n# set firewall group address-group SALES-HOSTS address '192.0.2.1'\n# set firewall group address-group SALES-HOSTS address '192.0.2.2'\n# set firewall group address-group SALES-HOSTS address '192.0.2.3'\n# set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n#\n#\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group ENG-HOSTS address '192.0.3.1'\n# set firewall group address-group ENG-HOSTS address '192.0.3.2'\n# set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\n# set firewall group address-group SALES-HOSTS address '192.0.2.1'\n# set firewall group address-group SALES-HOSTS address '192.0.2.2'\n# set firewall group address-group SALES-HOSTS address '192.0.2.3'\n# set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n#\n- name: Gather firewall global config with provided configurations\n  vyos.vyos.vyos_firewall_global:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n# {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.3.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.3.2\"\n#                        }\n#                    ],\n#                    \"name\": \"ENG-HOSTS\"\n#                },\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.2.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.2\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.3\"\n#                        }\n#                    ],\n#                    \"name\": \"SALES-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall all-ping 'enable'\n# set firewall broadcast-ping 'enable'\n# set firewall config-trap 'enable'\n# set firewall group address-group ENG-HOSTS address '192.0.3.1'\n# set firewall group address-group ENG-HOSTS address '192.0.3.2'\n# set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\n# set firewall group address-group SALES-HOSTS address '192.0.2.1'\n# set firewall group address-group SALES-HOSTS address '192.0.2.2'\n# set firewall group address-group SALES-HOSTS address '192.0.2.3'\n# set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\n# set firewall group network-group MGMT description 'This group has the Management network addresses'\n# set firewall group network-group MGMT network '192.0.1.0/24'\n# set firewall ip-src-route 'enable'\n# set firewall log-martians 'enable'\n# set firewall receive-redirects 'disable'\n# set firewall send-redirects 'enable'\n# set firewall source-validation 'strict'\n# set firewall state-policy established action 'accept'\n# set firewall state-policy established log 'enable'\n# set firewall state-policy invalid action 'reject'\n# set firewall syn-cookies 'enable'\n# set firewall twa-hazards-protection 'enable'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_firewall_global:\n    config:\n      validation: strict\n      config_trap: true\n      log_martians: true\n      syn_cookies: true\n      twa_hazards_protection: true\n      ping:\n      all: true\n      broadcast: true\n      state_policy:\n      - connection_type: established\n        action: accept\n        log: true\n      - connection_type: invalid\n        action: reject\n      route_redirects:\n      - afi: ipv4\n        ip_src_route: true\n        icmp_redirects:\n        send: true\n        receive: false\n      group:\n        address_group:\n        - name: SALES-HOSTS\n          description: Sales office hosts address list\n          members:\n          - address: 192.0.2.1\n          - address: 192.0.2.2\n          - address: 192.0.2.3\n        - name: ENG-HOSTS\n          description: Sales office hosts address list\n          members:\n          - address: 192.0.3.1\n          - address: 192.0.3.2\n        network_group:\n        - name: MGMT\n          description: This group has the Management network addresses\n          members:\n          - address: 192.0.1.0/24\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.1\",\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.2\",\n#        \"set firewall group address-group SALES-HOSTS address 192.0.2.3\",\n#        \"set firewall group address-group SALES-HOSTS description 'Sales office hosts address list'\",\n#        \"set firewall group address-group SALES-HOSTS\",\n#        \"set firewall group address-group ENG-HOSTS address 192.0.3.1\",\n#        \"set firewall group address-group ENG-HOSTS address 192.0.3.2\",\n#        \"set firewall group address-group ENG-HOSTS description 'Sales office hosts address list'\",\n#        \"set firewall group address-group ENG-HOSTS\",\n#        \"set firewall group network-group MGMT network 192.0.1.0/24\",\n#        \"set firewall group network-group MGMT description 'This group has the Management network addresses'\",\n#        \"set firewall group network-group MGMT\",\n#        \"set firewall ip-src-route 'enable'\",\n#        \"set firewall receive-redirects 'disable'\",\n#        \"set firewall send-redirects 'enable'\",\n#        \"set firewall config-trap 'enable'\",\n#        \"set firewall state-policy established action 'accept'\",\n#        \"set firewall state-policy established log 'enable'\",\n#        \"set firewall state-policy invalid action 'reject'\",\n#        \"set firewall broadcast-ping 'enable'\",\n#        \"set firewall all-ping 'enable'\",\n#        \"set firewall log-martians 'enable'\",\n#        \"set firewall twa-hazards-protection 'enable'\",\n#        \"set firewall syn-cookies 'enable'\",\n#        \"set firewall source-validation 'strict'\"\n#    ]\n#\n#\n"
  },
  "vyos.vyos.vyos_firewall_interfaces": {
    "doc": {
      "description": "Manage firewall rules of interfaces on VyOS network devices.",
      "has_action": true,
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of firewall rules options for interfaces.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "access_rules": {
              "aliases": [],
              "description": "Specifies firewall rules attached to the interfaces.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "afi": {
                  "aliases": [],
                  "description": "Specifies the AFI for the Firewall rules to be configured on this interface.",
                  "type": "str",
                  "required": true,
                  "choices": [
                    "ipv4",
                    "ipv6"
                  ],
                  "suboptions": {}
                },
                "rules": {
                  "aliases": [],
                  "description": "Specifies the firewall rules for the provided AFI.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "direction": {
                      "aliases": [],
                      "description": "Specifies the direction of packets that the firewall rule will be applied on.",
                      "type": "str",
                      "required": true,
                      "choices": [
                        "in",
                        "local",
                        "out"
                      ],
                      "suboptions": {}
                    },
                    "name": {
                      "aliases": [],
                      "description": "Specifies the name of the IPv4/IPv6 Firewall rule for the interface.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "name": {
              "aliases": [],
              "description": "Name/Identifier for the interface.",
              "type": "str",
              "required": true,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "The module, by default, will connect to the remote device and retrieve the current running-config to use as a base for comparing against the contents of source. There are times when it is not desirable to have the task get the current running-config for every task in a playbook.  The I(running_config) argument allows the implementer to pass in the configuration to use as the base config for comparison. This value of this option should be the output received from device by executing command C(show configuration commands | grep 'firewall'",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "parsed",
            "rendered",
            "gathered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "FIREWALL interfaces resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - access_rules:\n      - afi: ipv4\n        rules:\n        - name: INBOUND\n          direction: in\n        - name: OUTBOUND\n          direction: out\n        - name: LOCAL\n          direction: local\n      - afi: ipv6\n        rules:\n        - name: V6-LOCAL\n          direction: local\n      name: eth1\n    - access_rules:\n      - afi: ipv4\n        rules:\n        - name: INBOUND\n          direction: in\n        - name: OUTBOUND\n          direction: out\n        - name: LOCAL\n          direction: local\n      - afi: ipv6\n        rules:\n        - name: V6-LOCAL\n          direction: local\n      name: eth3\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n#    \"commands\": [\n#       \"set interfaces ethernet eth1 firewall in name 'INBOUND'\",\n#       \"set interfaces ethernet eth1 firewall out name 'OUTBOUND'\",\n#       \"set interfaces ethernet eth1 firewall local name 'LOCAL'\",\n#       \"set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\",\n#       \"set interfaces ethernet eth3 firewall in name 'INBOUND'\",\n#       \"set interfaces ethernet eth3 firewall out name 'OUTBOUND'\",\n#       \"set interfaces ethernet eth3 firewall local name 'LOCAL'\",\n#       \"set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n\n\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - access_rules:\n      - afi: ipv4\n        rules:\n        - name: OUTBOUND\n          direction: in\n        - name: INBOUND\n          direction: out\n      name: eth1\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n#    \"commands\": [\n#       \"set interfaces ethernet eth1 firewall in name 'OUTBOUND'\",\n#       \"set interfaces ethernet eth1 firewall out name 'INBOUND'\"\n#    ]\n#\n#    \"after\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"OUTBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"INBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'INBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n#\n- name: Replace device configurations of listed firewall interfaces with provided\n    configurations\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - name: eth1\n      access_rules:\n      - afi: ipv4\n        rules:\n        - name: OUTBOUND\n          direction: out\n      - afi: ipv6\n        rules:\n        - name: V6-LOCAL\n          direction: local\n    - name: eth3\n      access_rules:\n      - afi: ipv4\n        rules:\n        - name: INBOUND\n          direction: in\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete interfaces ethernet eth1 firewall in name\",\n#        \"delete interfaces ethernet eth1 firewall local name\",\n#        \"delete interfaces ethernet eth3 firewall local name\",\n#        \"delete interfaces ethernet eth3 firewall out name\",\n#        \"delete interfaces ethernet eth3 firewall local ipv6-name\"\n#    ]\n#\n#    \"after\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall 'in'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall 'local'\n# set interfaces ethernet eth3 firewall 'out'\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall 'in'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall 'local'\n# set interfaces ethernet eth3 firewall 'out'\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - name: eth3\n      access_rules:\n      - afi: ipv4\n        rules:\n        - name: INBOUND\n          direction: out\n    state: overridden\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\":[\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n#    \"commands\": [\n#        \"delete interfaces ethernet eth1 firewall\",\n#        \"delete interfaces ethernet eth3 firewall in name\",\n#        \"set interfaces ethernet eth3 firewall out name 'INBOUND'\"\n#\n#\n#    \"after\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"INBOUND\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n#\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall 'in'\n# set interfaces ethernet eth3 firewall 'local'\n# set interfaces ethernet eth3 firewall out name 'INBOUND'\n\n\n# Using deleted per interface name\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n#\n- name: Delete firewall interfaces based on interface name.\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - name: eth1\n    - name: eth3\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n# \"before\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#    \"commands\": [\n#        \"delete interfaces ethernet eth1 firewall\",\n#        \"delete interfaces ethernet eth3 firewall\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ]\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n\n\n# Using deleted per afi\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n#\n- name: Delete firewall interfaces config per afi.\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - name: eth1\n      access_rules:\n      - afi: ipv4\n      - afi: ipv6\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"commands\": [\n#        \"delete interfaces ethernet eth1 firewall in name\",\n#        \"delete interfaces ethernet eth1 firewall out name\",\n#        \"delete interfaces ethernet eth1 firewall local name\",\n#        \"delete interfaces ethernet eth1 firewall local ipv6-name\"\n#    ]\n#\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n\n\n# Using deleted without config\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall in name 'INBOUND'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall local name 'LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth3 firewall local name 'LOCAL'\n# set interfaces ethernet eth3 firewall out name 'OUTBOUND'\n#\n- name: Delete firewall interfaces config when empty config provided.\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"commands\": [\n#        \"delete interfaces ethernet eth1 firewall\",\n#        \"delete interfaces ethernet eth1 firewall\"\n#    ]\n#\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n\n\n# Using parsed\n#\n#\n- name: Parse the provided  configuration\n  vyos.vyos.vyos_firewall_interfaces:\n    running_config:\n      \"set interfaces ethernet eth1 firewall in name 'INBOUND'\n       set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n       set interfaces ethernet eth1 firewall local name 'LOCAL'\n       set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n       set interfaces ethernet eth2 firewall in name 'INBOUND'\n       set interfaces ethernet eth2 firewall out name 'OUTBOUND'\n       set interfaces ethernet eth2 firewall local name 'LOCAL'\n       set interfaces ethernet eth2 firewall local ipv6-name 'V6-LOCAL'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        },\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"LOCAL\"\n#                        },\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ]\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall 'in'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall 'local'\n# set interfaces ethernet eth3 firewall 'out'\n#\n- name: Gather listed firewall interfaces.\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"out\",\n#                            \"name\": \"OUTBOUND\"\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"local\",\n#                            \"name\": \"V6-LOCAL\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"access_rules\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"rules\": [\n#                        {\n#                            \"direction\": \"in\",\n#                            \"name\": \"INBOUND\"\n#                        }\n#                    ]\n#                }\n#            ],\n#            \"name\": \"eth3\"\n#        }\n#    ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name 'V6-LOCAL'\n# set firewall name 'INBOUND'\n# set firewall name 'LOCAL'\n# set firewall name 'OUTBOUND'\n# set interfaces ethernet eth1 firewall 'in'\n# set interfaces ethernet eth1 firewall local ipv6-name 'V6-LOCAL'\n# set interfaces ethernet eth1 firewall out name 'OUTBOUND'\n# set interfaces ethernet eth3 firewall in name 'INBOUND'\n# set interfaces ethernet eth3 firewall 'local'\n# set interfaces ethernet eth3 firewall 'out'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_firewall_interfaces:\n    config:\n    - name: eth2\n      access_rules:\n      - afi: ipv4\n        rules:\n        - direction: in\n          name: INGRESS\n        - direction: out\n          name: OUTGRESS\n        - direction: local\n          name: DROP\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        \"set interfaces ethernet eth2 firewall in name 'INGRESS'\",\n#        \"set interfaces ethernet eth2 firewall out name 'OUTGRESS'\",\n#        \"set interfaces ethernet eth2 firewall local name 'DROP'\",\n#        \"set interfaces ethernet eth2 firewall local ipv6-name 'LOCAL'\"\n#    ]\n\n\n"
  },
  "vyos.vyos.vyos_firewall_rules": {
    "doc": {
      "description": "This module manages firewall rule-set attributes on VyOS devices",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A dictionary of Firewall rule-set options.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "afi": {
              "aliases": [],
              "description": "Specifies the type of rule-set.",
              "type": "str",
              "required": true,
              "choices": [
                "ipv4",
                "ipv6"
              ],
              "suboptions": {}
            },
            "rule_sets": {
              "aliases": [],
              "description": "The Firewall rule-set list.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "default_action": {
                  "aliases": [],
                  "description": "Default action for rule-set.\ndrop (Drop if no prior rules are hit (default))\nreject (Drop and notify source if no prior rules are hit)\naccept (Accept if no prior rules are hit)",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "drop",
                    "reject",
                    "accept"
                  ],
                  "suboptions": {}
                },
                "description": {
                  "aliases": [],
                  "description": "Rule set description.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "enable_default_log": {
                  "aliases": [],
                  "description": "Option to log packets hitting default-action.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "name": {
                  "aliases": [],
                  "description": "Firewall rule set name.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "rules": {
                  "aliases": [],
                  "description": "A dictionary that specifies the rule-set configurations.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "action": {
                      "aliases": [],
                      "description": "Specifying the action.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "drop",
                        "reject",
                        "accept",
                        "inspect"
                      ],
                      "suboptions": {}
                    },
                    "description": {
                      "aliases": [],
                      "description": "Description of this rule.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "destination": {
                      "aliases": [],
                      "description": "Specifying the destination parameters.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "Destination ip address subnet or range.\nIPv4/6 address, subnet or range to match.\nMatch everything except the specified address, subnet or range.\nDestination ip address subnet or range.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "group": {
                          "aliases": [],
                          "description": "Destination group.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "address_group": {
                              "aliases": [],
                              "description": "Group of addresses.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            },
                            "network_group": {
                              "aliases": [],
                              "description": "Group of networks.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            },
                            "port_group": {
                              "aliases": [],
                              "description": "Group of ports.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "port": {
                          "aliases": [],
                          "description": "Multiple destination ports can be specified as a comma-separated list.\nThe whole list can also be \"negated\" using '!'.\nFor example:'!22,telnet,http,123,1001-1005'.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "disabled": {
                      "aliases": [],
                      "description": "Option to disable firewall rule.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "fragment": {
                      "aliases": [],
                      "description": "IP fragment match.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "match-frag",
                        "match-non-frag"
                      ],
                      "suboptions": {}
                    },
                    "icmp": {
                      "aliases": [],
                      "description": "ICMP type and code information.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "code": {
                          "aliases": [],
                          "description": "ICMP code.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "ICMP type.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "type_name": {
                          "aliases": [],
                          "description": "ICMP type-name.",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "any",
                            "echo-reply",
                            "destination-unreachable",
                            "network-unreachable",
                            "host-unreachable",
                            "protocol-unreachable",
                            "port-unreachable",
                            "fragmentation-needed",
                            "source-route-failed",
                            "network-unknown",
                            "host-unknown",
                            "network-prohibited",
                            "host-prohibited",
                            "TOS-network-unreachable",
                            "TOS-host-unreachable",
                            "communication-prohibited",
                            "host-precedence-violation",
                            "precedence-cutoff",
                            "source-quench",
                            "redirect",
                            "network-redirect",
                            "host-redirect",
                            "TOS-network-redirect",
                            "TOS-host-redirect",
                            "echo-request",
                            "router-advertisement",
                            "router-solicitation",
                            "time-exceeded",
                            "ttl-zero-during-transit",
                            "ttl-zero-during-reassembly",
                            "parameter-problem",
                            "ip-header-bad",
                            "required-option-missing",
                            "timestamp-request",
                            "timestamp-reply",
                            "address-mask-request",
                            "address-mask-reply",
                            "ping",
                            "pong",
                            "ttl-exceeded"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "ipsec": {
                      "aliases": [],
                      "description": "Inbound ip sec packets.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "match-ipsec",
                        "match-none"
                      ],
                      "suboptions": {}
                    },
                    "limit": {
                      "aliases": [],
                      "description": "Rate limit using a token bucket filter.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "burst": {
                          "aliases": [],
                          "description": "Maximum number of packets to allow in excess of rate.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "rate": {
                          "aliases": [],
                          "description": "format for rate (integer/time unit).\nany one of second, minute, hour or day may be used to specify time unit.\neg. 1/second implies rule to be matched at an average of once per second.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "number": {
                              "aliases": [],
                              "description": "This is the integer value.",
                              "type": "int",
                              "required": false,
                              "suboptions": {}
                            },
                            "unit": {
                              "aliases": [],
                              "description": "This is the time unit.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        }
                      }
                    },
                    "number": {
                      "aliases": [],
                      "description": "Rule number.",
                      "type": "int",
                      "required": true,
                      "suboptions": {}
                    },
                    "p2p": {
                      "aliases": [],
                      "description": "P2P application packets.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "application": {
                          "aliases": [],
                          "description": "Name of the application.",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "all",
                            "applejuice",
                            "bittorrent",
                            "directconnect",
                            "edonkey",
                            "gnutella",
                            "kazaa"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "protocol": {
                      "aliases": [],
                      "description": "Protocol to match (protocol name in /etc/protocols or protocol number or all).\n<text> IP protocol name from /etc/protocols (e.g. \"tcp\" or \"udp\").\n<0-255> IP protocol number.\ntcp_udp Both TCP and UDP.\nall All IP protocols.\n(!)All IP protocols except for the specified name or number.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "recent": {
                      "aliases": [],
                      "description": "Parameters for matching recently seen sources.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "count": {
                          "aliases": [],
                          "description": "Source addresses seen more than N times.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "time": {
                          "aliases": [],
                          "description": "Source addresses seen in the last N seconds.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "source": {
                      "aliases": [],
                      "description": "Source parameters.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "Source ip address subnet or range.\nIPv4/6 address, subnet or range to match.\nMatch everything except the specified address, subnet or range.\nSource ip address subnet or range.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "group": {
                          "aliases": [],
                          "description": "Source group.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "address_group": {
                              "aliases": [],
                              "description": "Group of addresses.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            },
                            "network_group": {
                              "aliases": [],
                              "description": "Group of networks.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            },
                            "port_group": {
                              "aliases": [],
                              "description": "Group of ports.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "mac_address": {
                          "aliases": [],
                          "description": "<MAC address> MAC address to match.\n<!MAC address> Match everything except the specified MAC address.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "port": {
                          "aliases": [],
                          "description": "Multiple source ports can be specified as a comma-separated list.\nThe whole list can also be \"negated\" using '!'.\nFor example:'!22,telnet,http,123,1001-1005'.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "state": {
                      "aliases": [],
                      "description": "Session state.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "established": {
                          "aliases": [],
                          "description": "Established state.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "invalid": {
                          "aliases": [],
                          "description": "Invalid state.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "new": {
                          "aliases": [],
                          "description": "New state.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "related": {
                          "aliases": [],
                          "description": "Related state.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "tcp": {
                      "aliases": [],
                      "description": "TCP flags to match.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "flags": {
                          "aliases": [],
                          "description": "TCP flags to be matched.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "time": {
                      "aliases": [],
                      "description": "Time to match rule.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "monthdays": {
                          "aliases": [],
                          "description": "Monthdays to match rule on.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "startdate": {
                          "aliases": [],
                          "description": "Date to start matching rule.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "starttime": {
                          "aliases": [],
                          "description": "Time of day to start matching rule.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "stopdate": {
                          "aliases": [],
                          "description": "Date to stop matching rule.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "stoptime": {
                          "aliases": [],
                          "description": "Time of day to stop matching rule.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "utc": {
                          "aliases": [],
                          "description": "Interpret times for startdate, stopdate, starttime and stoptime to be UTC.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "weekdays": {
                          "aliases": [],
                          "description": "Weekdays to match rule on.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep firewall).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "FIREWALL rules resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using deleted to delete firewall rules based on rule-set name\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall name Downlink default-action 'accept'\n# set firewall name Downlink description 'IPv4 INBOUND rule set'\n# set firewall name Downlink rule 501 action 'accept'\n# set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\n# set firewall name Downlink rule 501 ipsec 'match-ipsec'\n# set firewall name Downlink rule 502 action 'reject'\n# set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\n# set firewall name Downlink rule 502 ipsec 'match-ipsec'\n#\n- name: Delete attributes of given firewall rules.\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv4\n      rule_sets:\n      - name: Downlink\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": [\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"Downlink\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 501 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 501\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 502 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 502\n#                        }\n#                    ]\n#               }\n#            ]\n#        }\n#    ]\n#    \"commands\": [\n#        \"delete firewall name Downlink\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep firewall\n# set firewall group address-group 'inbound'\n\n\n# Using deleted to delete firewall rules based on afi\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n# set firewall group address-group 'inbound'\n# set firewall name Downlink default-action 'accept'\n# set firewall name Downlink description 'IPv4 INBOUND rule set'\n# set firewall name Downlink rule 501 action 'accept'\n# set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\n# set firewall name Downlink rule 501 ipsec 'match-ipsec'\n# set firewall name Downlink rule 502 action 'reject'\n# set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\n# set firewall name Downlink rule 502 ipsec 'match-ipsec'\n\n#\n- name: Delete attributes of given firewall rules.\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv4\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 1 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 1\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 2 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 2\n#                        }\n#                    ]\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"Downlink\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 501 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 501\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 502 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 502\n#                        }\n#                    ]\n#               }\n#            ]\n#        }\n#    ]\n#    \"commands\": [\n#        \"delete firewall name\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n\n\n# Using deleted to delete all the the firewall rules when provided config is empty\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall name Downlink default-action 'accept'\n# set firewall name Downlink description 'IPv4 INBOUND rule set'\n# set firewall name Downlink rule 501 action 'accept'\n# set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\n# set firewall name Downlink rule 501 ipsec 'match-ipsec'\n# set firewall name Downlink rule 502 action 'reject'\n# set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\n# set firewall name Downlink rule 502 ipsec 'match-ipsec'\n#\n- name: Delete attributes of given firewall rules.\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": [\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"Downlink\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 501 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 501\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 502 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 502\n#                        }\n#                    ]\n#               }\n#            ]\n#        }\n#    ]\n#    \"commands\": [\n#        \"delete firewall name\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep firewall\n# set firewall group address-group 'inbound'\n\n\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos# run show  configuration commands | grep firewall\n# set firewall group address-group 'inbound'\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv6\n      rule_sets:\n      - name: UPLINK\n        description: This is ipv6 specific rule-set\n        default_action: accept\n        rules:\n        - number: 1\n          action: accept\n          description: Fwipv6-Rule 1 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 2\n          action: accept\n          description: Fwipv6-Rule 2 is configured by Ansible\n          ipsec: match-ipsec\n\n    - afi: ipv4\n      rule_sets:\n      - name: INBOUND\n        description: IPv4 INBOUND rule set\n        default_action: accept\n        rules:\n        - number: 101\n          action: accept\n          description: Rule 101 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 102\n          action: reject\n          description: Rule 102 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 103\n          action: accept\n          description: Rule 103 is configured by Ansible\n          destination:\n            group:\n              address_group: inbound\n          source:\n            address: 192.0.2.0\n          state:\n            established: true\n            new: false\n            invalid: false\n            related: true\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": []\n#\n#    \"commands\": [\n#       \"set firewall ipv6-name UPLINK default-action 'accept'\",\n#       \"set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\",\n#       \"set firewall ipv6-name UPLINK rule 1 action 'accept'\",\n#       \"set firewall ipv6-name UPLINK rule 1\",\n#       \"set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\",\n#       \"set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\",\n#       \"set firewall ipv6-name UPLINK rule 2 action 'accept'\",\n#       \"set firewall ipv6-name UPLINK rule 2\",\n#       \"set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\",\n#       \"set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\",\n#       \"set firewall name INBOUND default-action 'accept'\",\n#       \"set firewall name INBOUND description 'IPv4 INBOUND rule set'\",\n#       \"set firewall name INBOUND rule 101 action 'accept'\",\n#       \"set firewall name INBOUND rule 101\",\n#       \"set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\",\n#       \"set firewall name INBOUND rule 101 ipsec 'match-ipsec'\",\n#       \"set firewall name INBOUND rule 102 action 'reject'\",\n#       \"set firewall name INBOUND rule 102\",\n#       \"set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\",\n#       \"set firewall name INBOUND rule 102 ipsec 'match-ipsec'\",\n#       \"set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\",\n#       \"set firewall name INBOUND rule 103 destination group address-group inbound\",\n#       \"set firewall name INBOUND rule 103\",\n#       \"set firewall name INBOUND rule 103 source address 192.0.2.0\",\n#       \"set firewall name INBOUND rule 103 state established enable\",\n#       \"set firewall name INBOUND rule 103 state related enable\",\n#       \"set firewall name INBOUND rule 103 state invalid disable\",\n#       \"set firewall name INBOUND rule 103 state new disable\",\n#       \"set firewall name INBOUND rule 103 action 'accept'\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 1 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 1\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 2 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 2\n#                        }\n#                    ]\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 102 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 102\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 103 is configured by Ansible\",\n#                            \"destination\": {\n#                                \"group\": {\n#                                    \"address_group\": \"inbound\"\n#                                }\n#                            },\n#                            \"number\": 103,\n#                            \"source\": {\n#                                \"address\": \"192.0.2.0\"\n#                            },\n#                            \"state\": {\n#                                \"established\": true,\n#                                \"invalid\": false,\n#                                \"new\": false,\n#                                \"related\": true\n#                            }\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 102 action 'reject'\n# set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\n# set firewall name INBOUND rule 102 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 103 action 'accept'\n# set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\n# set firewall name INBOUND rule 103 destination group address-group 'inbound'\n# set firewall name INBOUND rule 103 source address '192.0.2.0'\n# set firewall name INBOUND rule 103 state established 'enable'\n# set firewall name INBOUND rule 103 state invalid 'disable'\n# set firewall name INBOUND rule 103 state new 'disable'\n# set firewall name INBOUND rule 103 state related 'enable'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 102 action 'reject'\n# set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\n# set firewall name INBOUND rule 102 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 103 action 'accept'\n# set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\n# set firewall name INBOUND rule 103 destination group address-group 'inbound'\n# set firewall name INBOUND rule 103 source address '192.0.2.0'\n# set firewall name INBOUND rule 103 state established 'enable'\n# set firewall name INBOUND rule 103 state invalid 'disable'\n# set firewall name INBOUND rule 103 state new 'disable'\n# set firewall name INBOUND rule 103 state related 'enable'\n#\n- name: Replace device configurations of listed firewall rules with provided configurations\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv6\n      rule_sets:\n      - name: UPLINK\n        description: This is ipv6 specific rule-set\n        default_action: accept\n    - afi: ipv4\n      rule_sets:\n      - name: INBOUND\n        description: IPv4 INBOUND rule set\n        default_action: accept\n        rules:\n        - number: 101\n          action: accept\n          description: Rule 101 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 104\n          action: reject\n          description: Rule 104 is configured by Ansible\n          ipsec: match-none\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 1 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 1\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 2 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 2\n#                        }\n#                    ]\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 102 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 102\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 103 is configured by Ansible\",\n#                            \"destination\": {\n#                                \"group\": {\n#                                    \"address_group\": \"inbound\"\n#                                }\n#                            },\n#                            \"number\": 103,\n#                            \"source\": {\n#                                \"address\": \"192.0.2.0\"\n#                            },\n#                            \"state\": {\n#                                \"established\": true,\n#                                \"invalid\": false,\n#                                \"new\": false,\n#                                \"related\": true\n#                            }\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete firewall ipv6-name UPLINK rule 1\",\n#        \"delete firewall ipv6-name UPLINK rule 2\",\n#        \"delete firewall name INBOUND rule 102\",\n#        \"delete firewall name INBOUND rule 103\",\n#        \"set firewall name INBOUND rule 104 action 'reject'\",\n#        \"set firewall name INBOUND rule 104 description 'Rule 104 is configured by Ansible'\",\n#        \"set firewall name INBOUND rule 104\",\n#        \"set firewall name INBOUND rule 104 ipsec 'match-none'\"\n#    ]\n#\n#    \"after\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\"\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 104 is configured by Ansible\",\n#                            \"ipsec\": \"match-none\",\n#                            \"number\": 104\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 104 action 'reject'\n# set firewall name INBOUND rule 104 description 'Rule 104 is configured by Ansible'\n# set firewall name INBOUND rule 104 ipsec 'match-none'\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 104 action 'reject'\n# set firewall name INBOUND rule 104 description 'Rule 104 is configured by Ansible'\n# set firewall name INBOUND rule 104 ipsec 'match-none'\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv4\n      rule_sets:\n      - name: Downlink\n        description: IPv4 INBOUND rule set\n        default_action: accept\n        rules:\n        - number: 501\n          action: accept\n          description: Rule 501 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 502\n          action: reject\n          description: Rule 502 is configured by Ansible\n          ipsec: match-ipsec\n    state: overridden\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\"\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 104 is configured by Ansible\",\n#                            \"ipsec\": \"match-none\",\n#                            \"number\": 104\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#    \"commands\": [\n#        \"delete firewall ipv6-name UPLINK\",\n#        \"delete firewall name INBOUND\",\n#        \"set firewall name Downlink default-action 'accept'\",\n#        \"set firewall name Downlink description 'IPv4 INBOUND rule set'\",\n#        \"set firewall name Downlink rule 501 action 'accept'\",\n#        \"set firewall name Downlink rule 501\",\n#        \"set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\",\n#        \"set firewall name Downlink rule 501 ipsec 'match-ipsec'\",\n#        \"set firewall name Downlink rule 502 action 'reject'\",\n#        \"set firewall name Downlink rule 502\",\n#        \"set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\",\n#        \"set firewall name Downlink rule 502 ipsec 'match-ipsec'\"\n#\n#\n#    \"after\": [\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"Downlink\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 501 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 501\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 502 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 502\n#                        }\n#                    ]\n#               }\n#            ]\n#        }\n#    ]\n#\n#\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall name Downlink default-action 'accept'\n# set firewall name Downlink description 'IPv4 INBOUND rule set'\n# set firewall name Downlink rule 501 action 'accept'\n# set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\n# set firewall name Downlink rule 501 ipsec 'match-ipsec'\n# set firewall name Downlink rule 502 action 'reject'\n# set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\n# set firewall name Downlink rule 502 ipsec 'match-ipsec'\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 102 action 'reject'\n# set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\n# set firewall name INBOUND rule 102 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 103 action 'accept'\n# set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\n# set firewall name INBOUND rule 103 destination group address-group 'inbound'\n# set firewall name INBOUND rule 103 source address '192.0.2.0'\n# set firewall name INBOUND rule 103 state established 'enable'\n# set firewall name INBOUND rule 103 state invalid 'disable'\n# set firewall name INBOUND rule 103 state new 'disable'\n# set firewall name INBOUND rule 103 state related 'enable'\n#\n- name: Gather listed firewall rules with provided configurations\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 1 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 1\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 2 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 2\n#                        }\n#                    ]\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 102 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 102\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 103 is configured by Ansible\",\n#                            \"destination\": {\n#                                \"group\": {\n#                                    \"address_group\": \"inbound\"\n#                                }\n#                            },\n#                            \"number\": 103,\n#                            \"source\": {\n#                                \"address\": \"192.0.2.0\"\n#                            },\n#                            \"state\": {\n#                                \"established\": true,\n#                                \"invalid\": false,\n#                                \"new\": false,\n#                                \"related\": true\n#                            }\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep firewall\n# set firewall group address-group 'inbound'\n# set firewall ipv6-name UPLINK default-action 'accept'\n# set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\n# set firewall ipv6-name UPLINK rule 1 action 'accept'\n# set firewall ipv6-name UPLINK rule 1 description 'Fwipv6-Rule 1 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 1 ipsec 'match-ipsec'\n# set firewall ipv6-name UPLINK rule 2 action 'accept'\n# set firewall ipv6-name UPLINK rule 2 description 'Fwipv6-Rule 2 is configured by Ansible'\n# set firewall ipv6-name UPLINK rule 2 ipsec 'match-ipsec'\n# set firewall name INBOUND default-action 'accept'\n# set firewall name INBOUND description 'IPv4 INBOUND rule set'\n# set firewall name INBOUND rule 101 action 'accept'\n# set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\n# set firewall name INBOUND rule 101 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 102 action 'reject'\n# set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\n# set firewall name INBOUND rule 102 ipsec 'match-ipsec'\n# set firewall name INBOUND rule 103 action 'accept'\n# set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\n# set firewall name INBOUND rule 103 destination group address-group 'inbound'\n# set firewall name INBOUND rule 103 source address '192.0.2.0'\n# set firewall name INBOUND rule 103 state established 'enable'\n# set firewall name INBOUND rule 103 state invalid 'disable'\n# set firewall name INBOUND rule 103 state new 'disable'\n# set firewall name INBOUND rule 103 state related 'enable'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_firewall_rules:\n    config:\n    - afi: ipv6\n      rule_sets:\n      - name: UPLINK\n        description: This is ipv6 specific rule-set\n        default_action: accept\n    - afi: ipv4\n      rule_sets:\n      - name: INBOUND\n        description: IPv4 INBOUND rule set\n        default_action: accept\n        rules:\n        - number: 101\n          action: accept\n          description: Rule 101 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 102\n          action: reject\n          description: Rule 102 is configured by Ansible\n          ipsec: match-ipsec\n        - number: 103\n          action: accept\n          description: Rule 103 is configured by Ansible\n          destination:\n            group:\n              address_group: inbound\n          source:\n            address: 192.0.2.0\n          state:\n            established: true\n            new: false\n            invalid: false\n            related: true\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        \"set firewall ipv6-name UPLINK default-action 'accept'\",\n#        \"set firewall ipv6-name UPLINK description 'This is ipv6 specific rule-set'\",\n#        \"set firewall name INBOUND default-action 'accept'\",\n#        \"set firewall name INBOUND description 'IPv4 INBOUND rule set'\",\n#        \"set firewall name INBOUND rule 101 action 'accept'\",\n#        \"set firewall name INBOUND rule 101\",\n#        \"set firewall name INBOUND rule 101 description 'Rule 101 is configured by Ansible'\",\n#        \"set firewall name INBOUND rule 101 ipsec 'match-ipsec'\",\n#        \"set firewall name INBOUND rule 102 action 'reject'\",\n#        \"set firewall name INBOUND rule 102\",\n#        \"set firewall name INBOUND rule 102 description 'Rule 102 is configured by Ansible'\",\n#        \"set firewall name INBOUND rule 102 ipsec 'match-ipsec'\",\n#        \"set firewall name INBOUND rule 103 description 'Rule 103 is configured by Ansible'\",\n#        \"set firewall name INBOUND rule 103 destination group address-group inbound\",\n#        \"set firewall name INBOUND rule 103\",\n#        \"set firewall name INBOUND rule 103 source address 192.0.2.0\",\n#        \"set firewall name INBOUND rule 103 state established enable\",\n#        \"set firewall name INBOUND rule 103 state related enable\",\n#        \"set firewall name INBOUND rule 103 state invalid disable\",\n#        \"set firewall name INBOUND rule 103 state new disable\",\n#        \"set firewall name INBOUND rule 103 action 'accept'\"\n#    ]\n\n\n# Using parsed\n#\n#\n- name: Parsed the provided input commands.\n  vyos.vyos.vyos_firewall_rules:\n    running_config:\n      \"set firewall group address-group 'inbound'\n       set firewall name Downlink default-action 'accept'\n       set firewall name Downlink description 'IPv4 INBOUND rule set'\n       set firewall name Downlink rule 501 action 'accept'\n       set firewall name Downlink rule 501 description 'Rule 501 is configured by Ansible'\n       set firewall name Downlink rule 501 ipsec 'match-ipsec'\n       set firewall name Downlink rule 502 action 'reject'\n       set firewall name Downlink rule 502 description 'Rule 502 is configured by Ansible'\n       set firewall name Downlink rule 502 ipsec 'match-ipsec'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"Downlink\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 501 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 501\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 502 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 502\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n\n\n"
  },
  "vyos.vyos.vyos_interface": {
    "doc": {
      "description": "This module provides declarative management of Interfaces on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VYOS 1.1.7\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [],
          "description": "List of Interfaces definitions.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "delay": {
              "aliases": [],
              "description": "Time in seconds to wait before checking for the operational state on remote device. This wait is applicable for operational state argument which are I(state) with values C(up)/C(down) and I(neighbors).",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "description": {
              "aliases": [],
              "description": "Description of Interface.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "duplex": {
              "aliases": [],
              "description": "Interface link status.",
              "type": "str",
              "required": false,
              "choices": [
                "full",
                "half",
                "auto"
              ],
              "suboptions": {}
            },
            "enabled": {
              "aliases": [],
              "description": "Interface link status.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "mtu": {
              "aliases": [],
              "description": "Maximum size of transmit packet.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Name of the Interface.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "neighbors": {
              "aliases": [],
              "description": "Check the operational state of given interface C(name) for LLDP neighbor.\nThe following suboptions are available.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "host": {
                  "aliases": [],
                  "description": "LLDP neighbor host for given interface C(name).",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "port": {
                  "aliases": [],
                  "description": "LLDP neighbor port to which given interface C(name) is connected.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "speed": {
              "aliases": [],
              "description": "Interface link speed.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the Interface configuration, C(up) means present and operationally up and C(down) means present and operationally C(down)",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent",
                "up",
                "down"
              ],
              "suboptions": {}
            }
          }
        },
        "delay": {
          "aliases": [],
          "description": "Time in seconds to wait before checking for the operational state on remote device. This wait is applicable for operational state argument which are I(state) with values C(up)/C(down) and I(neighbors).",
          "default": "10",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "description": {
          "aliases": [],
          "description": "Description of Interface.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "duplex": {
          "aliases": [],
          "description": "Interface link status.",
          "type": "str",
          "required": false,
          "choices": [
            "full",
            "half",
            "auto"
          ],
          "suboptions": {}
        },
        "enabled": {
          "aliases": [],
          "description": "Interface link status.",
          "default": "True",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "mtu": {
          "aliases": [],
          "description": "Maximum size of transmit packet.",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "Name of the Interface.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "neighbors": {
          "aliases": [],
          "description": "Check the operational state of given interface C(name) for LLDP neighbor.\nThe following suboptions are available.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "LLDP neighbor host for given interface C(name).",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "LLDP neighbor port to which given interface C(name) is connected.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "speed": {
          "aliases": [],
          "description": "Interface link speed.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "State of the Interface configuration, C(up) means present and operationally up and C(down) means present and operationally C(down)",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent",
            "up",
            "down"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage Interface on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure interface\n  vyos.vyos.vyos_interface:\n    name: eth0\n    description: test-interface\n\n- name: remove interface\n  vyos.vyos.vyos_interface:\n    name: eth0\n    state: absent\n\n- name: make interface down\n  vyos.vyos.vyos_interface:\n    name: eth0\n    enabled: false\n\n- name: make interface up\n  vyos.vyos.vyos_interface:\n    name: eth0\n    enabled: true\n\n- name: Configure interface speed, mtu, duplex\n  vyos.vyos.vyos_interface:\n    name: eth5\n    state: present\n    speed: 100\n    mtu: 256\n    duplex: full\n\n- name: Set interface using aggregate\n  vyos.vyos.vyos_interface:\n    aggregate:\n    - {name: eth1, description: test-interface-1, speed: 100, duplex: half, mtu: 512}\n    - {name: eth2, description: test-interface-2, speed: 1000, duplex: full, mtu: 256}\n\n- name: Disable interface on aggregate\n  net_interface:\n    aggregate:\n    - name: eth1\n    - name: eth2\n    enabled: false\n\n- name: Delete interface using aggregate\n  net_interface:\n    aggregate:\n    - name: eth1\n    - name: eth2\n    state: absent\n\n- name: Check lldp neighbors intent arguments\n  vyos.vyos.vyos_interface:\n    name: eth0\n    neighbors:\n    - port: eth0\n      host: netdev\n\n- name: Config + intent\n  vyos.vyos.vyos_interface:\n    name: eth1\n    enabled: false\n    state: down\n"
  },
  "vyos.vyos.vyos_interfaces": {
    "doc": {
      "description": "This module manages the interface attributes on VyOS network devices.\nThis module supports managing base attributes of Ethernet, Bonding, VXLAN, Loopback and Virtual Tunnel Interfaces.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "The provided interfaces configuration.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "description": {
              "aliases": [],
              "description": "Interface description.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "duplex": {
              "aliases": [],
              "description": "Interface duplex mode.\nApplicable for Ethernet interfaces only.",
              "type": "str",
              "required": false,
              "choices": [
                "full",
                "half",
                "auto"
              ],
              "suboptions": {}
            },
            "enabled": {
              "aliases": [],
              "description": "Administrative state of the interface.\nSet the value to C(true) to administratively enable the interface or C(false) to disable it.",
              "default": "True",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "mtu": {
              "aliases": [],
              "description": "MTU for a specific interface. Refer to vendor documentation for valid values.\nApplicable for Ethernet, Bonding, VXLAN and Virtual Tunnel interfaces.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Full name of the interface, e.g. eth0, eth1, bond0, vti1, vxlan2.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "speed": {
              "aliases": [],
              "description": "Interface link speed.\nApplicable for Ethernet interfaces only.",
              "type": "str",
              "required": false,
              "choices": [
                "auto",
                "10",
                "100",
                "1000",
                "2500",
                "10000"
              ],
              "suboptions": {}
            },
            "vifs": {
              "aliases": [],
              "description": "Virtual sub-interfaces related configuration.\n802.1Q VLAN interfaces are represented as virtual sub-interfaces in VyOS.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "description": {
                  "aliases": [],
                  "description": "Virtual sub-interface description.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "enabled": {
                  "aliases": [],
                  "description": "Administrative state of the virtual sub-interface.\nSet the value to C(true) to administratively enable the interface or C(false) to disable it.",
                  "default": "True",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "mtu": {
                  "aliases": [],
                  "description": "MTU for the virtual sub-interface.\nRefer to vendor documentation for valid values.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "vlan_id": {
                  "aliases": [],
                  "description": "Identifier for the virtual sub-interface.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep interfaces).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "rendered",
            "gathered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Interfaces resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# -------------\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces loopback lo\n\n- name: Merge provided configuration with device configuration\n  vyos.vyos.vyos_interfaces:\n    config:\n    - name: eth2\n      description: Configured by Ansible\n      enabled: true\n      vifs:\n      - vlan_id: 200\n        description: VIF 200 - ETH2\n\n    - name: eth3\n      description: Configured by Ansible\n      mtu: 1500\n\n    - name: bond1\n      description: Bond - 1\n      mtu: 1200\n\n    - name: vti2\n      description: VTI - 2\n      enabled: false\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\": [\n#      \t{\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#      \t},\n#       {\n#            \"enabled\": true,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"set interfaces ethernet eth2 description 'Configured by Ansible'\",\n#        \"set interfaces ethernet eth2 vif 200\",\n#        \"set interfaces ethernet eth2 vif 200 description 'VIF 200 - ETH2'\",\n#        \"set interfaces ethernet eth3 description 'Configured by Ansible'\",\n#        \"set interfaces ethernet eth3 mtu '1500'\",\n#        \"set interfaces bonding bond1\",\n#        \"set interfaces bonding bond1 description 'Bond - 1'\",\n#        \"set interfaces bonding bond1 mtu '1200'\",\n#        \"set interfaces vti vti2\",\n#        \"set interfaces vti vti2 description 'VTI - 2'\",\n#        \"set interfaces vti vti2 disable\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"description\": \"Bond - 1\",\n#            \"enabled\": true,\n#            \"mtu\": 1200,\n#            \"name\": \"bond1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"description\": \"VTI - 2\",\n#            \"enabled\": false,\n#            \"name\": \"vti2\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible\",\n#            \"enabled\": true,\n#            \"mtu\": 1500,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible\",\n#            \"enabled\": true,\n#            \"name\": \"eth2\",\n#            \"vifs\": [\n#                {\n#                    \"description\": \"VIF 200 - ETH2\",\n#                    \"enabled\": true,\n#                    \"vlan_id\": \"200\"\n#                }\n#            ]\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n#\n# -------------\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces bonding bond1 description 'Bond - 1'\n# set interfaces bonding bond1 mtu '1200'\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth2 description 'Configured by Ansible'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth2 vif 200 description 'VIF 200 - ETH2'\n# set interfaces ethernet eth3 description 'Configured by Ansible'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 mtu '1500'\n# set interfaces loopback lo\n# set interfaces vti vti2 description 'VTI - 2'\n# set interfaces vti vti2 disable\n#\n\n\n# Using replaced\n#\n# -------------\n# Before state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep eth\n# set interfaces bonding bond1 description 'Bond - 1'\n# set interfaces bonding bond1 mtu '1400'\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 description 'Management Interface for the Appliance'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:f3:6c:b5'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Configured by Ansible Eng Team'\n# set interfaces ethernet eth1 duplex 'full'\n# set interfaces ethernet eth1 hw-id '08:00:27:ad:ef:65'\n# set interfaces ethernet eth1 smp_affinity 'auto'\n# set interfaces ethernet eth1 speed '100'\n# set interfaces ethernet eth2 description 'Configured by Ansible'\n# set interfaces ethernet eth2 duplex 'full'\n# set interfaces ethernet eth2 hw-id '08:00:27:ab:4e:79'\n# set interfaces ethernet eth2 mtu '500'\n# set interfaces ethernet eth2 smp_affinity 'auto'\n# set interfaces ethernet eth2 speed '100'\n# set interfaces ethernet eth2 vif 200 description 'Configured by Ansible'\n# set interfaces ethernet eth3 description 'Configured by Ansible'\n# set interfaces ethernet eth3 duplex 'full'\n# set interfaces ethernet eth3 hw-id '08:00:27:17:3c:85'\n# set interfaces ethernet eth3 mtu '1500'\n# set interfaces ethernet eth3 smp_affinity 'auto'\n# set interfaces ethernet eth3 speed '100'\n# set interfaces loopback lo\n#\n#\n- name: Replace device configurations of listed interfaces with provided configurations\n  vyos.vyos.vyos_interfaces:\n    config:\n    - name: eth2\n      description: Replaced by Ansible\n\n    - name: eth3\n      description: Replaced by Ansible\n\n    - name: eth1\n      description: Replaced by Ansible\n    state: replaced\n#\n#\n# -----------------------\n# Module Execution Result\n# -----------------------\n#\n# \"before\": [\n#        {\n#            \"description\": \"Bond - 1\",\n#            \"enabled\": true,\n#            \"mtu\": 1400,\n#            \"name\": \"bond1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible\",\n#            \"duplex\": \"full\",\n#            \"enabled\": true,\n#            \"mtu\": 1500,\n#            \"name\": \"eth3\",\n#            \"speed\": \"100\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible\",\n#            \"duplex\": \"full\",\n#            \"enabled\": true,\n#            \"mtu\": 500,\n#            \"name\": \"eth2\",\n#            \"speed\": \"100\",\n#            \"vifs\": [\n#                {\n#                    \"description\": \"VIF 200 - ETH2\",\n#                    \"enabled\": true,\n#                    \"vlan_id\": \"200\"\n#                }\n#            ]\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Eng Team\",\n#            \"duplex\": \"full\",\n#            \"enabled\": true,\n#            \"name\": \"eth1\",\n#            \"speed\": \"100\"\n#        },\n#        {\n#            \"description\": \"Management Interface for the Appliance\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete interfaces ethernet eth2 speed\",\n#        \"delete interfaces ethernet eth2 duplex\",\n#        \"delete interfaces ethernet eth2 mtu\",\n#        \"delete interfaces ethernet eth2 vif 200 description\",\n#        \"set interfaces ethernet eth2 description 'Replaced by Ansible'\",\n#        \"delete interfaces ethernet eth3 speed\",\n#        \"delete interfaces ethernet eth3 duplex\",\n#        \"delete interfaces ethernet eth3 mtu\",\n#        \"set interfaces ethernet eth3 description 'Replaced by Ansible'\",\n#        \"delete interfaces ethernet eth1 speed\",\n#        \"delete interfaces ethernet eth1 duplex\",\n#        \"set interfaces ethernet eth1 description 'Replaced by Ansible'\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"description\": \"Bond - 1\",\n#            \"enabled\": true,\n#            \"mtu\": 1400,\n#            \"name\": \"bond1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"description\": \"Replaced by Ansible\",\n#            \"enabled\": true,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"description\": \"Replaced by Ansible\",\n#            \"enabled\": true,\n#            \"name\": \"eth2\",\n#            \"vifs\": [\n#                {\n#                    \"enabled\": true,\n#                    \"vlan_id\": \"200\"\n#                }\n#            ]\n#        },\n#        {\n#            \"description\": \"Replaced by Ansible\",\n#            \"enabled\": true,\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"description\": \"Management Interface for the Appliance\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n#\n# -------------\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces bonding bond1 description 'Bond - 1'\n# set interfaces bonding bond1 mtu '1400'\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 description 'Management Interface for the Appliance'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Replaced by Ansible'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth2 description 'Replaced by Ansible'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth2 vif 200\n# set interfaces ethernet eth3 description 'Replaced by Ansible'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces loopback lo\n#\n#\n# Using overridden\n#\n#\n# --------------\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 description 'Ethernet Interface - 0'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 mtu '1200'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Configured by Ansible Eng Team'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 mtu '100'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth1 vif 100 description 'VIF 100 - ETH1'\n# set interfaces ethernet eth1 vif 100 disable\n# set interfaces ethernet eth2 description 'Configured by Ansible Team (Admin Down)'\n# set interfaces ethernet eth2 disable\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 mtu '600'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth3 description 'Configured by Ansible Network'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces loopback lo\n# set interfaces vti vti1 description 'Virtual Tunnel Interface - 1'\n# set interfaces vti vti1 mtu '68'\n#\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_interfaces:\n    config:\n    - name: eth0\n      description: Outbound Interface For The Appliance\n      speed: auto\n      duplex: auto\n\n    - name: eth2\n      speed: auto\n      duplex: auto\n\n    - name: eth3\n      mtu: 1200\n    state: overridden\n#\n#\n# ------------------------\n# Module Execution Result\n# ------------------------\n#\n# \"before\": [\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"description\": \"Virtual Tunnel Interface - 1\",\n#            \"enabled\": true,\n#            \"mtu\": 68,\n#            \"name\": \"vti1\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Network\",\n#            \"enabled\": true,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Team (Admin Down)\",\n#            \"enabled\": false,\n#            \"mtu\": 600,\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Eng Team\",\n#            \"enabled\": true,\n#            \"mtu\": 100,\n#            \"name\": \"eth1\",\n#            \"vifs\": [\n#                {\n#                    \"description\": \"VIF 100 - ETH1\",\n#                    \"enabled\": false,\n#                    \"vlan_id\": \"100\"\n#                }\n#            ]\n#        },\n#        {\n#            \"description\": \"Ethernet Interface - 0\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"mtu\": 1200,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete interfaces vti vti1 description\",\n#        \"delete interfaces vti vti1 mtu\",\n#        \"delete interfaces ethernet eth1 description\",\n#        \"delete interfaces ethernet eth1 mtu\",\n#        \"delete interfaces ethernet eth1 vif 100 description\",\n#        \"delete interfaces ethernet eth1 vif 100 disable\",\n#        \"delete interfaces ethernet eth0 mtu\",\n#        \"set interfaces ethernet eth0 description 'Outbound Interface For The Appliance'\",\n#        \"delete interfaces ethernet eth2 description\",\n#        \"delete interfaces ethernet eth2 mtu\",\n#        \"set interfaces ethernet eth2 duplex 'auto'\",\n#        \"delete interfaces ethernet eth2 disable\",\n#        \"set interfaces ethernet eth2 speed 'auto'\",\n#        \"delete interfaces ethernet eth3 description\",\n#        \"set interfaces ethernet eth3 mtu '1200'\"\n#    ],\n#\n# \"after\": [\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"vti1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"mtu\": 1200,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth2\",\n#            \"speed\": \"auto\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth1\",\n#            \"vifs\": [\n#                {\n#                    \"enabled\": true,\n#                    \"vlan_id\": \"100\"\n#                }\n#            ]\n#        },\n#        {\n#            \"description\": \"Outbound Interface For The Appliance\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n#\n# ------------\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 description 'Outbound Interface For The Appliance'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth1 vif 100\n# set interfaces ethernet eth2 duplex 'auto'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth2 speed 'auto'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 mtu '1200'\n# set interfaces loopback lo\n# set interfaces vti vti1\n#\n#\n# Using deleted\n#\n#\n# -------------\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces bonding bond0 mtu '1300'\n# set interfaces bonding bond1 description 'LAG - 1'\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 description 'Outbound Interface for this appliance'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Configured by Ansible Network'\n# set interfaces ethernet eth1 duplex 'full'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth1 speed '100'\n# set interfaces ethernet eth2 description 'Configured by Ansible'\n# set interfaces ethernet eth2 disable\n# set interfaces ethernet eth2 duplex 'full'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 mtu '600'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth2 speed '100'\n# set interfaces ethernet eth3 description 'Configured by Ansible Network'\n# set interfaces ethernet eth3 duplex 'full'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 speed '100'\n# set interfaces loopback lo\n#\n#\n- name: Delete attributes of given interfaces (Note - This won't delete the interfaces\n    themselves)\n  vyos.vyos.vyos_interfaces:\n    config:\n    - name: bond1\n\n    - name: eth1\n\n    - name: eth2\n\n    - name: eth3\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n# \"before\": [\n#        {\n#            \"enabled\": true,\n#            \"mtu\": 1300,\n#            \"name\": \"bond0\"\n#        },\n#        {\n#            \"description\": \"LAG - 1\",\n#            \"enabled\": true,\n#            \"name\": \"bond1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Network\",\n#            \"duplex\": \"full\",\n#            \"enabled\": true,\n#            \"name\": \"eth3\",\n#            \"speed\": \"100\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible\",\n#            \"duplex\": \"full\",\n#            \"enabled\": false,\n#            \"mtu\": 600,\n#            \"name\": \"eth2\",\n#            \"speed\": \"100\"\n#        },\n#        {\n#            \"description\": \"Configured by Ansible Network\",\n#            \"duplex\": \"full\",\n#            \"enabled\": true,\n#            \"name\": \"eth1\",\n#            \"speed\": \"100\"\n#        },\n#        {\n#            \"description\": \"Outbound Interface for this appliance\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete interfaces bonding bond1 description\",\n#        \"delete interfaces ethernet eth1 speed\",\n#        \"delete interfaces ethernet eth1 duplex\",\n#        \"delete interfaces ethernet eth1 description\",\n#        \"delete interfaces ethernet eth2 speed\",\n#        \"delete interfaces ethernet eth2 disable\",\n#        \"delete interfaces ethernet eth2 duplex\",\n#        \"delete interfaces ethernet eth2 disable\",\n#        \"delete interfaces ethernet eth2 description\",\n#        \"delete interfaces ethernet eth2 disable\",\n#        \"delete interfaces ethernet eth2 mtu\",\n#        \"delete interfaces ethernet eth2 disable\",\n#        \"delete interfaces ethernet eth3 speed\",\n#        \"delete interfaces ethernet eth3 duplex\",\n#        \"delete interfaces ethernet eth3 description\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"enabled\": true,\n#            \"mtu\": 1300,\n#            \"name\": \"bond0\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"bond1\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"lo\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth3\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"enabled\": true,\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"description\": \"Outbound Interface for this appliance\",\n#            \"duplex\": \"auto\",\n#            \"enabled\": true,\n#            \"name\": \"eth0\",\n#            \"speed\": \"auto\"\n#        }\n#    ]\n#\n#\n# ------------\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration commands | grep interfaces\n# set interfaces bonding bond0 mtu '1300'\n# set interfaces bonding bond1\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 description 'Outbound Interface for this appliance'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:ea:0f:b9'\n# set interfaces ethernet eth1 smp-affinity 'auto'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth2 smp-affinity 'auto'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces loopback lo\n#\n#\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep interfaces\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:50:5e:19'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Configured by Ansible'\n# set interfaces ethernet eth1 duplex 'auto'\n# set interfaces ethernet eth1 mtu '1500'\n# set interfaces ethernet eth1 speed 'auto'\n# set interfaces ethernet eth1 vif 200 description 'VIF - 200'\n# set interfaces ethernet eth2 description 'Configured by Ansible'\n# set interfaces ethernet eth2 duplex 'auto'\n# set interfaces ethernet eth2 mtu '1500'\n# set interfaces ethernet eth2 speed 'auto'\n# set interfaces ethernet eth2 vif 200 description 'VIF - 200'\n#\n- name: Gather listed interfaces with provided configurations\n  vyos.vyos.vyos_interfaces:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#         {\n#             \"description\": \"Configured by Ansible\",\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"mtu\": 1500,\n#             \"name\": \"eth2\",\n#             \"speed\": \"auto\",\n#             \"vifs\": [\n#                 {\n#                     \"description\": \"VIF - 200\",\n#                     \"enabled\": true,\n#                     \"vlan_id\": 200\n#                 }\n#             ]\n#         },\n#         {\n#             \"description\": \"Configured by Ansible\",\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"mtu\": 1500,\n#             \"name\": \"eth1\",\n#             \"speed\": \"auto\",\n#             \"vifs\": [\n#                 {\n#                     \"description\": \"VIF - 200\",\n#                     \"enabled\": true,\n#                     \"vlan_id\": 200\n#                 }\n#             ]\n#         },\n#         {\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"name\": \"eth0\",\n#             \"speed\": \"auto\"\n#         }\n#     ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep interfaces\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:50:5e:19'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 description 'Configured by Ansible'\n# set interfaces ethernet eth1 duplex 'auto'\n# set interfaces ethernet eth1 mtu '1500'\n# set interfaces ethernet eth1 speed 'auto'\n# set interfaces ethernet eth1 vif 200 description 'VIF - 200'\n# set interfaces ethernet eth2 description 'Configured by Ansible'\n# set interfaces ethernet eth2 duplex 'auto'\n# set interfaces ethernet eth2 mtu '1500'\n# set interfaces ethernet eth2 speed 'auto'\n# set interfaces ethernet eth2 vif 200 description 'VIF - 200'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_interfaces:\n    config:\n    - name: eth0\n      enabled: true\n      duplex: auto\n      speed: auto\n    - name: eth1\n      description: Configured by Ansible - Interface 1\n      mtu: 1500\n      speed: auto\n      duplex: auto\n      enabled: true\n      vifs:\n      - vlan_id: 100\n        description: Eth1 - VIF 100\n        mtu: 400\n        enabled: true\n      - vlan_id: 101\n        description: Eth1 - VIF 101\n        enabled: true\n    - name: eth2\n      description: Configured by Ansible - Interface 2 (ADMIN DOWN)\n      mtu: 600\n      enabled: false\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#         \"set interfaces ethernet eth0 duplex 'auto'\",\n#         \"set interfaces ethernet eth0 speed 'auto'\",\n#         \"delete interfaces ethernet eth0 disable\",\n#         \"set interfaces ethernet eth1 duplex 'auto'\",\n#         \"delete interfaces ethernet eth1 disable\",\n#         \"set interfaces ethernet eth1 speed 'auto'\",\n#         \"set interfaces ethernet eth1 description 'Configured by Ansible - Interface 1'\",\n#         \"set interfaces ethernet eth1 mtu '1500'\",\n#         \"set interfaces ethernet eth1 vif 100 description 'Eth1 - VIF 100'\",\n#         \"set interfaces ethernet eth1 vif 100 mtu '400'\",\n#         \"set interfaces ethernet eth1 vif 101 description 'Eth1 - VIF 101'\",\n#         \"set interfaces ethernet eth2 disable\",\n#         \"set interfaces ethernet eth2 description 'Configured by Ansible - Interface 2 (ADMIN DOWN)'\",\n#         \"set interfaces ethernet eth2 mtu '600'\"\n#     ]\n\n\n# Using parsed\n#\n#\n- name: Parse the configuration.\n  vyos.vyos.vyos_interfaces:\n    running_config:\n      \"set interfaces ethernet eth0 address 'dhcp'\n       set interfaces ethernet eth0 duplex 'auto'\n       set interfaces ethernet eth0 hw-id '08:00:27:50:5e:19'\n       set interfaces ethernet eth0 smp_affinity 'auto'\n       set interfaces ethernet eth0 speed 'auto'\n       set interfaces ethernet eth1 description 'Configured by Ansible'\n       set interfaces ethernet eth1 duplex 'auto'\n       set interfaces ethernet eth1 mtu '1500'\n       set interfaces ethernet eth1 speed 'auto'\n       set interfaces ethernet eth1 vif 200 description 'VIF - 200'\n       set interfaces ethernet eth2 description 'Configured by Ansible'\n       set interfaces ethernet eth2 duplex 'auto'\n       set interfaces ethernet eth2 mtu '1500'\n       set interfaces ethernet eth2 speed 'auto'\n       set interfaces ethernet eth2 vif 200 description 'VIF - 200'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#         {\n#             \"description\": \"Configured by Ansible\",\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"mtu\": 1500,\n#             \"name\": \"eth2\",\n#             \"speed\": \"auto\",\n#             \"vifs\": [\n#                 {\n#                     \"description\": \"VIF - 200\",\n#                     \"enabled\": true,\n#                     \"vlan_id\": 200\n#                 }\n#             ]\n#         },\n#         {\n#             \"description\": \"Configured by Ansible\",\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"mtu\": 1500,\n#             \"name\": \"eth1\",\n#             \"speed\": \"auto\",\n#             \"vifs\": [\n#                 {\n#                     \"description\": \"VIF - 200\",\n#                     \"enabled\": true,\n#                     \"vlan_id\": 200\n#                 }\n#             ]\n#         },\n#         {\n#             \"duplex\": \"auto\",\n#             \"enabled\": true,\n#             \"name\": \"eth0\",\n#             \"speed\": \"auto\"\n#         }\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_l3_interface": {
    "doc": {
      "description": "This module provides declarative management of L3 interfaces on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VYOS 1.1.7\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [],
          "description": "List of L3 interfaces definitions",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "ipv4": {
              "aliases": [],
              "description": "IPv4 of the L3 interface.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "ipv6": {
              "aliases": [],
              "description": "IPv6 of the L3 interface.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Name of the L3 interface.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the L3 interface configuration.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent"
              ],
              "suboptions": {}
            }
          }
        },
        "ipv4": {
          "aliases": [],
          "description": "IPv4 of the L3 interface.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "ipv6": {
          "aliases": [],
          "description": "IPv6 of the L3 interface.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "Name of the L3 interface.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the L3 interface configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage L3 interfaces on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: Set eth0 IPv4 address\n  vyos.vyos.vyos_l3_interface:\n    name: eth0\n    ipv4: 192.168.0.1/24\n\n- name: Remove eth0 IPv4 address\n  vyos.vyos.vyos_l3_interface:\n    name: eth0\n    state: absent\n\n- name: Set IP addresses on aggregate\n  vyos.vyos.vyos_l3_interface:\n    aggregate:\n    - {name: eth1, ipv4: 192.168.2.10/24}\n    - {name: eth2, ipv4: 192.168.3.10/24, ipv6: \"fd5d:12c9:2201:1::1/64\"}\n\n- name: Remove IP addresses on aggregate\n  vyos.vyos.vyos_l3_interface:\n    aggregate:\n    - {name: eth1, ipv4: 192.168.2.10/24}\n    - {name: eth2, ipv4: 192.168.3.10/24, ipv6: \"fd5d:12c9:2201:1::1/64\"}\n    state: absent\n"
  },
  "vyos.vyos.vyos_l3_interfaces": {
    "doc": {
      "description": "This module manages the L3 interface attributes on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "The provided L3 interfaces configuration.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "ipv4": {
              "aliases": [],
              "description": "List of IPv4 addresses of the interface.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "IPv4 address of the interface.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "ipv6": {
              "aliases": [],
              "description": "List of IPv6 addresses of the interface.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "IPv6 address of the interface.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "name": {
              "aliases": [],
              "description": "Full name of the interface, e.g. eth0, eth1.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "vifs": {
              "aliases": [],
              "description": "Virtual sub-interfaces L3 configurations.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "ipv4": {
                  "aliases": [],
                  "description": "List of IPv4 addresses of the virtual interface.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "IPv4 address of the virtual interface.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "ipv6": {
                  "aliases": [],
                  "description": "List of IPv6 addresses of the virtual interface.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "IPv6 address of the virtual interface.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "vlan_id": {
                  "aliases": [],
                  "description": "Identifier for the virtual sub-interface.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep -e eth[2,3]).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "parsed",
            "gathered",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "L3 interfaces resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep -e eth[2,3]\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101\n# set interfaces ethernet eth3 vif 102\n\n- name: Merge provided configuration with device configuration\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    - name: eth2\n      ipv4:\n      - address: 192.0.2.10/28\n      - address: 198.51.100.40/27\n      ipv6:\n      - address: 2001:db8:100::2/32\n      - address: 2001:db8:400::10/32\n\n    - name: eth3\n      ipv4:\n      - address: 203.0.113.65/26\n      vifs:\n      - vlan_id: 101\n        ipv4:\n        - address: 192.0.2.71/28\n        - address: 198.51.100.131/25\n      - vlan_id: 102\n        ipv6:\n        - address: 2001:db8:1000::5/38\n        - address: 2001:db8:1400::3/38\n    state: merged\n\n# After state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep -e eth[2,3]\n# set interfaces ethernet eth2 address '192.0.2.10/28'\n# set interfaces ethernet eth2 address '198.51.100.40/27'\n# set interfaces ethernet eth2 address '2001:db8:100::2/32'\n# set interfaces ethernet eth2 address '2001:db8:400::10/32'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 address '203.0.113.65/26'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101 address '192.0.2.71/28'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.131/25'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:1000::5/38'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:1400::3/38'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::2/34'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:EA:0F:B9'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 address '192.0.2.11/24'\n# set interfaces ethernet eth2 address '2001:db8::10/32'\n# set interfaces ethernet eth2 address '2001:db8::11/32'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 address '198.51.100.10/24'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.130/25'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.131/25'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::3/34'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::2/34'\n#\n- name: Replace device configurations of listed interfaces with provided configurations\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    - name: eth2\n      ipv4:\n      - address: 192.0.2.10/24\n\n    - name: eth3\n      ipv6:\n      - address: 2001:db8::11/32\n    state: replaced\n\n# After state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:EA:0F:B9'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 address '2001:db8::11/32'\n# set interfaces ethernet eth3 vif 101\n# set interfaces ethernet eth3 vif 102\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos-appliance:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:EA:0F:B9'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 address '192.0.2.11/24'\n# set interfaces ethernet eth2 address '2001:db8::10/32'\n# set interfaces ethernet eth2 address '2001:db8::11/32'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 address '198.51.100.10/24'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.130/25'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.131/25'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::3/34'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::2/34'\n\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    - name: eth0\n      ipv4:\n      - address: dhcp\n      ipv6:\n      - address: dhcpv6\n    state: overridden\n\n# After state\n# ------------\n#\n# vyos@vyos-appliance:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 address 'dhcpv6'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:EA:0F:B9'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101\n# set interfaces ethernet eth3 vif 102\n\n\n# Using deleted\n#\n# Before state\n# -------------\n# vyos@vyos-appliance:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:30:f0:22'\n# set interfaces ethernet eth0 smp-affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:EA:0F:B9'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 address '192.0.2.11/24'\n# set interfaces ethernet eth2 address '2001:db8::10/32'\n# set interfaces ethernet eth2 address '2001:db8::11/32'\n# set interfaces ethernet eth2 hw-id '08:00:27:c2:98:23'\n# set interfaces ethernet eth3 address '198.51.100.10/24'\n# set interfaces ethernet eth3 hw-id '08:00:27:43:70:8c'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.130/25'\n# set interfaces ethernet eth3 vif 101 address '198.51.100.131/25'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::3/34'\n# set interfaces ethernet eth3 vif 102 address '2001:db8:4000::2/34'\n\n- name: Delete L3 attributes of given interfaces (Note - This won't delete the interface\n    itself)\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    - name: eth1\n    - name: eth2\n    - name: eth3\n    state: deleted\n\n# After state\n# ------------\n# vyos@vyos-appliance:~$ show configuration commands | grep eth\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:f3:6c:b5'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 hw-id '08:00:27:ad:ef:65'\n# set interfaces ethernet eth1 smp_affinity 'auto'\n# set interfaces ethernet eth2 hw-id '08:00:27:ab:4e:79'\n# set interfaces ethernet eth2 smp_affinity 'auto'\n# set interfaces ethernet eth3 hw-id '08:00:27:17:3c:85'\n# set interfaces ethernet eth3 smp_affinity 'auto'\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep -e eth[2,3,0]\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:50:5e:19'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.11/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 address '2001:db8::10/32'\n# set interfaces ethernet eth2 address '2001:db8::12/32'\n#\n- name: Gather listed l3 interfaces with provided configurations\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"192.0.2.11/24\"\n#                 },\n#                 {\n#                     \"address\": \"192.0.2.10/24\"\n#                 }\n#             ],\n#             \"ipv6\": [\n#                 {\n#                     \"address\": \"2001:db8::10/32\"\n#                 },\n#                 {\n#                     \"address\": \"2001:db8::12/32\"\n#                 }\n#             ],\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"192.0.2.14/24\"\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"dhcp\"\n#                 }\n#             ],\n#             \"name\": \"eth0\"\n#         }\n#     ]\n#\n#\n# After state:\n# -------------\n#\n# vyos:~$ show configuration commands | grep -e eth[2,3]\n# set interfaces ethernet eth0 address 'dhcp'\n# set interfaces ethernet eth0 duplex 'auto'\n# set interfaces ethernet eth0 hw-id '08:00:27:50:5e:19'\n# set interfaces ethernet eth0 smp_affinity 'auto'\n# set interfaces ethernet eth0 speed 'auto'\n# set interfaces ethernet eth1 address '192.0.2.14/24'\n# set interfaces ethernet eth2 address '192.0.2.11/24'\n# set interfaces ethernet eth2 address '192.0.2.10/24'\n# set interfaces ethernet eth2 address '2001:db8::10/32'\n# set interfaces ethernet eth2 address '2001:db8::12/32'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_l3_interfaces:\n    config:\n    - name: eth1\n      ipv4:\n      - address: 192.0.2.14/24\n    - name: eth2\n      ipv4:\n      - address: 192.0.2.10/24\n      - address: 192.0.2.11/24\n      ipv6:\n      - address: 2001:db8::10/32\n      - address: 2001:db8::12/32\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#         \"set interfaces ethernet eth1 address '192.0.2.14/24'\",\n#         \"set interfaces ethernet eth2 address '192.0.2.11/24'\",\n#         \"set interfaces ethernet eth2 address '192.0.2.10/24'\",\n#         \"set interfaces ethernet eth2 address '2001:db8::10/32'\",\n#         \"set interfaces ethernet eth2 address '2001:db8::12/32'\"\n#     ]\n\n\n# Using parsed\n#\n#\n- name: parse the provided running configuration\n  vyos.vyos.vyos_l3_interfaces:\n    running_config:\n      \"set interfaces ethernet eth0 address 'dhcp'\n       set interfaces ethernet eth1 address '192.0.2.14/24'\n       set interfaces ethernet eth2 address '192.0.2.10/24'\n       set interfaces ethernet eth2 address '192.0.2.11/24'\n       set interfaces ethernet eth2 address '2001:db8::10/32'\n       set interfaces ethernet eth2 address '2001:db8::12/32'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"192.0.2.10/24\"\n#                 },\n#                 {\n#                     \"address\": \"192.0.2.11/24\"\n#                 }\n#             ],\n#             \"ipv6\": [\n#                 {\n#                     \"address\": \"2001:db8::10/32\"\n#                 },\n#                 {\n#                     \"address\": \"2001:db8::12/32\"\n#                 }\n#             ],\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"192.0.2.14/24\"\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"ipv4\": [\n#                 {\n#                     \"address\": \"dhcp\"\n#                 }\n#             ],\n#             \"name\": \"eth0\"\n#         }\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_lag_interfaces": {
    "doc": {
      "description": "This module manages attributes of link aggregation groups on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of link aggregation group configurations.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "arp_monitor": {
              "aliases": [],
              "description": "ARP Link monitoring parameters.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "interval": {
                  "aliases": [],
                  "description": "ARP link monitoring frequency in milliseconds.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "target": {
                  "aliases": [],
                  "description": "IP address to use for ARP monitoring.",
                  "type": "list",
                  "required": false,
                  "elements": "str",
                  "suboptions": {}
                }
              }
            },
            "hash_policy": {
              "aliases": [],
              "description": "LAG or bonding transmit hash policy.",
              "type": "str",
              "required": false,
              "choices": [
                "layer2",
                "layer2+3",
                "layer3+4"
              ],
              "suboptions": {}
            },
            "members": {
              "aliases": [],
              "description": "List of member interfaces for the LAG (bond).",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "member": {
                  "aliases": [],
                  "description": "Name of the member interface.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "mode": {
              "aliases": [],
              "description": "LAG or bond mode.",
              "type": "str",
              "required": false,
              "choices": [
                "802.3ad",
                "active-backup",
                "broadcast",
                "round-robin",
                "transmit-load-balance",
                "adaptive-load-balance",
                "xor-hash"
              ],
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Name of the link aggregation group (LAG) or bond.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "primary": {
              "aliases": [],
              "description": "Primary device interfaces for the LAG (bond).",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep bond).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "parsed",
            "gathered",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "LAG interfaces resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2\n# set interfaces bonding bond3\n#\n- name: Merge provided configuration with device configuration\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    - name: bond2\n      mode: active-backup\n      members:\n      - member: eth2\n      - member: eth1\n      hash_policy: layer2\n      primary: eth2\n\n    - name: bond3\n      mode: active-backup\n      hash_policy: layer2+3\n      members:\n      - member: eth3\n      primary: eth3\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"bond3\"\n#        }\n#    ],\n#\n# \"commands\": [\n#        \"set interfaces bonding bond2 hash-policy 'layer2'\",\n#        \"set interfaces bonding bond2 mode 'active-backup'\",\n#        \"set interfaces ethernet eth2 bond-group bond2\",\n#        \"set interfaces ethernet eth1 bond-group bond2\",\n#        \"set interfaces bonding bond2 primary 'eth2'\",\n#        \"set interfaces bonding bond3 hash-policy 'layer2+3'\",\n#        \"set interfaces bonding bond3 mode 'active-backup'\",\n#        \"set interfaces ethernet eth3 bond-group bond3\",\n#        \"set interfaces bonding bond3 primary 'eth3'\"\n#    ]\n#\n#     \"after\": [\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond2\",\n#            \"primary\": \"eth2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2+3\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond3\",\n#            \"primary\": \"eth3\"\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2 hash-policy 'layer2'\n# set interfaces bonding bond2 mode 'active-backup'\n# set interfaces bonding bond2 primary 'eth2'\n# set interfaces bonding bond3 hash-policy 'layer2+3'\n# set interfaces bonding bond3 mode 'active-backup'\n# set interfaces bonding bond3 primary 'eth3'\n# set interfaces ethernet eth1 bond-group 'bond2'\n# set interfaces ethernet eth2 bond-group 'bond2'\n# set interfaces ethernet eth3 bond-group 'bond3'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2 hash-policy 'layer2'\n# set interfaces bonding bond2 mode 'active-backup'\n# set interfaces bonding bond2 primary 'eth2'\n# set interfaces bonding bond3 hash-policy 'layer2+3'\n# set interfaces bonding bond3 mode 'active-backup'\n# set interfaces bonding bond3 primary 'eth3'\n# set interfaces ethernet eth1 bond-group 'bond2'\n# set interfaces ethernet eth2 bond-group 'bond2'\n# set interfaces ethernet eth3 bond-group 'bond3'\n#\n- name: Replace device configurations of listed LAGs with provided configurations\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    - name: bond3\n      mode: 802.3ad\n      hash_policy: layer2\n      members:\n      - member: eth3\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond2\",\n#            \"primary\": \"eth2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2+3\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond3\",\n#            \"primary\": \"eth3\"\n#        }\n#    ],\n#\n# \"commands\": [\n#        \"delete interfaces bonding bond3 primary\",\n#        \"set interfaces bonding bond3 hash-policy 'layer2'\",\n#        \"set interfaces bonding bond3 mode '802.3ad'\"\n#    ],\n#\n# \"after\": [\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond2\",\n#            \"primary\": \"eth2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"802.3ad\",\n#            \"name\": \"bond3\"\n#        }\n#    ],\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2 hash-policy 'layer2'\n# set interfaces bonding bond2 mode 'active-backup'\n# set interfaces bonding bond2 primary 'eth2'\n# set interfaces bonding bond3 hash-policy 'layer2'\n# set interfaces bonding bond3 mode '802.3ad'\n# set interfaces ethernet eth1 bond-group 'bond2'\n# set interfaces ethernet eth2 bond-group 'bond2'\n# set interfaces ethernet eth3 bond-group 'bond3'\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2 hash-policy 'layer2'\n# set interfaces bonding bond2 mode 'active-backup'\n# set interfaces bonding bond2 primary 'eth2'\n# set interfaces bonding bond3 hash-policy 'layer2'\n# set interfaces bonding bond3 mode '802.3ad'\n# set interfaces ethernet eth1 bond-group 'bond2'\n# set interfaces ethernet eth2 bond-group 'bond2'\n# set interfaces ethernet eth3 bond-group 'bond3'\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    - name: bond3\n      mode: active-backup\n      members:\n      - member: eth1\n      - member: eth2\n      - member: eth3\n      primary: eth3\n      hash_policy: layer2\n    state: overridden\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond2\",\n#            \"primary\": \"eth2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"802.3ad\",\n#            \"name\": \"bond3\"\n#        }\n#    ],\n#\n#    \"commands\": [\n#        \"delete interfaces bonding bond2 hash-policy\",\n#        \"delete interfaces ethernet eth1 bond-group bond2\",\n#        \"delete interfaces ethernet eth2 bond-group bond2\",\n#        \"delete interfaces bonding bond2 mode\",\n#        \"delete interfaces bonding bond2 primary\",\n#        \"set interfaces bonding bond3 mode 'active-backup'\",\n#        \"set interfaces ethernet eth1 bond-group bond3\",\n#        \"set interfaces ethernet eth2 bond-group bond3\",\n#        \"set interfaces bonding bond3 primary 'eth3'\"\n#    ],\n#\n# \"after\": [\n#        {\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                },\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond3\",\n#            \"primary\": \"eth3\"\n#        }\n#    ],\n#\n#\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2\n# set interfaces bonding bond3 hash-policy 'layer2'\n# set interfaces bonding bond3 mode 'active-backup'\n# set interfaces bonding bond3 primary 'eth3'\n# set interfaces ethernet eth1 bond-group 'bond3'\n# set interfaces ethernet eth2 bond-group 'bond3'\n# set interfaces ethernet eth3 bond-group 'bond3'\n\n\n# Using deleted\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2 hash-policy 'layer2'\n# set interfaces bonding bond2 mode 'active-backup'\n# set interfaces bonding bond2 primary 'eth2'\n# set interfaces bonding bond3 hash-policy 'layer2+3'\n# set interfaces bonding bond3 mode 'active-backup'\n# set interfaces bonding bond3 primary 'eth3'\n# set interfaces ethernet eth1 bond-group 'bond2'\n# set interfaces ethernet eth2 bond-group 'bond2'\n# set interfaces ethernet eth3 bond-group 'bond3'\n#\n- name: Delete LAG attributes of given interfaces (Note This won't delete the interface\n    itself)\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    - name: bond2\n    - name: bond3\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n# \"before\": [\n#        {\n#            \"hash_policy\": \"layer2\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth1\"\n#                },\n#                {\n#                    \"member\": \"eth2\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond2\",\n#            \"primary\": \"eth2\"\n#        },\n#        {\n#            \"hash_policy\": \"layer2+3\",\n#            \"members\": [\n#                {\n#                    \"member\": \"eth3\"\n#                }\n#            ],\n#            \"mode\": \"active-backup\",\n#            \"name\": \"bond3\",\n#            \"primary\": \"eth3\"\n#        }\n#    ],\n# \"commands\": [\n#        \"delete interfaces bonding bond2 hash-policy\",\n#        \"delete interfaces ethernet eth1 bond-group bond2\",\n#        \"delete interfaces ethernet eth2 bond-group bond2\",\n#        \"delete interfaces bonding bond2 mode\",\n#        \"delete interfaces bonding bond2 primary\",\n#        \"delete interfaces bonding bond3 hash-policy\",\n#        \"delete interfaces ethernet eth3 bond-group bond3\",\n#        \"delete interfaces bonding bond3 mode\",\n#        \"delete interfaces bonding bond3 primary\"\n#    ],\n#\n# \"after\": [\n#        {\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"bond3\"\n#        }\n#    ],\n#\n# After state\n# ------------\n# vyos@vyos:~$ show configuration  commands | grep bond\n# set interfaces bonding bond2\n# set interfaces bonding bond3\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep bond\n# set interfaces bonding bond0 hash-policy 'layer2'\n# set interfaces bonding bond0 mode 'active-backup'\n# set interfaces bonding bond0 primary 'eth1'\n# set interfaces bonding bond1 hash-policy 'layer2+3'\n# set interfaces bonding bond1 mode 'active-backup'\n# set interfaces bonding bond1 primary 'eth2'\n# set interfaces ethernet eth1 bond-group 'bond0'\n# set interfaces ethernet eth2 bond-group 'bond1'\n#\n- name: Gather listed  lag interfaces with provided configurations\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#        {\n#            \"afi\": \"ipv6\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"This is ipv6 specific rule-set\",\n#                    \"name\": \"UPLINK\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 1 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 1\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Fwipv6-Rule 2 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 2\n#                        }\n#                    ]\n#                }\n#            ]\n#        },\n#        {\n#            \"afi\": \"ipv4\",\n#            \"rule_sets\": [\n#                {\n#                    \"default_action\": \"accept\",\n#                    \"description\": \"IPv4 INBOUND rule set\",\n#                    \"name\": \"INBOUND\",\n#                    \"rules\": [\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 101 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 101\n#                        },\n#                        {\n#                            \"action\": \"reject\",\n#                            \"description\": \"Rule 102 is configured by Ansible\",\n#                            \"ipsec\": \"match-ipsec\",\n#                            \"number\": 102\n#                        },\n#                        {\n#                            \"action\": \"accept\",\n#                            \"description\": \"Rule 103 is configured by Ansible\",\n#                            \"destination\": {\n#                                \"group\": {\n#                                    \"address_group\": \"inbound\"\n#                                }\n#                            },\n#                            \"number\": 103,\n#                            \"source\": {\n#                                \"address\": \"192.0.2.0\"\n#                            },\n#                            \"state\": {\n#                                \"established\": true,\n#                                \"invalid\": false,\n#                                \"new\": false,\n#                                \"related\": true\n#                            }\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep bond\n# set interfaces bonding bond0 hash-policy 'layer2'\n# set interfaces bonding bond0 mode 'active-backup'\n# set interfaces bonding bond0 primary 'eth1'\n# set interfaces bonding bond1 hash-policy 'layer2+3'\n# set interfaces bonding bond1 mode 'active-backup'\n# set interfaces bonding bond1 primary 'eth2'\n# set interfaces ethernet eth1 bond-group 'bond0'\n# set interfaces ethernet eth2 bond-group 'bond1'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_lag_interfaces:\n    config:\n    - name: bond0\n      hash_policy: layer2\n      members:\n      - member: eth1\n      mode: active-backup\n      primary: eth1\n    - name: bond1\n      hash_policy: layer2+3\n      members:\n      - member: eth2\n      mode: active-backup\n      primary: eth2\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        \"set interfaces bonding bond0 hash-policy 'layer2'\",\n#        \"set interfaces ethernet eth1 bond-group 'bond0'\",\n#        \"set interfaces bonding bond0 mode 'active-backup'\",\n#        \"set interfaces bonding bond0 primary 'eth1'\",\n#        \"set interfaces bonding bond1 hash-policy 'layer2+3'\",\n#        \"set interfaces ethernet eth2 bond-group 'bond1'\",\n#        \"set interfaces bonding bond1 mode 'active-backup'\",\n#        \"set interfaces bonding bond1 primary 'eth2'\"\n#    ]\n\n\n# Using parsed\n#\n#\n- name: Parsed the commands for provided  configuration\n  vyos.vyos.vyos_l3_interfaces:\n    running_config:\n      \"set interfaces bonding bond0 hash-policy 'layer2'\n       set interfaces bonding bond0 mode 'active-backup'\n       set interfaces bonding bond0 primary 'eth1'\n       set interfaces bonding bond1 hash-policy 'layer2+3'\n       set interfaces bonding bond1 mode 'active-backup'\n       set interfaces bonding bond1 primary 'eth2'\n       set interfaces ethernet eth1 bond-group 'bond0'\n       set interfaces ethernet eth2 bond-group 'bond1'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#         {\n#             \"hash_policy\": \"layer2\",\n#             \"members\": [\n#                 {\n#                     \"member\": \"eth1\"\n#                 }\n#             ],\n#             \"mode\": \"active-backup\",\n#             \"name\": \"bond0\",\n#             \"primary\": \"eth1\"\n#         },\n#         {\n#             \"hash_policy\": \"layer2+3\",\n#             \"members\": [\n#                 {\n#                     \"member\": \"eth2\"\n#                 }\n#             ],\n#             \"mode\": \"active-backup\",\n#             \"name\": \"bond1\",\n#             \"primary\": \"eth2\"\n#         }\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_linkagg": {
    "doc": {
      "description": "This module provides declarative management of link aggregation groups on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VYOS 1.1.7\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [],
          "description": "List of link aggregation definitions.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "members": {
              "aliases": [],
              "description": "List of members of the link aggregation group.",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "mode": {
              "aliases": [],
              "description": "Mode of the link aggregation group.",
              "type": "str",
              "required": false,
              "choices": [
                "802.3ad",
                "active-backup",
                "broadcast",
                "round-robin",
                "transmit-load-balance",
                "adaptive-load-balance",
                "xor-hash",
                "on"
              ],
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Name of the link aggregation group.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the link aggregation group.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent",
                "up",
                "down"
              ],
              "suboptions": {}
            }
          }
        },
        "members": {
          "aliases": [],
          "description": "List of members of the link aggregation group.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "mode": {
          "aliases": [],
          "description": "Mode of the link aggregation group.",
          "default": "802.3ad",
          "type": "str",
          "required": false,
          "choices": [
            "802.3ad",
            "active-backup",
            "broadcast",
            "round-robin",
            "transmit-load-balance",
            "adaptive-load-balance",
            "xor-hash",
            "on"
          ],
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "Name of the link aggregation group.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the link aggregation group.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent",
            "up",
            "down"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage link aggregation groups on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure link aggregation group\n  vyos.vyos.vyos_linkagg:\n    name: bond0\n    members:\n    - eth0\n    - eth1\n\n- name: remove configuration\n  vyos.vyos.vyos_linkagg:\n    name: bond0\n    state: absent\n\n- name: Create aggregate of linkagg definitions\n  vyos.vyos.vyos_linkagg:\n    aggregate:\n    - {name: bond0, members: [eth1]}\n    - {name: bond1, members: [eth2]}\n\n- name: Remove aggregate of linkagg definitions\n  vyos.vyos.vyos_linkagg:\n    aggregate:\n    - name: bond0\n    - name: bond1\n    state: absent\n"
  },
  "vyos.vyos.vyos_lldp": {
    "doc": {
      "description": "This module provides declarative management of LLDP service on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VYOS 1.1.7\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "interfaces": {
          "aliases": [],
          "description": "Name of the interfaces.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the link aggregation group.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent",
            "enabled",
            "disabled"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage LLDP configuration on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: Enable LLDP service\n  vyos.vyos.vyos_lldp:\n    state: present\n\n- name: Disable LLDP service\n  vyos.vyos.vyos_lldp:\n    state: absent\n"
  },
  "vyos.vyos.vyos_lldp_global": {
    "doc": {
      "description": "This module manages link layer discovery protocol (LLDP) attributes on VyOS devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "The provided link layer discovery protocol (LLDP) configuration.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "address": {
              "aliases": [],
              "description": "This argument defines management-address.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "enable": {
              "aliases": [],
              "description": "This argument is a boolean value to enable or disable LLDP.",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "legacy_protocols": {
              "aliases": [],
              "description": "List of the supported legacy protocols.",
              "type": "list",
              "required": false,
              "choices": [
                "cdp",
                "edp",
                "fdp",
                "sonmp"
              ],
              "elements": "str",
              "suboptions": {}
            },
            "snmp": {
              "aliases": [],
              "description": "This argument enable the SNMP queries to LLDP database.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep lldp).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "deleted",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "LLDP global resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands|grep lldp\n#\n- name: Merge provided configuration with device configuration\n  vyos.vyos.vyos_lldp_global:\n    config:\n      legacy_protocols:\n      - fdp\n      - cdp\n      snmp: enable\n      address: 192.0.2.11\n    state: merged\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n# \"before\": []\n#\n# \"commands\": [\n#        \"set service lldp legacy-protocols fdp\",\n#        \"set service lldp legacy-protocols cdp\",\n#        \"set service lldp snmp enable\",\n#        \"set service lldp management-address '192.0.2.11'\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"snmp\": \"enable\"\n#        },\n#        {\n#            \"address\": \"192.0.2.11\"\n#        },\n#        {\n#            \"legacy_protocols\": [\n#                \"cdp\",\n#                \"fdp\"\n#            ]\n#        }\n#        {\n#            \"enable\": true\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# set service lldp legacy-protocols cdp\n# set service lldp legacy-protocols fdp\n# set service lldp management-address '192.0.2.11'\n# set service lldp snmp enable\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp legacy-protocols cdp\n# set service lldp legacy-protocols fdp\n# set service lldp management-address '192.0.2.11'\n# set service lldp snmp enable\n#\n- name: Replace device configurations with provided configurations\n  vyos.vyos.vyos_lldp_global:\n    config:\n      legacy_protocols:\n      - edp\n      - sonmp\n      - cdp\n      address: 192.0.2.14\n    state: replaced\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#\n# \"before\": [\n#        {\n#            \"snmp\": \"enable\"\n#        },\n#        {\n#            \"address\": \"192.0.2.11\"\n#        },\n#        {\n#            \"legacy_protocols\": [\n#                \"cdp\",\n#                \"fdp\"\n#            ]\n#        }\n#        {\n#            \"enable\": true\n#        }\n#    ]\n# \"commands\": [\n#        \"delete service lldp snmp\",\n#        \"delete service lldp legacy-protocols fdp\",\n#        \"set service lldp management-address '192.0.2.14'\",\n#        \"set service lldp legacy-protocols edp\",\n#        \"set service lldp legacy-protocols sonmp\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"address\": \"192.0.2.14\"\n#        },\n#        {\n#            \"legacy_protocols\": [\n#                \"cdp\",\n#                \"edp\",\n#                \"sonmp\"\n#            ]\n#        }\n#        {\n#            \"enable\": true\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands|grep lldp\n# set service lldp legacy-protocols cdp\n# set service lldp legacy-protocols edp\n# set service lldp legacy-protocols sonmp\n# set service lldp management-address '192.0.2.14'\n\n\n# Using deleted\n#\n# Before state\n# -------------\n# vyos@vyos:~$ show configuration commands|grep lldp\n# set service lldp legacy-protocols cdp\n# set service lldp legacy-protocols edp\n# set service lldp legacy-protocols sonmp\n# set service lldp management-address '192.0.2.14'\n#\n- name: Delete attributes of given lldp service (This won't delete the LLDP service\n    itself)\n  vyos.vyos.vyos_lldp_global:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n# \"before\": [\n#        {\n#            \"address\": \"192.0.2.14\"\n#        },\n#        {\n#            \"legacy_protocols\": [\n#                \"cdp\",\n#                \"edp\",\n#                \"sonmp\"\n#            ]\n#        }\n#        {\n#            \"enable\": true\n#        }\n#    ]\n#\n#  \"commands\": [\n#       \"delete service lldp management-address\",\n#        \"delete service lldp legacy-protocols\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"enable\": true\n#        }\n#          ]\n#\n# After state\n# ------------\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep lldp\n# set service lldp legacy-protocols 'cdp'\n# set service lldp management-address '192.0.2.17'\n#\n- name: Gather lldp global config with provided configurations\n  vyos.vyos.vyos_lldp_global:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n# {\n#        \"config_trap\": true,\n#        \"group\": {\n#            \"address_group\": [\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.3.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.3.2\"\n#                        }\n#                    ],\n#                    \"name\": \"ENG-HOSTS\"\n#                },\n#                {\n#                    \"description\": \"Sales office hosts address list\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.2.1\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.2\"\n#                        },\n#                        {\n#                            \"address\": \"192.0.2.3\"\n#                        }\n#                    ],\n#                    \"name\": \"SALES-HOSTS\"\n#                }\n#            ],\n#            \"network_group\": [\n#                {\n#                    \"description\": \"This group has the Management network addresses\",\n#                    \"members\": [\n#                        {\n#                            \"address\": \"192.0.1.0/24\"\n#                        }\n#                    ],\n#                    \"name\": \"MGMT\"\n#                }\n#            ]\n#        },\n#        \"log_martians\": true,\n#        \"ping\": {\n#            \"all\": true,\n#            \"broadcast\": true\n#        },\n#        \"route_redirects\": [\n#            {\n#                \"afi\": \"ipv4\",\n#                \"icmp_redirects\": {\n#                    \"receive\": false,\n#                    \"send\": true\n#                },\n#                \"ip_src_route\": true\n#            }\n#        ],\n#        \"state_policy\": [\n#            {\n#                \"action\": \"accept\",\n#                \"connection_type\": \"established\",\n#                \"log\": true\n#            },\n#            {\n#                \"action\": \"reject\",\n#                \"connection_type\": \"invalid\"\n#            }\n#        ],\n#        \"syn_cookies\": true,\n#        \"twa_hazards_protection\": true,\n#        \"validation\": \"strict\"\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep lldp\n# set service lldp legacy-protocols 'cdp'\n# set service lldp management-address '192.0.2.17'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_lldp_global:\n    config:\n      address: 192.0.2.17\n      enable: true\n      legacy_protocols:\n      - cdp\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#         \"set service lldp legacy-protocols 'cdp'\",\n#         \"set service lldp\",\n#         \"set service lldp management-address '192.0.2.17'\"\n#     ]\n#\n\n\n# Using parsed\n#\n#\n- name: Parse the provided commands to provide structured configuration\n  vyos.vyos.vyos_lldp_global:\n    running_config:\n      \"set service lldp legacy-protocols 'cdp'\n       set service lldp legacy-protocols 'fdp'\n       set service lldp management-address '192.0.2.11'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": {\n#         \"address\": \"192.0.2.11\",\n#         \"enable\": true,\n#         \"legacy_protocols\": [\n#             \"cdp\",\n#             \"fdp\"\n#         ]\n#     }\n#\n\n\n"
  },
  "vyos.vyos.vyos_lldp_interface": {
    "doc": {
      "description": "This module provides declarative management of LLDP interfaces configuration on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VYOS 1.1.7\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [],
          "description": "List of interfaces LLDP should be configured on.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "name": {
              "aliases": [],
              "description": "Name of the interface LLDP should be configured on.",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the LLDP configuration.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent",
                "enabled",
                "disabled"
              ],
              "suboptions": {}
            }
          }
        },
        "name": {
          "aliases": [],
          "description": "Name of the interface LLDP should be configured on.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the LLDP configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent",
            "enabled",
            "disabled"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage LLDP interfaces configuration on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: Enable LLDP on eth1\n  net_lldp_interface:\n    state: present\n\n- name: Enable LLDP on specific interfaces\n  net_lldp_interface:\n    interfaces:\n    - eth1\n    - eth2\n    state: present\n\n- name: Disable LLDP globally\n  net_lldp_interface:\n    state: disabled\n\n- name: Create aggregate of LLDP interface configurations\n  vyos.vyos.vyos_lldp_interface:\n    aggregate:\n    - name: eth1\n    - name: eth2\n    state: present\n\n- name: Delete aggregate of LLDP interface configurations\n  vyos.vyos.vyos_lldp_interface:\n    aggregate:\n    - name: eth1\n    - name: eth2\n    state: absent\n"
  },
  "vyos.vyos.vyos_lldp_interfaces": {
    "doc": {
      "description": "This module manages attributes of lldp interfaces on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of lldp interfaces configurations.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "enable": {
              "aliases": [],
              "description": "to disable lldp on the interface.",
              "default": "True",
              "type": "bool",
              "required": false,
              "suboptions": {}
            },
            "location": {
              "aliases": [],
              "description": "LLDP-MED location data.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "civic_based": {
                  "aliases": [],
                  "description": "Civic-based location data.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "ca_info": {
                      "aliases": [],
                      "description": "LLDP-MED address info",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "ca_type": {
                          "aliases": [],
                          "description": "LLDP-MED Civic Address type.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "ca_value": {
                          "aliases": [],
                          "description": "LLDP-MED Civic Address value.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "country_code": {
                      "aliases": [],
                      "description": "Country Code",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "coordinate_based": {
                  "aliases": [],
                  "description": "Coordinate-based location.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "altitude": {
                      "aliases": [],
                      "description": "Altitude in meters.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "datum": {
                      "aliases": [],
                      "description": "Coordinate datum type.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "WGS84",
                        "NAD83",
                        "MLLW"
                      ],
                      "suboptions": {}
                    },
                    "latitude": {
                      "aliases": [],
                      "description": "Latitude.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    },
                    "longitude": {
                      "aliases": [],
                      "description": "Longitude.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "elin": {
                  "aliases": [],
                  "description": "Emergency Call Service ELIN number (between 10-25 numbers).",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "name": {
              "aliases": [],
              "description": "Name of the  lldp interface.",
              "type": "str",
              "required": true,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep lldp).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "rendered",
            "parsed",
            "gathered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "LLDP interfaces resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep lldp\n#\n- name: Merge provided configuration with device configuration\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    - name: eth1\n      location:\n        civic_based:\n          country_code: US\n          ca_info:\n          - ca_type: 0\n            ca_value: ENGLISH\n\n    - name: eth2\n      location:\n        coordinate_based:\n          altitude: 2200\n          datum: WGS84\n          longitude: 222.267255W\n          latitude: 33.524449N\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": []\n#\n#    \"commands\": [\n#        \"set service lldp interface eth1 location civic-based country-code 'US'\",\n#        \"set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\",\n#        \"set service lldp interface eth1\",\n#        \"set service lldp interface eth2 location coordinate-based latitude '33.524449N'\",\n#        \"set service lldp interface eth2 location coordinate-based altitude '2200'\",\n#        \"set service lldp interface eth2 location coordinate-based datum 'WGS84'\",\n#        \"set service lldp interface eth2 location coordinate-based longitude '222.267255W'\",\n#        \"set service lldp interface eth2 location coordinate-based latitude '33.524449N'\",\n#        \"set service lldp interface eth2 location coordinate-based altitude '2200'\",\n#        \"set service lldp interface eth2 location coordinate-based datum 'WGS84'\",\n#        \"set service lldp interface eth2 location coordinate-based longitude '222.267255W'\",\n#        \"set service lldp interface eth2\"\n#\n# \"after\": [\n#        {\n#            \"location\": {\n#                \"coordinate_based\": {\n#                    \"altitude\": 2200,\n#                    \"datum\": \"WGS84\",\n#                    \"latitude\": \"33.524449N\",\n#                    \"longitude\": \"222.267255W\"\n#                }\n#            },\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"location\": {\n#                \"civic_based\": {\n#                    \"ca_info\": [\n#                        {\n#                            \"ca_type\": 0,\n#                            \"ca_value\": \"ENGLISH\"\n#                        }\n#                    ],\n#                    \"country_code\": \"US\"\n#                }\n#            },\n#            \"name\": \"eth1\"\n#        }\n#    ],\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth1 location civic-based country-code 'US'\n# set service lldp interface eth2 location coordinate-based altitude '2200'\n# set service lldp interface eth2 location coordinate-based datum 'WGS84'\n# set service lldp interface eth2 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth2 location coordinate-based longitude '222.267255W'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth1 location civic-based country-code 'US'\n# set service lldp interface eth2 location coordinate-based altitude '2200'\n# set service lldp interface eth2 location coordinate-based datum 'WGS84'\n# set service lldp interface eth2 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth2 location coordinate-based longitude '222.267255W'\n#\n- name: Replace device configurations of listed LLDP interfaces with provided configurations\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    - name: eth2\n      location:\n        civic_based:\n          country_code: US\n          ca_info:\n          - ca_type: 0\n            ca_value: ENGLISH\n\n    - name: eth1\n      location:\n        coordinate_based:\n          altitude: 2200\n          datum: WGS84\n          longitude: 222.267255W\n          latitude: 33.524449N\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"location\": {\n#                \"coordinate_based\": {\n#                    \"altitude\": 2200,\n#                    \"datum\": \"WGS84\",\n#                    \"latitude\": \"33.524449N\",\n#                    \"longitude\": \"222.267255W\"\n#                }\n#            },\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"location\": {\n#                \"civic_based\": {\n#                    \"ca_info\": [\n#                        {\n#                            \"ca_type\": 0,\n#                            \"ca_value\": \"ENGLISH\"\n#                        }\n#                    ],\n#                    \"country_code\": \"US\"\n#                }\n#            },\n#            \"name\": \"eth1\"\n#        }\n#    ]\n#\n#    \"commands\": [\n#        \"delete service lldp interface eth2 location\",\n#        \"set service lldp interface eth2 'disable'\",\n#        \"set service lldp interface eth2 location civic-based country-code 'US'\",\n#        \"set service lldp interface eth2 location civic-based ca-type 0 ca-value 'ENGLISH'\",\n#        \"delete service lldp interface eth1 location\",\n#        \"set service lldp interface eth1 'disable'\",\n#        \"set service lldp interface eth1 location coordinate-based latitude '33.524449N'\",\n#        \"set service lldp interface eth1 location coordinate-based altitude '2200'\",\n#        \"set service lldp interface eth1 location coordinate-based datum 'WGS84'\",\n#        \"set service lldp interface eth1 location coordinate-based longitude '222.267255W'\"\n#    ]\n#\n#    \"after\": [\n#        {\n#            \"location\": {\n#                \"civic_based\": {\n#                    \"ca_info\": [\n#                        {\n#                            \"ca_type\": 0,\n#                            \"ca_value\": \"ENGLISH\"\n#                        }\n#                    ],\n#                    \"country_code\": \"US\"\n#                }\n#            },\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"location\": {\n#                \"coordinate_based\": {\n#                    \"altitude\": 2200,\n#                    \"datum\": \"WGS84\",\n#                    \"latitude\": \"33.524449N\",\n#                    \"longitude\": \"222.267255W\"\n#                }\n#            },\n#            \"name\": \"eth1\"\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp interface eth1 'disable'\n# set service lldp interface eth1 location coordinate-based altitude '2200'\n# set service lldp interface eth1 location coordinate-based datum 'WGS84'\n# set service lldp interface eth1 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth1 location coordinate-based longitude '222.267255W'\n# set service lldp interface eth2 'disable'\n# set service lldp interface eth2 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth2 location civic-based country-code 'US'\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration commands | grep lldp\n# set service lldp interface eth1 'disable'\n# set service lldp interface eth1 location coordinate-based altitude '2200'\n# set service lldp interface eth1 location coordinate-based datum 'WGS84'\n# set service lldp interface eth1 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth1 location coordinate-based longitude '222.267255W'\n# set service lldp interface eth2 'disable'\n# set service lldp interface eth2 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth2 location civic-based country-code 'US'\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    - name: eth2\n      location:\n        elin: 0000000911\n\n    state: overridden\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\": [\n#        {\n#            \"enable\": false,\n#            \"location\": {\n#                \"civic_based\": {\n#                    \"ca_info\": [\n#                        {\n#                            \"ca_type\": 0,\n#                            \"ca_value\": \"ENGLISH\"\n#                        }\n#                    ],\n#                    \"country_code\": \"US\"\n#                }\n#            },\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"enable\": false,\n#            \"location\": {\n#                \"coordinate_based\": {\n#                    \"altitude\": 2200,\n#                    \"datum\": \"WGS84\",\n#                    \"latitude\": \"33.524449N\",\n#                    \"longitude\": \"222.267255W\"\n#                }\n#            },\n#            \"name\": \"eth1\"\n#        }\n#    ]\n#\n#    \"commands\": [\n#        \"delete service lldp interface eth2 location\",\n#        \"delete service lldp interface eth2 disable\",\n#        \"set service lldp interface eth2 location elin 0000000911\"\n#\n#\n#    \"after\": [\n#        {\n#            \"location\": {\n#                \"elin\": 0000000911\n#            },\n#            \"name\": \"eth2\"\n#        }\n#    ]\n#\n#\n# After state\n# ------------\n#\n# vyos@vyos# run show configuration commands | grep lldp\n# set service lldp interface eth2 location elin '0000000911'\n\n\n# Using deleted\n#\n# Before state\n# -------------\n#\n# vyos@vyos# run show configuration commands | grep lldp\n# set service lldp interface eth2 location elin '0000000911'\n#\n- name: Delete lldp  interface attributes of given interfaces.\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    - name: eth2\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n    before: [{location: {elin: 0000000911}, name: eth2}]\n# \"commands\": [\n#    \"commands\": [\n#        \"delete service lldp interface eth2\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep lldp\n# set service 'lldp'\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep lldp\n# set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth1 location civic-based country-code 'US'\n# set service lldp interface eth2 location coordinate-based altitude '2200'\n# set service lldp interface eth2 location coordinate-based datum 'WGS84'\n# set service lldp interface eth2 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth2 location coordinate-based longitude '222.267255W'\n#\n- name: Gather listed lldp interfaces from running configuration\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#         {\n#             \"location\": {\n#                 \"coordinate_based\": {\n#                     \"altitude\": 2200,\n#                     \"datum\": \"WGS84\",\n#                     \"latitude\": \"33.524449N\",\n#                     \"longitude\": \"222.267255W\"\n#                 }\n#             },\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"location\": {\n#                 \"civic_based\": {\n#                     \"ca_info\": [\n#                         {\n#                             \"ca_type\": 0,\n#                             \"ca_value\": \"ENGLISH\"\n#                         }\n#                     ],\n#                     \"country_code\": \"US\"\n#                 }\n#             },\n#             \"name\": \"eth1\"\n#         }\n#     ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep lldp\n# set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\n# set service lldp interface eth1 location civic-based country-code 'US'\n# set service lldp interface eth2 location coordinate-based altitude '2200'\n# set service lldp interface eth2 location coordinate-based datum 'WGS84'\n# set service lldp interface eth2 location coordinate-based latitude '33.524449N'\n# set service lldp interface eth2 location coordinate-based longitude '222.267255W'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_lldp_interfaces:\n    config:\n    - name: eth1\n      location:\n        civic_based:\n          country_code: US\n          ca_info:\n          - ca_type: 0\n            ca_value: ENGLISH\n    - name: eth2\n      location:\n        coordinate_based:\n          altitude: 2200\n          datum: WGS84\n          longitude: 222.267255W\n          latitude: 33.524449N\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#         \"set service lldp interface eth1 location civic-based country-code 'US'\",\n#         \"set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\",\n#         \"set service lldp interface eth1\",\n#         \"set service lldp interface eth2 location coordinate-based latitude '33.524449N'\",\n#         \"set service lldp interface eth2 location coordinate-based altitude '2200'\",\n#         \"set service lldp interface eth2 location coordinate-based datum 'WGS84'\",\n#         \"set service lldp interface eth2 location coordinate-based longitude '222.267255W'\",\n#         \"set service lldp interface eth2\"\n#     ]\n\n\n# Using parsed\n#\n#\n- name: Parsed the commands to provide structured configuration.\n  vyos.vyos.vyos_lldp_interfaces:\n    running_config:\n      \"set service lldp interface eth1 location civic-based ca-type 0 ca-value 'ENGLISH'\n       set service lldp interface eth1 location civic-based country-code 'US'\n       set service lldp interface eth2 location coordinate-based altitude '2200'\n       set service lldp interface eth2 location coordinate-based datum 'WGS84'\n       set service lldp interface eth2 location coordinate-based latitude '33.524449N'\n       set service lldp interface eth2 location coordinate-based longitude '222.267255W'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#         {\n#             \"location\": {\n#                 \"coordinate_based\": {\n#                     \"altitude\": 2200,\n#                     \"datum\": \"WGS84\",\n#                     \"latitude\": \"33.524449N\",\n#                     \"longitude\": \"222.267255W\"\n#                 }\n#             },\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"location\": {\n#                 \"civic_based\": {\n#                     \"ca_info\": [\n#                         {\n#                             \"ca_type\": 0,\n#                             \"ca_value\": \"ENGLISH\"\n#                         }\n#                     ],\n#                     \"country_code\": \"US\"\n#                 }\n#             },\n#             \"name\": \"eth1\"\n#         }\n#     ]\n\n\n"
  },
  "vyos.vyos.vyos_logging": {
    "doc": {
      "description": "This module provides declarative management of logging on Vyatta Vyos devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [],
          "description": "List of logging definitions.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "dest": {
              "aliases": [],
              "description": "Destination of the logs.",
              "type": "str",
              "required": false,
              "choices": [
                "console",
                "file",
                "global",
                "host",
                "user"
              ],
              "suboptions": {}
            },
            "facility": {
              "aliases": [],
              "description": "Set logging facility.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "level": {
              "aliases": [],
              "description": "Set logging severity levels.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "If value of C(dest) is I(file) it indicates file-name, for I(user) it indicates username and for I(host) indicates the host name to be notified.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the logging configuration.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent"
              ],
              "suboptions": {}
            }
          }
        },
        "dest": {
          "aliases": [],
          "description": "Destination of the logs.",
          "type": "str",
          "required": false,
          "choices": [
            "console",
            "file",
            "global",
            "host",
            "user"
          ],
          "suboptions": {}
        },
        "facility": {
          "aliases": [],
          "description": "Set logging facility.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "level": {
          "aliases": [],
          "description": "Set logging severity levels.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "If value of C(dest) is I(file) it indicates file-name, for I(user) it indicates username and for I(host) indicates the host name to be notified.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the logging configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Manage logging on network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure console logging\n  vyos.vyos.vyos_logging:\n    dest: console\n    facility: all\n    level: crit\n\n- name: remove console logging configuration\n  vyos.vyos.vyos_logging:\n    dest: console\n    state: absent\n\n- name: configure file logging\n  vyos.vyos.vyos_logging:\n    dest: file\n    name: test\n    facility: local3\n    level: err\n\n- name: Add logging aggregate\n  vyos.vyos.vyos_logging:\n    aggregate:\n    - {dest: file, name: test1, facility: all, level: info}\n    - {dest: file, name: test2, facility: news, level: debug}\n    state: present\n\n- name: Remove logging aggregate\n  vyos.vyos.vyos_logging:\n    aggregate:\n    - {dest: console, facility: all, level: info}\n    - {dest: console, facility: daemon, level: warning}\n    - {dest: file, name: test2, facility: news, level: debug}\n    state: absent\n"
  },
  "vyos.vyos.vyos_logging_global": {
    "doc": {
      "description": "This module manages the logging attributes of Vyos network devices",
      "has_action": true,
      "notes": "Tested against vyos 1.2\nThis module works with connection C(network_cli).\nThe Configuration defaults of the Vyos network devices are supposed to hinder idempotent behavior of plays",
      "options": {
        "config": {
          "aliases": [],
          "description": "A list containing dictionary of logging options",
          "type": "dict",
          "required": false,
          "suboptions": {
            "console": {
              "aliases": [],
              "description": "logging to serial console",
              "type": "dict",
              "required": false,
              "suboptions": {
                "facilities": {
                  "aliases": [],
                  "description": "facility configurations for console",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "facility": {
                      "aliases": [],
                      "description": "Facility for logging",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "all",
                        "auth",
                        "authpriv",
                        "cron",
                        "daemon",
                        "kern",
                        "lpr",
                        "mail",
                        "mark",
                        "news",
                        "protocols",
                        "security",
                        "syslog",
                        "user",
                        "uucp",
                        "local0",
                        "local1",
                        "local2",
                        "local3",
                        "local4",
                        "local5",
                        "local6",
                        "local7"
                      ],
                      "suboptions": {}
                    },
                    "severity": {
                      "aliases": [],
                      "description": "logging level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "emerg",
                        "alert",
                        "crit",
                        "err",
                        "warning",
                        "notice",
                        "info",
                        "debug",
                        "all"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "state": {
                  "aliases": [],
                  "description": "enable or disable the command",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "enabled",
                    "disabled"
                  ],
                  "suboptions": {}
                }
              }
            },
            "files": {
              "aliases": [],
              "description": "logging to file",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "archive": {
                  "aliases": [],
                  "description": "Log file size and rotation characteristics",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "file_num": {
                      "aliases": [],
                      "description": "Number of saved files (default is 5)",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "size": {
                      "aliases": [],
                      "description": "Size of log files (in kilobytes, default is 256)",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "state": {
                      "aliases": [],
                      "description": "enable or disable the command",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "enabled",
                        "disabled"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "facilities": {
                  "aliases": [],
                  "description": "facility configurations",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "facility": {
                      "aliases": [],
                      "description": "Facility for logging",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "all",
                        "auth",
                        "authpriv",
                        "cron",
                        "daemon",
                        "kern",
                        "lpr",
                        "mail",
                        "mark",
                        "news",
                        "protocols",
                        "security",
                        "syslog",
                        "user",
                        "uucp",
                        "local0",
                        "local1",
                        "local2",
                        "local3",
                        "local4",
                        "local5",
                        "local6",
                        "local7"
                      ],
                      "suboptions": {}
                    },
                    "severity": {
                      "aliases": [],
                      "description": "logging level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "emerg",
                        "alert",
                        "crit",
                        "err",
                        "warning",
                        "notice",
                        "info",
                        "debug",
                        "all"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "path": {
                  "aliases": [],
                  "description": "file name or path",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "global_params": {
              "aliases": [],
              "description": "logging to serial console",
              "type": "dict",
              "required": false,
              "suboptions": {
                "archive": {
                  "aliases": [],
                  "description": "Log file size and rotation characteristics",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "file_num": {
                      "aliases": [],
                      "description": "Number of saved files (default is 5)",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "size": {
                      "aliases": [],
                      "description": "Size of log files (in kilobytes, default is 256)",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "state": {
                      "aliases": [],
                      "description": "enable or disable the command",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "enabled",
                        "disabled"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "facilities": {
                  "aliases": [],
                  "description": "facility configurations",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "facility": {
                      "aliases": [],
                      "description": "Facility for logging",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "all",
                        "auth",
                        "authpriv",
                        "cron",
                        "daemon",
                        "kern",
                        "lpr",
                        "mail",
                        "mark",
                        "news",
                        "protocols",
                        "security",
                        "syslog",
                        "user",
                        "uucp",
                        "local0",
                        "local1",
                        "local2",
                        "local3",
                        "local4",
                        "local5",
                        "local6",
                        "local7"
                      ],
                      "suboptions": {}
                    },
                    "severity": {
                      "aliases": [],
                      "description": "logging level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "emerg",
                        "alert",
                        "crit",
                        "err",
                        "warning",
                        "notice",
                        "info",
                        "debug",
                        "all"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "marker_interval": {
                  "aliases": [],
                  "description": "time interval how often a mark message is being sent in seconds (default is 1200)",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "preserve_fqdn": {
                  "aliases": [],
                  "description": "uses FQDN for logging",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "state": {
                  "aliases": [],
                  "description": "enable or disable the command",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "enabled",
                    "disabled"
                  ],
                  "suboptions": {}
                }
              }
            },
            "hosts": {
              "aliases": [],
              "description": "logging to serial console",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "facilities": {
                  "aliases": [],
                  "description": "facility configurations for host",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "facility": {
                      "aliases": [],
                      "description": "Facility for logging",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "all",
                        "auth",
                        "authpriv",
                        "cron",
                        "daemon",
                        "kern",
                        "lpr",
                        "mail",
                        "mark",
                        "news",
                        "protocols",
                        "security",
                        "syslog",
                        "user",
                        "uucp",
                        "local0",
                        "local1",
                        "local2",
                        "local3",
                        "local4",
                        "local5",
                        "local6",
                        "local7"
                      ],
                      "suboptions": {}
                    },
                    "protocol": {
                      "aliases": [],
                      "description": "syslog communication protocol",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "udp",
                        "tcp"
                      ],
                      "suboptions": {}
                    },
                    "severity": {
                      "aliases": [],
                      "description": "logging level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "emerg",
                        "alert",
                        "crit",
                        "err",
                        "warning",
                        "notice",
                        "info",
                        "debug",
                        "all"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "hostname": {
                  "aliases": [],
                  "description": "Remote host name or IP address",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "port": {
                  "aliases": [],
                  "description": "Destination port (1-65535)",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "syslog": {
              "aliases": [],
              "description": "logging syslog",
              "type": "dict",
              "required": false,
              "suboptions": {
                "state": {
                  "aliases": [],
                  "description": "enable or disable the command",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "enabled",
                    "disabled"
                  ],
                  "suboptions": {}
                }
              }
            },
            "users": {
              "aliases": [],
              "description": "logging to file",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "facilities": {
                  "aliases": [],
                  "description": "facility configurations",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "facility": {
                      "aliases": [],
                      "description": "Facility for logging",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "all",
                        "auth",
                        "authpriv",
                        "cron",
                        "daemon",
                        "kern",
                        "lpr",
                        "mail",
                        "mark",
                        "news",
                        "protocols",
                        "security",
                        "syslog",
                        "user",
                        "uucp",
                        "local0",
                        "local1",
                        "local2",
                        "local3",
                        "local4",
                        "local5",
                        "local6",
                        "local7"
                      ],
                      "suboptions": {}
                    },
                    "severity": {
                      "aliases": [],
                      "description": "logging level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "emerg",
                        "alert",
                        "crit",
                        "err",
                        "warning",
                        "notice",
                        "info",
                        "debug",
                        "all"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "username": {
                  "aliases": [],
                  "description": "user login name",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VYOS device by executing the command B(show configuration commands | grep syslog).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in\nThe states I(replaced) and I(overridden) have identical behaviour for this module.\nRefer to examples for more details.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "parsed",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Logging resource module",
      "version_added": "2.4.0"
    },
    "examples": "\n# Using state: merged\n\n# Before state:\n# -------------\n\n# vyos:~$show configuration commands | grep syslog\n\n- name: Apply the provided configuration\n  vyos.vyos.vyos_logging_global:\n    config:\n      console:\n        facilities:\n          - facility: local7\n            severity: err\n      files:\n        - path: logFile\n          archive:\n            file_num: 2\n          facilities:\n            - facility: local6\n              severity: emerg\n      hosts:\n        - hostname: 172.16.0.1\n          facilities:\n            - facility: local7\n              severity: all\n            - facility: all\n              protocol: udp\n          port: 223\n      users:\n        - username: vyos\n          facilities:\n          - facility: local7\n            severity: debug\n      global_params:\n        archive:\n          file_num: 2\n          size: 111\n        facilities:\n        - facility: cron\n          severity: debug\n        marker_interval: 111\n        preserve_fqdn: true\n    state: merged\n\n# Commands Fired:\n# ---------------\n\n# \"commands\": [\n#     \"set system syslog console facility local7 level err\",\n#     \"set system syslog file logFile archive file 2\",\n#     \"set system syslog host 172.16.0.1 facility local7 level all\",\n#     \"set system syslog file logFile facility local6 level emerg\",\n#     \"set system syslog host 172.16.0.1 facility all protocol udp\",\n#     \"set system syslog user vyos facility local7 level debug\",\n#     \"set system syslog host 172.16.0.1 port 223\",\n#     \"set system syslog global facility cron level debug\",\n#     \"set system syslog global archive file 2\",\n#     \"set system syslog global archive size 111\",\n#     \"set system syslog global marker interval 111\",\n#     \"set system syslog global preserve-fqdn\"\n# ],\n\n# After state:\n# ------------\n\n# vyos:~$ show configuration commands | grep syslog\n# set system syslog console facility local7 level 'err'\n# set system syslog file logFile archive file '2'\n# set system syslog file logFile facility local6 level 'emerg'\n# set system syslog global archive file '2'\n# set system syslog global archive size '111'\n# set system syslog global facility cron level 'debug'\n# set system syslog global marker interval '111'\n# set system syslog global preserve-fqdn\n# set system syslog host 172.16.0.1 facility all protocol 'udp'\n# set system syslog host 172.16.0.1 facility local7 level 'all'\n# set system syslog host 172.16.0.1 port '223'\n# set system syslog user vyos facility local7 level 'debug'\n\n# Using state: deleted\n\n# Before state:\n# -------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility local7 level 'err'\n# set system syslog file logFile archive file '2'\n# set system syslog file logFile facility local6 level 'emerg'\n# set system syslog global archive file '2'\n# set system syslog global archive size '111'\n# set system syslog global facility cron level 'debug'\n# set system syslog global marker interval '111'\n# set system syslog global preserve-fqdn\n# set system syslog host 172.16.0.1 facility all protocol 'udp'\n# set system syslog host 172.16.0.1 facility local7 level 'all'\n# set system syslog host 172.16.0.1 port '223'\n# set system syslog user vyos facility local7 level 'debug'\n\n- name: delete the existing configuration\n  vyos.vyos.vyos_logging_global:\n    state: deleted\n\n# Commands Fired:\n# ---------------\n\n# \"commands\": [\n#     \"delete system syslog\"\n# ],\n\n# After state:\n# ------------\n\n# vyos:~$show configuration commands | grep syslog\n\n# Using state: overridden\n\n# Before state:\n# -------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility local7 level 'err'\n# set system syslog file logFile archive file '2'\n# set system syslog file logFile facility local6 level 'emerg'\n# set system syslog global archive file '2'\n# set system syslog global archive size '111'\n# set system syslog global facility cron level 'debug'\n# set system syslog global marker interval '111'\n# set system syslog global preserve-fqdn\n# set system syslog host 172.16.0.1 facility all protocol 'udp'\n# set system syslog host 172.16.0.1 facility local7 level 'all'\n# set system syslog host 172.16.0.1 port '223'\n# set system syslog user vyos facility local7 level 'debug'\n\n- name: Override the current configuration\n  vyos.vyos.vyos_logging_global:\n    config:\n      console:\n        facilities:\n          - facility: all\n          - facility: local7\n            severity: err\n          - facility: news\n            severity: debug\n      files:\n        - path: logFileNew\n      hosts:\n        - hostname: 172.16.0.2\n          facilities:\n            - facility: local5\n              severity: all\n      global_params:\n        archive:\n          file_num: 10\n    state: overridden\n\n# Commands Fired:\n# ---------------\n\n# \"commands\": [\n#     \"delete system syslog file logFile\",\n#     \"delete system syslog global facility cron\",\n#     \"delete system syslog host 172.16.0.1\",\n#     \"delete system syslog user vyos\",\n#     \"set system syslog console facility all\",\n#     \"set system syslog console facility news level debug\",\n#     \"set system syslog file logFileNew\",\n#     \"set system syslog host 172.16.0.2 facility local5 level all\",\n#     \"set system syslog global archive file 10\",\n#     \"delete system syslog global archive size 111\",\n#     \"delete system syslog global marker\",\n#     \"delete system syslog global preserve-fqdn\"\n# ],\n\n# After state:\n# ------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility all\n# set system syslog console facility local7 level 'err'\n# set system syslog console facility news level 'debug'\n# set system syslog file logFileNew\n# set system syslog global archive file '10'\n# set system syslog host 172.16.0.2 facility local5 level 'all'\n\n# Using state: replaced\n\n# Before state:\n# -------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility all\n# set system syslog console facility local7 level 'err'\n# set system syslog console facility news level 'debug'\n# set system syslog file logFileNew\n# set system syslog global archive file '10'\n# set system syslog host 172.16.0.2 facility local5 level 'all'\n\n- name: Replace with the provided configuration\n  register: result\n  vyos.vyos.vyos_logging_global:\n    config:\n      console:\n        facilities:\n          - facility: local6\n      users:\n        - username: paul\n          facilities:\n          - facility: local7\n            severity: err\n    state: replaced\n\n# Commands Fired:\n# ---------------\n\n# \"commands\": [\n#     \"delete system syslog console facility all\",\n#     \"delete system syslog console facility local7\",\n#     \"delete system syslog console facility news\",\n#     \"delete system syslog file logFileNew\",\n#     \"delete system syslog global archive file 10\",\n#     \"delete system syslog host 172.16.0.2\",\n#     \"set system syslog console facility local6\",\n#     \"set system syslog user paul facility local7 level err\"\n# ],\n\n# After state:\n# ------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility local6\n# set system syslog user paul facility local7 level 'err'\n\n# Using state: gathered\n\n- name: Gather logging config\n  vyos.vyos.vyos_logging_global:\n    state: gathered\n\n# Module Execution Result:\n# ------------------------\n\n# \"gathered\": {\n#     \"console\": {\n#         \"facilities\": [\n#             {\n#                 \"facility\": \"local6\"\n#             },\n#             {\n#                 \"facility\": \"local7\",\n#                 \"severity\": \"err\"\n#             }\n#         ]\n#     },\n#     \"files\": [\n#         {\n#             \"archive\": {\n#                 \"file_num\": 2\n#             },\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local6\",\n#                     \"severity\": \"emerg\"\n#                 }\n#             ],\n#             \"path\": \"logFile\"\n#         }\n#     ],\n#     \"global_params\": {\n#         \"archive\": {\n#             \"file_num\": 2,\n#             \"size\": 111\n#         },\n#         \"facilities\": [\n#             {\n#                 \"facility\": \"cron\",\n#                 \"severity\": \"debug\"\n#             }\n#         ],\n#         \"marker_interval\": 111,\n#         \"preserve_fqdn\": true\n#     },\n#     \"hosts\": [\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"all\",\n#                     \"protocol\": \"udp\"\n#                 },\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"all\"\n#                 }\n#             ],\n#             \"hostname\": \"172.16.0.1\",\n#             \"port\": 223\n#         }\n#     ],\n#     \"users\": [\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"err\"\n#                 }\n#             ],\n#             \"username\": \"paul\"\n#         },\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"debug\"\n#                 }\n#             ],\n#             \"username\": \"vyos\"\n#         }\n#     ]\n# },\n\n# After state:\n# ------------\n\n# vyos:~$show configuration commands | grep syslog\n# set system syslog console facility local6\n# set system syslog console facility local7 level 'err'\n# set system syslog file logFile archive file '2'\n# set system syslog file logFile facility local6 level 'emerg'\n# set system syslog global archive file '2'\n# set system syslog global archive size '111'\n# set system syslog global facility cron level 'debug'\n# set system syslog global marker interval '111'\n# set system syslog global preserve-fqdn\n# set system syslog host 172.16.0.1 facility all protocol 'udp'\n# set system syslog host 172.16.0.1 facility local7 level 'all'\n# set system syslog host 172.16.0.1 port '223'\n# set system syslog user paul facility local7 level 'err'\n# set system syslog user vyos facility local7 level 'debug'\n\n# Using state: rendered\n\n- name: Render the provided configuration\n  vyos.vyos.vyos_logging_global:\n    config:\n      console:\n        facilities:\n          - facility: local7\n            severity: err\n      files:\n        - path: logFile\n          archive:\n            file_num: 2\n          facilities:\n            - facility: local6\n              severity: emerg\n      hosts:\n        - hostname: 172.16.0.1\n          facilities:\n            - facility: local7\n              severity: all\n            - facility: all\n              protocol: udp\n          port: 223\n      users:\n        - username: vyos\n          facilities:\n            - facility: local7\n              severity: debug\n      global_params:\n        archive:\n          file_num: 2\n          size: 111\n        facilities:\n          - facility: cron\n            severity: debug\n        marker_interval: 111\n        preserve_fqdn: true\n    state: rendered\n\n# Module Execution Result:\n# ------------------------\n\n# \"rendered\": [\n#     \"set system syslog console facility local7 level err\",\n#     \"set system syslog file logFile facility local6 level emerg\",\n#     \"set system syslog file logFile archive file 2\",\n#     \"set system syslog host 172.16.0.1 facility local7 level all\",\n#     \"set system syslog host 172.16.0.1 facility all protocol udp\",\n#     \"set system syslog host 172.16.0.1 port 223\",\n#     \"set system syslog user vyos facility local7 level debug\",\n#     \"set system syslog global facility cron level debug\",\n#     \"set system syslog global archive file 2\",\n#     \"set system syslog global archive size 111\",\n#     \"set system syslog global marker interval 111\",\n#     \"set system syslog global preserve-fqdn\"\n# ]\n\n# Using state: parsed\n\n# File: parsed.cfg\n# ----------------\n\n# set system syslog console facility local6\n# set system syslog console facility local7 level 'err'\n# set system syslog file logFile archive file '2'\n# set system syslog file logFile facility local6 level 'emerg'\n# set system syslog global archive file '2'\n# set system syslog global archive size '111'\n# set system syslog global facility cron level 'debug'\n# set system syslog global marker interval '111'\n# set system syslog global preserve-fqdn\n# set system syslog host 172.16.0.1 facility all protocol 'udp'\n# set system syslog host 172.16.0.1 facility local7 level 'all'\n# set system syslog host 172.16.0.1 port '223'\n# set system syslog user paul facility local7 level 'err'\n# set system syslog user vyos facility local7 level 'debug'\n\n- name: Parse the provided configuration\n  vyos.vyos.vyos_logging_global:\n    running_config: \"{{ lookup('file', 'parsed_vyos.cfg') }}\"\n    state: parsed\n\n# Module Execution Result:\n# ------------------------\n\n# \"parsed\": {\n#     \"console\": {\n#         \"facilities\": [\n#             {\n#                 \"facility\": \"local6\"\n#             },\n#             {\n#                 \"facility\": \"local7\",\n#                 \"severity\": \"err\"\n#             }\n#         ]\n#     },\n#     \"files\": [\n#         {\n#             \"archive\": {\n#                 \"file_num\": 2\n#             },\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local6\",\n#                     \"severity\": \"emerg\"\n#                 }\n#             ],\n#             \"path\": \"logFile\"\n#         }\n#     ],\n#     \"global_params\": {\n#         \"archive\": {\n#             \"file_num\": 2,\n#             \"size\": 111\n#         },\n#         \"facilities\": [\n#             {\n#                 \"facility\": \"cron\",\n#                 \"severity\": \"debug\"\n#             }\n#         ],\n#         \"marker_interval\": 111,\n#         \"preserve_fqdn\": true\n#     },\n#     \"hosts\": [\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"all\",\n#                     \"protocol\": \"udp\"\n#                 },\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"all\"\n#                 }\n#             ],\n#             \"hostname\": \"172.16.0.1\",\n#             \"port\": 223\n#         }\n#     ],\n#     \"users\": [\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"err\"\n#                 }\n#             ],\n#             \"username\": \"paul\"\n#         },\n#         {\n#             \"facilities\": [\n#                 {\n#                     \"facility\": \"local7\",\n#                     \"severity\": \"debug\"\n#                 }\n#             ],\n#             \"username\": \"vyos\"\n#         }\n#     ]\n#   }\n# }\n"
  },
  "vyos.vyos.vyos_ntp_global": {
    "doc": {
      "description": "This module manages ntp configuration on devices running Vyos",
      "has_action": true,
      "notes": "Tested against vyos 1.3\nThis module works with connection C(network_cli).",
      "options": {
        "config": {
          "aliases": [],
          "description": "List of configurations for ntp module",
          "type": "dict",
          "required": false,
          "suboptions": {
            "allow_clients": {
              "aliases": [],
              "description": "Network Time Protocol (NTP) server options",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "listen_addresses": {
              "aliases": [],
              "description": "local IP addresses for service to listen on",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "servers": {
              "aliases": [],
              "description": "Network Time Protocol (NTP) server",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "options": {
                  "aliases": [],
                  "description": "server options for NTP",
                  "type": "list",
                  "required": false,
                  "choices": [
                    "noselect",
                    "dynamic",
                    "pool",
                    "preempt",
                    "prefer"
                  ],
                  "elements": "str",
                  "suboptions": {}
                },
                "server": {
                  "aliases": [],
                  "description": "server name for NTP",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VYOS device by executing the command B(show configuration commands | grep ntp).\nThe states I(replaced) and I(overridden) have identical behaviour for this module.\nThe state I(parsed) reads the configuration from C(show configuration commands | grep ntp) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "deleted",
            "merged",
            "overridden",
            "replaced",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Manages ntp modules of Vyos network devices",
      "version_added": "2.4.0"
    },
    "examples": "\n\n# # -------------------\n# # 1. Using merged\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep ntp\n#     set system ntp server time1.vyos.net\n#     set system ntp server time2.vyos.net\n#     set system ntp server time3.vyos.net\n#   vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Replace the existing ntp config with the new config\n  vyos.vyos.vyos_ntp_global:\n    config:\n        allow_clients:\n          - 10.6.6.0/24\n        listen_addresses:\n          - 10.1.3.1\n        servers:\n          - server: 203.0.113.0\n            options:\n                - prefer\n\n\n# # Task output:\n# # -------------\n#        \"after\": {\n#         \"allow_clients\": [\n#            \"10.6.6.0/24\"\n#        ],\n#        \"listen_addresses\": [\n#            \"10.1.3.1\"\n#        ],\n#        \"servers\": [\n#            {\n#                \"server\": \"ser\",\n#                \"options\": [\n#                    \"prefer\"\n#                ]\n#            },\n#            {\n#                \"server\": \"time1.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time2.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time3.vyos.net\"\n#            }\n#        ]\n#    },\n#    \"before\": {\n#    },\n#    \"changed\": true,\n#    \"commands\": [\n#        \"set system ntp allow-clients address 10.6.6.0/24\",\n#        \"set system ntp listen-address 10.1.3.1\",\n#        \"set system ntp server 203.0.113.0 prefer\"\n#    ]\n\n# After state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.6.6.0/24'\n#        set system ntp listen-address '10.1.3.1'\n#        set system ntp server 203.0.113.0 prefer,\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n\n# # -------------------\n# # 2. Using replaced\n# # -------------------\n\n# # Before state:\n# # -------------\n#    vyos@vyos:~$ show configuration commands | grep ntp\n#    set system ntp allow-clients address '10.4.9.0/24'\n#    set system ntp allow-clients address '10.4.7.0/24'\n#    set system ntp allow-clients address '10.1.2.0/24'\n#    set system ntp allow-clients address '10.2.3.0/24'\n#    set system ntp listen-address '10.1.9.16'\n#    set system ntp listen-address '10.5.3.2'\n#    set system ntp listen-address '10.7.9.21'\n#    set system ntp listen-address '10.8.9.4'\n#    set system ntp listen-address '10.4.5.1'\n#    set system ntp server 10.3.6.5 noselect\n#    set system ntp server 10.3.6.5 dynamic\n#    set system ntp server 10.3.6.5 preempt\n#    set system ntp server 10.3.6.5 prefer\n#    set system ntp server server4 noselect\n#    set system ntp server server4 dynamic\n#    set system ntp server server5\n#    set system ntp server time1.vyos.net\n#    set system ntp server time2.vyos.net\n#    set system ntp server time3.vyos.net\n#    vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Replace the existing ntp config with the new config\n  vyos.vyos.vyos_ntp_global:\n    config:\n        allow_clients:\n          - 10.6.6.0/24\n        listen_addresses:\n          - 10.1.3.1\n        servers:\n          - server: 203.0.113.0\n            options:\n                - prefer\n    state: replaced\n\n\n# # Task output:\n# # -------------\n#        \"after\": {\n#         \"allow_clients\": [\n#            \"10.6.6.0/24\"\n#        ],\n#        \"listen_addresses\": [\n#            \"10.1.3.1\"\n#        ],\n#        \"servers\": [\n#            {\n#                \"server\": \"ser\",\n#                \"options\": [\n#                    \"prefer\"\n#                ]\n#            },\n#            {\n#                \"server\": \"time1.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time2.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time3.vyos.net\"\n#            }\n#        ]\n#    },\n#    \"before\": {\n#        \"allow_clients\": [\n#            \"10.4.7.0/24\",\n#            \"10.2.3.0/24\",\n#            \"10.1.2.0/24\",\n#            \"10.4.9.0/24\"\n#        ],\n#        \"listen_addresses\": [\n#            \"10.7.9.21\",\n#            \"10.4.5.1\",\n#            \"10.5.3.2\",\n#            \"10.8.9.4\",\n#            \"10.1.9.16\"\n#        ],\n#        \"servers\": [\n#            {\n#                \"server\": \"10.3.6.5\",\n#                \"options\": [\n#                    \"noselect\",\n#                    \"dynamic\",\n#                    \"preempt\",\n#                    \"prefer\"\n#                ]\n#            },\n#            {\n#                \"server\": \"server4\",\n#                \"options\": [\n#                    \"noselect\",\n#                    \"dynamic\"\n#                ]\n#            },\n#            {\n#                \"server\": \"server5\"\n#            },\n#            {\n#                \"server\": \"time1.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time2.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time3.vyos.net\"\n#            }\n#        ]\n#    },\n#    \"changed\": true,\n#    \"commands\": [\n#        \"delete system ntp allow-clients address 10.4.7.0/24\",\n#        \"delete system ntp allow-clients address 10.2.3.0/24\",\n#        \"delete system ntp allow-clients address 10.1.2.0/24\",\n#        \"delete system ntp allow-clients address 10.4.9.0/24\",\n#        \"delete system ntp listen-address 10.7.9.21\",\n#        \"delete system ntp listen-address 10.4.5.1\",\n#        \"delete system ntp listen-address 10.5.3.2\",\n#        \"delete system ntp listen-address 10.8.9.4\",\n#        \"delete system ntp listen-address 10.1.9.16\",\n#        \"delete system ntp server 10.3.6.5\",\n#        \"delete system ntp server server4\",\n#        \"delete system ntp server server5\",\n#        \"set system ntp allow-clients address 10.6.6.0/24\",\n#        \"set system ntp listen-address 10.1.3.1\",\n#        \"set system ntp server 203.0.113.0 prefer\"\n#    ]\n\n# After state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.6.6.0/24'\n#        set system ntp listen-address '10.1.3.1'\n#        set system ntp server 203.0.113.0 prefer,\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n\n\n# # -------------------\n# # 3. Using overridden\n# # -------------------\n\n# # Before state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.6.6.0/24'\n#        set system ntp listen-address '10.1.3.1'\n#        set system ntp server 203.0.113.0 prefer,\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Override ntp config\n  vyos.vyos.vyos_ntp_global:\n        config:\n          allow_clients:\n            - 10.3.3.0/24\n          listen_addresses:\n            - 10.7.8.1\n          servers:\n            - server: server1\n              options:\n                - dynamic\n                - prefer\n\n            - server: server2\n              options:\n                - noselect\n                - preempt\n\n            - server: serv\n        state: overridden\n\n\n\n# # Task output:\n# # -------------\n#            \"after\": {\n#                \"allow_clients\": [\n#                    \"10.3.3.0/24\"\n#                ],\n#                \"listen_addresses\": [\n#                    \"10.7.8.1\"\n#                ],\n#                \"servers\": [\n#                    {\n#                \"server\": \"serv\"\n#            },\n#            {\n#                \"server\": \"server1\",\n#                \"options\": [\n#                    \"dynamic\",\n#                    \"prefer\"\n#                ]\n#            },\n#            {\n#                \"server\": \"server2\",\n#                \"options\": [\n#                    \"noselect\",\n#                    \"preempt\"\n#                ]\n#            },\n#            {\n#                \"server\": \"time1.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time2.vyos.net\"\n#            },\n#            {\n#                \"server\": \"time3.vyos.net\"\n#            }\n#                ]\n#            },\n#            \"before\": {\n#                \"allow_clients\": [\n#                    \"10.6.6.0/24\"\n#                ],\n#                \"listen_addresses\": [\n#                    \"10.1.3.1\"\n#                ],\n#                \"servers\": [\n#                    {\n#                        \"server\": \"ser\",\n#                        \"options\": [\n#                            \"prefer\"\n#                        ]\n#                    },\n#                    {\n#                        \"server\": \"time1.vyos.net\"\n#                    },\n#                    {\n#                        \"server\": \"time2.vyos.net\"\n#                    },\n#                    {\n#                        \"server\": \"time3.vyos.net\"\n#                    }\n#                ]\n#            },\n#            \"changed\": true,\n#            \"commands\": [\n#                \"delete system ntp allow-clients address 10.6.6.0/24\",\n#                \"delete system ntp listen-address 10.1.3.1\",\n#                \"delete system ntp server ser\",\n#                \"set system ntp allow-clients address 10.3.3.0/24\",\n#                \"set system ntp listen-address 10.7.8.1\",\n#                \"set system ntp server server1 dynamic\",\n#                \"set system ntp server server1 prefer\",\n#                \"set system ntp server server2 noselect\",\n#                \"set system ntp server server2 preempt\",\n#                \"set system ntp server serv\"\n#            ]\n\n# After state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.3.3.0/24'\n#        set system ntp listen-address '10.7.8.1'\n#        set system ntp server serv\n#        set system ntp server server1 dynamic\n#        set system ntp server server1 prefer\n#        set system ntp server server2 noselect\n#        set system ntp server server2 preempt\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n\n\n# # -------------------\n# # 4. Using gathered\n# # -------------------\n\n# # Before state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.3.3.0/24'\n#        set system ntp listen-address '10.7.8.1'\n#        set system ntp server serv\n#        set system ntp server server1 dynamic\n#        set system ntp server server1 prefer\n#        set system ntp server server2 noselect\n#        set system ntp server server2 preempt\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Gather ntp config\n  vyos.vyos.vyos_ntp_global:\n        state: gathered\n\n# # Task output:\n# # -------------\n#        \"gathered\": {\n#                \"allow_clients\": [\n#                    \"10.3.3.0/24\"\n#                ],\n#                \"listen_addresses\": [\n#                    \"10.7.8.1\"\n#                ],\n#                \"servers\": [\n#                    {\n#                        \"server\": \"serv\"\n#                    },\n#                    {\n#                        \"server\": \"server1\",\n#                        \"options\": [\n#                            \"dynamic\",\n#                            \"prefer\"\n#                        ]\n#                    },\n#                    {\n#                         \"server\": \"server2\",\n#                         \"options\": [\n#                             \"noselect\",\n#                             \"preempt\"\n#                         ]\n#                     },\n#                     {\n#                          \"server\": \"time1.vyos.net\"\n#                     },\n#                     {\n#                         \"server\": \"time2.vyos.net\"\n#                     },\n#                     {\n#                         \"server\": \"time3.vyos.net\"\n#                     }\n#                ]\n#            }\n\n# After state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.3.3.0/24'\n#        set system ntp listen-address '10.7.8.1'\n#        set system ntp server serv\n#        set system ntp server server1 dynamic\n#        set system ntp server server1 prefer\n#        set system ntp server server2 noselect\n#        set system ntp server server2 preempt\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n\n# # -------------------\n# # 5. Using deleted\n# # -------------------\n\n# # Before state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp allow-clients address '10.3.3.0/24'\n#        set system ntp listen-address '10.7.8.1'\n#        set system ntp server serv\n#        set system ntp server server1 dynamic\n#        set system ntp server server1 prefer\n#        set system ntp server server2 noselect\n#        set system ntp server server2 preempt\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Delete ntp config\n  vyos.vyos.vyos_ntp_global:\n    state: deleted\n\n\n# # Task output:\n# # -------------\n#            \"after\": {\n#                \"servers\": [\n#                    {\n#                        \"server\": \"time1.vyos.net\"\n#                    },\n#                    {\n#                       \"server\": \"time2.vyos.net\"\n#                    },\n#                    {\n#                        \"server\": \"time3.vyos.net\"\n#                    }\n#                ]\n#            },\n#            \"before\": {\n#                \"allow_clients\": [\n#                    \"10.3.3.0/24\"\n#                ],\n#                \"listen_addresses\": [\n#                    \"10.7.8.1\"\n#                ],\n#                \"servers\": [\n#                    {\n#                        \"server\": \"serv\"\n#                    },\n#                    {\n#                        \"server\": \"server1\",\n#                        \"options\": [\n#                            \"dynamic\",\n#                            \"prefer\"\n#                        ]\n#                    },\n#                    {\n#                          \"server\": \"server2\",\n#                          \"options\": [\n#                              \"noselect\",\n#                              \"preempt\"\n#                          ]\n#                      },\n#                      {\n#                          \"server\": \"time1.vyos.net\"\n#                      },\n#                      {\n#                          \"server\": \"time2.vyos.net\"\n#                      },\n#                      {\n#                          \"server\": \"time3.vyos.net\"\n#                      }\n#                ]\n#            },\n#            \"changed\": true,\n#            \"commands\": [\n#                \"delete system ntp allow-clients\",\n#                \"delete system ntp listen-address\",\n#                \"delete system ntp server serv\",\n#                \"delete system ntp server server1\",\n#                \"delete system ntp server server2\"\n#\n#            ]\n\n# After state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n\n# # -------------------\n# # 6. Using rendered\n# # -------------------\n\n# # Before state:\n# # -------------\n#        vyos@vyos:~$ show configuration commands | grep ntp\n#        set system ntp server time1.vyos.net\n#        set system ntp server time2.vyos.net\n#        set system ntp server time3.vyos.net\n#        vyos@vyos:~$\n\n# # Task\n# # -------------\n- name: Render ntp config\n  vyos.vyos.vyos_ntp_global:\n       config:\n        allow_clients:\n            - 10.7.7.0/24\n            - 10.8.8.0/24\n        listen_addresses:\n            - 10.7.9.1\n        servers:\n            - server: server7\n\n            - server: server45\n              options:\n                - noselect\n                - prefer\n                - pool\n            - server: time1.vyos.net\n\n            - server: time2.vyos.net\n\n            - server: time3.vyos.net\n\n        state: rendered\n\n\n# # Task output:\n# # -------------\n#           \"rendered\": [\n#                \"set system ntp allow-clients address 10.7.7.0/24\",\n#                \"set system ntp allow-clients address 10.8.8.0/24\",\n#                \"set system ntp listen-address 10.7.9.1\",\n#                \"set system ntp server server7\",\n#                \"set system ntp server server45 noselect\",\n#                \"set system ntp server server45 prefer\",\n#                \"set system ntp server server45 pool\",\n#                \"set system ntp server time1.vyos.net\",\n#                \"set system ntp server time2.vyos.net\",\n#                \"set system ntp server time3.vyos.net\"\n#            ]\n\n\n# # -------------------\n# # 7. Using parsed\n# # -------------------\n\n# # sample_config.cfg:\n# # -------------\n#           \"set system ntp allow-clients address 10.7.7.0/24\",\n#           \"set system ntp listen-address 10.7.9.1\",\n#           \"set system ntp server server45 noselect\",\n#           \"set system ntp allow-clients addres 10.8.6.0/24\",\n#           \"set system ntp listen-address 10.5.4.1\",\n#           \"set system ntp server server45 dynamic\",\n#           \"set system ntp server time1.vyos.net\",\n#           \"set system ntp server time2.vyos.net\",\n#           \"set system ntp server time3.vyos.net\"\n\n# # Task:\n# # -------------\n- name: Parse externally provided ntp configuration\n  vyos.vyos.vyos_ntp_global:\n     running_config: \"{{ lookup('file', './sample_config.cfg') }}\"\n     state: parsed\n\n# # Task output:\n# # -------------\n#           parsed = {\n#                \"allow_clients\": [\n#                    \"10.7.7.0/24\",\n#                    \"10.8.6.0/24\n#                ],\n#                \"listen_addresses\": [\n#                    \"10.5.4.1\",\n#                    \"10.7.9.1\"\n#                ],\n#                \"servers\": [\n#                    {\n#                        \"server\": \"server45\",\n#                        \"options\": [\n#                            \"noselect\",\n#                            \"dynamic\"\n#\n#                        ]\n#                    },\n#                    {\n#                        \"server\": \"time1.vyos.net\"\n#                    },\n#                    {\n#                        \"server\": \"time2.vyos.net\"\n#                    },\n#                    {\n#                        \"server\": \"time3.vyos.net\"\n#                    }\n#\n#                ]\n#            }\n\n"
  },
  "vyos.vyos.vyos_ospf_interfaces": {
    "doc": {
      "description": "This module manages OSPF configuration of interfaces on devices running VYOS.",
      "has_action": true,
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of OSPF configuration for interfaces.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "address_family": {
              "aliases": [],
              "description": "OSPF settings on the interfaces in address-family context.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "afi": {
                  "aliases": [],
                  "description": "Address Family Identifier (AFI) for OSPF settings on the interfaces.",
                  "type": "str",
                  "required": true,
                  "choices": [
                    "ipv4",
                    "ipv6"
                  ],
                  "suboptions": {}
                },
                "authentication": {
                  "aliases": [],
                  "description": "Authentication settings on the interface.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "md5_key": {
                      "aliases": [],
                      "description": "md5 parameters.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "key": {
                          "aliases": [],
                          "description": "md5 key.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "key_id": {
                          "aliases": [],
                          "description": "key id.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "plaintext_password": {
                      "aliases": [],
                      "description": "Plain Text password.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "bandwidth": {
                  "aliases": [],
                  "description": "Bandwidth of interface (kilobits/sec)",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "cost": {
                  "aliases": [],
                  "description": "metric associated with interface.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "dead_interval": {
                  "aliases": [],
                  "description": "Time interval to detect a dead router.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "hello_interval": {
                  "aliases": [],
                  "description": "Timer interval between transmission of hello packets.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "ifmtu": {
                  "aliases": [],
                  "description": "interface MTU.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "instance": {
                  "aliases": [],
                  "description": "Instance ID.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "mtu_ignore": {
                  "aliases": [],
                  "description": "if True, Disable MTU check for Database Description packets.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "network": {
                  "aliases": [],
                  "description": "Interface type.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "passive": {
                  "aliases": [],
                  "description": "If True, disables forming adjacency.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "priority": {
                  "aliases": [],
                  "description": "Interface priority.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "retransmit_interval": {
                  "aliases": [],
                  "description": "LSA retransmission interval.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "transmit_delay": {
                  "aliases": [],
                  "description": "LSA transmission delay.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "name": {
              "aliases": [],
              "description": "Name/Identifier of the interface.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VYOS device by executing the command B(show configuration commands |  match \"set interfaces\").\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "parsed",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "OSPF Interfaces Resource Module.",
      "version_added": "1.2.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n\n# @vyos:~$ show configuration commands | match \"ospf\"\n\n  - name: Merge provided configuration with device configuration\n    vyos.vyos.vyos_ospf_interfaces:\n      config:\n        - name: \"eth1\"\n          address_family:\n            - afi: \"ipv4\"\n              transmit_delay: 50\n              priority: 26\n              network: \"point-to-point\"\n            - afi: \"ipv6\"\n              dead_interval: 39\n        - name: \"bond2\"\n          address_family:\n            - afi: \"ipv4\"\n              transmit_delay: 45\n              bandwidth: 70\n              authentication:\n                md5_key:\n                  key_id: 10\n                  key: \"1111111111232345\"\n            - afi: \"ipv6\"\n              passive: True\n      state: merged\n\n# After State:\n# --------------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n\n# \"after\": [\n#        \"\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"authentication\": {\n#                        \"md5_key\": {\n#                            \"key\": \"1111111111232345\",\n#                            \"key_id\": 10\n#                        }\n#                    },\n#                    \"bandwidth\": 70,\n#                    \"transmit_delay\": 45\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"passive\": true\n#                }\n#            ],\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"network\": \"point-to-point\",\n#                    \"priority\": 26,\n#                    \"transmit_delay\": 50\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"dead_interval\": 39\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ],\n#    \"before\": [\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ],\n#    \"changed\": true,\n#    \"commands\": [\n#        \"set interfaces ethernet eth1 ip ospf transmit-delay 50\",\n#        \"set interfaces ethernet eth1 ip ospf priority 26\",\n#        \"set interfaces ethernet eth1 ip ospf network point-to-point\",\n#        \"set interfaces ethernet eth1 ipv6 ospfv3 dead-interval 39\",\n#        \"set interfaces bonding bond2 ip ospf transmit-delay 45\",\n#        \"set interfaces bonding bond2 ip ospf bandwidth 70\",\n#        \"set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key 1111111111232345\",\n#        \"set interfaces bonding bond2 ipv6 ospfv3 passive\"\n#    ],\n\n\n\n\n# Using replaced:\n\n# Before State:\n# ------------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n\n  - name: Replace provided configuration with device configuration\n    vyos.vyos.vyos_ospf_interfaces:\n      config:\n        - name: \"eth1\"\n          address_family:\n            - afi: \"ipv4\"\n              cost: 100\n            - afi: \"ipv6\"\n              ifmtu: 33\n        - name: \"bond2\"\n          address_family:\n            - afi: \"ipv4\"\n              transmit_delay: 45\n            - afi: \"ipv6\"\n              passive: True\n      state: replaced\n\n# After State:\n# -----------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf cost '100'\n# set interfaces ethernet eth1 ipv6 ospfv3 ifmtu '33'\n# vyos@vyos:~$\n\n# Module Execution\n# ----------------\n#    \"after\": [\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"transmit_delay\": 45\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"passive\": true\n#                }\n#            ],\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"cost\": 100\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"ifmtu\": 33\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ],\n#    \"before\": [\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"authentication\": {\n#                        \"md5_key\": {\n#                            \"key\": \"1111111111232345\",\n#                            \"key_id\": 10\n#                        }\n#                    },\n#                    \"bandwidth\": 70,\n#                    \"transmit_delay\": 45\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"passive\": true\n#                }\n#            ],\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"network\": \"point-to-point\",\n#                    \"priority\": 26,\n#                    \"transmit_delay\": 50\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"dead_interval\": 39\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ],\n#    \"changed\": true,\n#    \"commands\": [\n#        \"set interfaces ethernet eth1 ip ospf cost 100\",\n#        \"set interfaces ethernet eth1 ipv6 ospfv3 ifmtu 33\",\n#        \"delete interfaces ethernet eth1 ip ospf network point-to-point\",\n#        \"delete interfaces ethernet eth1 ip ospf priority 26\",\n#        \"delete interfaces ethernet eth1 ip ospf transmit-delay 50\",\n#        \"delete interfaces ethernet eth1 ipv6 ospfv3 dead-interval 39\",\n#        \"delete interfaces bonding bond2 ip ospf authentication\",\n#        \"delete interfaces bonding bond2 ip ospf bandwidth 70\"\n#    ],\n#\n\n# Using Overridden:\n# -----------------\n\n# Before State:\n# ------------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf cost '100'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n# set interfaces ethernet eth1 ipv6 ospfv3 ifmtu '33'\n# vyos@vyos:~$\n\n  - name: Override device configuration with provided configuration\n    vyos.vyos.vyos_ospf_interfaces:\n      config:\n        - name: \"eth0\"\n          address_family:\n            - afi: \"ipv4\"\n              cost: 100\n            - afi: \"ipv6\"\n              ifmtu: 33\n              passive: True\n      state: overridden\n# After State:\n# -----------\n\n# 200~vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces ethernet eth0 ip ospf cost '100'\n# set interfaces ethernet eth0 ipv6 ospfv3 ifmtu '33'\n# set interfaces ethernet eth0 ipv6 ospfv3 'passive'\n# vyos@vyos:~$\n#\n#\n#     \"after\": [\n#         {\n#             \"name\": \"bond2\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"cost\": 100\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"ifmtu\": 33,\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"eth0\"\n#         },\n#         {\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"name\": \"eth3\"\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"authentication\": {\n#                         \"md5_key\": {\n#                             \"key\": \"1111111111232345\",\n#                             \"key_id\": 10\n#                         }\n#                     },\n#                     \"bandwidth\": 70,\n#                     \"transmit_delay\": 45\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"bond2\"\n#         },\n#         {\n#             \"name\": \"eth0\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"cost\": 100,\n#                     \"network\": \"point-to-point\",\n#                     \"priority\": 26,\n#                     \"transmit_delay\": 50\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"dead_interval\": 39,\n#                     \"ifmtu\": 33\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"name\": \"eth3\"\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete interfaces bonding bond2 ip ospf\",\n#         \"delete interfaces bonding bond2 ipv6 ospfv3\",\n#         \"delete interfaces ethernet eth1 ip ospf\",\n#         \"delete interfaces ethernet eth1 ipv6 ospfv3\",\n#         \"set interfaces ethernet eth0 ip ospf cost 100\",\n#         \"set interfaces ethernet eth0 ipv6 ospfv3 ifmtu 33\",\n#         \"set interfaces ethernet eth0 ipv6 ospfv3 passive\"\n#     ],\n#\n\n# Using deleted:\n# -------------\n\n# before state:\n# -------------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth0 ip ospf cost '100'\n# set interfaces ethernet eth0 ipv6 ospfv3 ifmtu '33'\n# set interfaces ethernet eth0 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n# vyos@vyos:~$\n\n  - name: Delete device configuration\n    vyos.vyos.vyos_ospf_interfaces:\n      config:\n        - name: \"eth0\"\n      state: deleted\n\n# After State:\n# -----------\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n# vyos@vyos:~$\n#\n#\n# \"after\": [\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"authentication\": {\n#                         \"md5_key\": {\n#                             \"key\": \"1111111111232345\",\n#                             \"key_id\": 10\n#                         }\n#                     },\n#                     \"bandwidth\": 70,\n#                     \"transmit_delay\": 45\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"bond2\"\n#         },\n#         {\n#             \"name\": \"eth0\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"network\": \"point-to-point\",\n#                     \"priority\": 26,\n#                     \"transmit_delay\": 50\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"dead_interval\": 39\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"name\": \"eth3\"\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"authentication\": {\n#                         \"md5_key\": {\n#                             \"key\": \"1111111111232345\",\n#                             \"key_id\": 10\n#                         }\n#                     },\n#                     \"bandwidth\": 70,\n#                     \"transmit_delay\": 45\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"bond2\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"cost\": 100\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"ifmtu\": 33,\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"eth0\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"network\": \"point-to-point\",\n#                     \"priority\": 26,\n#                     \"transmit_delay\": 50\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"dead_interval\": 39\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         },\n#         {\n#             \"name\": \"eth2\"\n#         },\n#         {\n#             \"name\": \"eth3\"\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete interfaces ethernet eth0 ip ospf\",\n#         \"delete interfaces ethernet eth0 ipv6 ospfv3\"\n#     ],\n#\n# Using parsed:\n# parsed.cfg:\n\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth0 ip ospf cost '50'\n# set interfaces ethernet eth0 ip ospf priority '26'\n# set interfaces ethernet eth0 ipv6 ospfv3 instance-id '33'\n# set interfaces ethernet eth0 ipv6 ospfv3 'mtu-ignore'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n#\n\n  - name: parse configs\n    vyos.vyos.vyos_ospf_interfaces:\n      running_config: \"{{ lookup('file', './parsed.cfg') }}\"\n      state: parsed\n\n# Module Execution:\n# ----------------\n\n#  \"parsed\": [\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"authentication\": {\n#                         \"md5_key\": {\n#                             \"key\": \"1111111111232345\",\n#                             \"key_id\": 10\n#                         }\n#                     },\n#                     \"bandwidth\": 70,\n#                     \"transmit_delay\": 45\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"passive\": true\n#                 }\n#             ],\n#             \"name\": \"bond2\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"cost\": 50,\n#                     \"priority\": 26\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"instance\": \"33\",\n#                     \"mtu_ignore\": true\n#                 }\n#             ],\n#             \"name\": \"eth0\"\n#         },\n#         {\n#             \"address_family\": [\n#                 {\n#                     \"afi\": \"ipv4\",\n#                     \"network\": \"point-to-point\",\n#                     \"priority\": 26,\n#                     \"transmit_delay\": 50\n#                 },\n#                 {\n#                     \"afi\": \"ipv6\",\n#                     \"dead_interval\": 39\n#                 }\n#             ],\n#             \"name\": \"eth1\"\n#         }\n#     ]\n\n# Using rendered:\n# --------------\n\n  - name: Render\n    vyos.vyos.vyos_ospf_interfaces:\n      config:\n        - name: \"eth1\"\n          address_family:\n            - afi: \"ipv4\"\n              transmit_delay: 50\n              priority: 26\n              network: \"point-to-point\"\n            - afi: \"ipv6\"\n              dead_interval: 39\n        - name: \"bond2\"\n          address_family:\n            - afi: \"ipv4\"\n              transmit_delay: 45\n              bandwidth: 70\n              authentication:\n                md5_key:\n                  key_id: 10\n                  key: \"1111111111232345\"\n            - afi: \"ipv6\"\n              passive: True\n      state: rendered\n\n# Module Execution:\n# ----------------\n\n#    \"rendered\": [\n#        \"set interfaces ethernet eth1 ip ospf transmit-delay 50\",\n#        \"set interfaces ethernet eth1 ip ospf priority 26\",\n#        \"set interfaces ethernet eth1 ip ospf network point-to-point\",\n#        \"set interfaces ethernet eth1 ipv6 ospfv3 dead-interval 39\",\n#        \"set interfaces bonding bond2 ip ospf transmit-delay 45\",\n#        \"set interfaces bonding bond2 ip ospf bandwidth 70\",\n#        \"set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key 1111111111232345\",\n#        \"set interfaces bonding bond2 ipv6 ospfv3 passive\"\n#    ]\n#\n\n# Using Gathered:\n# --------------\n\n# Native Config:\n\n# vyos@vyos:~$ show configuration commands | match \"ospf\"\n# set interfaces bonding bond2 ip ospf authentication md5 key-id 10 md5-key '1111111111232345'\n# set interfaces bonding bond2 ip ospf bandwidth '70'\n# set interfaces bonding bond2 ip ospf transmit-delay '45'\n# set interfaces bonding bond2 ipv6 ospfv3 'passive'\n# set interfaces ethernet eth1 ip ospf network 'point-to-point'\n# set interfaces ethernet eth1 ip ospf priority '26'\n# set interfaces ethernet eth1 ip ospf transmit-delay '50'\n# set interfaces ethernet eth1 ipv6 ospfv3 dead-interval '39'\n# vyos@vyos:~$\n\n  - name: gather configs\n    vyos.vyos.vyos_ospf_interfaces:\n      state: gathered\n\n# Module Execution:\n# -----------------\n\n#    \"gathered\": [\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"authentication\": {\n#                        \"md5_key\": {\n#                            \"key\": \"1111111111232345\",\n#                            \"key_id\": 10\n#                        }\n#                    },\n#                    \"bandwidth\": 70,\n#                    \"transmit_delay\": 45\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"passive\": true\n#                }\n#            ],\n#            \"name\": \"bond2\"\n#        },\n#        {\n#            \"name\": \"eth0\"\n#        },\n#        {\n#            \"address_family\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"network\": \"point-to-point\",\n#                    \"priority\": 26,\n#                    \"transmit_delay\": 50\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"dead_interval\": 39\n#                }\n#            ],\n#            \"name\": \"eth1\"\n#        },\n#        {\n#            \"name\": \"eth2\"\n#        },\n#        {\n#            \"name\": \"eth3\"\n#        }\n#    ],\n\n\n\n\n\n"
  },
  "vyos.vyos.vyos_ospfv2": {
    "doc": {
      "description": "This resource module configures and manages attributes of OSPFv2 routes on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A provided OSPFv2 route configuration.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "areas": {
              "aliases": [],
              "description": "OSPFv2 area.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "area_id": {
                  "aliases": [],
                  "description": "OSPFv2 area identity.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "area_type": {
                  "aliases": [],
                  "description": "Area type.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "normal": {
                      "aliases": [],
                      "description": "Normal OSPFv2 area.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "nssa": {
                      "aliases": [],
                      "description": "NSSA OSPFv2 area.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "default_cost": {
                          "aliases": [],
                          "description": "Summary-default cost of NSSA area.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "no_summary": {
                          "aliases": [],
                          "description": "Do not inject inter-area routes into stub.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "set": {
                          "aliases": [],
                          "description": "Enabling NSSA.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "translate": {
                          "aliases": [],
                          "description": "NSSA-ABR.",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "always",
                            "candidate",
                            "never"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "stub": {
                      "aliases": [],
                      "description": "Stub OSPFv2 area.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "default_cost": {
                          "aliases": [],
                          "description": "Summary-default cost of stub area.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "no_summary": {
                          "aliases": [],
                          "description": "Do not inject inter-area routes into stub.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "set": {
                          "aliases": [],
                          "description": "Enabling stub.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    }
                  }
                },
                "authentication": {
                  "aliases": [],
                  "description": "OSPFv2 area authentication type.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "plaintext-password",
                    "md5"
                  ],
                  "suboptions": {}
                },
                "network": {
                  "aliases": [],
                  "description": "OSPFv2 network.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "OSPFv2 IPv4 network address.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "range": {
                  "aliases": [],
                  "description": "Summarize routes matching prefix (border routers only).",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "border router IPv4 address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "cost": {
                      "aliases": [],
                      "description": "Metric for this range.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "not_advertise": {
                      "aliases": [],
                      "description": "Don't advertise this range.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "substitute": {
                      "aliases": [],
                      "description": "Announce area range (IPv4 address) as another prefix.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "shortcut": {
                  "aliases": [],
                  "description": "Area's shortcut mode.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "default",
                    "disable",
                    "enable"
                  ],
                  "suboptions": {}
                },
                "virtual_link": {
                  "aliases": [],
                  "description": "Virtual link address.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "virtual link address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "authentication": {
                      "aliases": [],
                      "description": "OSPFv2 area authentication type.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "md5": {
                          "aliases": [],
                          "description": "MD5 key id based authentication.",
                          "type": "list",
                          "required": false,
                          "elements": "dict",
                          "suboptions": {
                            "key_id": {
                              "aliases": [],
                              "description": "MD5 key id.",
                              "type": "int",
                              "required": false,
                              "suboptions": {}
                            },
                            "md5_key": {
                              "aliases": [],
                              "description": "MD5 key.",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "plaintext_password": {
                          "aliases": [],
                          "description": "Plain text password.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "dead_interval": {
                      "aliases": [],
                      "description": "Interval after which a neighbor is declared dead.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "hello_interval": {
                      "aliases": [],
                      "description": "Interval between hello packets.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "retransmit_interval": {
                      "aliases": [],
                      "description": "Interval between retransmitting lost link state advertisements.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "transmit_delay": {
                      "aliases": [],
                      "description": "Link state transmit delay.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "auto_cost": {
              "aliases": [],
              "description": "Calculate OSPFv2 interface cost according to bandwidth.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "reference_bandwidth": {
                  "aliases": [],
                  "description": "Reference bandwidth cost in Mbits/sec.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "default_information": {
              "aliases": [],
              "description": "Control distribution of default information.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "originate": {
                  "aliases": [],
                  "description": "Distribute a default route.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "always": {
                      "aliases": [],
                      "description": "Always advertise default route.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "metric": {
                      "aliases": [],
                      "description": "OSPFv2 default metric.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "metric_type": {
                      "aliases": [],
                      "description": "OSPFv2 Metric types for default routes.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "route_map": {
                      "aliases": [],
                      "description": "Route map references.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "default_metric": {
              "aliases": [],
              "description": "Metric of redistributed routes",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "distance": {
              "aliases": [],
              "description": "Administrative distance.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "global": {
                  "aliases": [],
                  "description": "Global OSPFv2 administrative distance.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "ospf": {
                  "aliases": [],
                  "description": "OSPFv2 administrative distance.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "external": {
                      "aliases": [],
                      "description": "Distance for external routes.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "inter_area": {
                      "aliases": [],
                      "description": "Distance for inter-area routes.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "intra_area": {
                      "aliases": [],
                      "description": "Distance for intra-area routes.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "log_adjacency_changes": {
              "aliases": [],
              "description": "Log changes in adjacency state.",
              "type": "str",
              "required": false,
              "choices": [
                "detail"
              ],
              "suboptions": {}
            },
            "max_metric": {
              "aliases": [],
              "description": "OSPFv2 maximum/infinite-distance metric.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "router_lsa": {
                  "aliases": [],
                  "description": "Advertise own Router-LSA with infinite distance (stub router).",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "administrative": {
                      "aliases": [],
                      "description": "Administratively apply, for an indefinite period.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "on_shutdown": {
                      "aliases": [],
                      "description": "Time to advertise self as stub-router.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "on_startup": {
                      "aliases": [],
                      "description": "Time to advertise self as stub-router",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "mpls_te": {
              "aliases": [],
              "description": "MultiProtocol Label Switching-Traffic Engineering (MPLS-TE) parameters.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "enabled": {
                  "aliases": [],
                  "description": "Enable MPLS-TE functionality.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "router_address": {
                  "aliases": [],
                  "description": "Stable IP address of the advertising router.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "neighbor": {
              "aliases": [],
              "description": "Neighbor IP address.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "neighbor_id": {
                  "aliases": [],
                  "description": "Identity (number/IP address) of neighbor.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "poll_interval": {
                  "aliases": [],
                  "description": "Seconds between dead neighbor polling interval.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "priority": {
                  "aliases": [],
                  "description": "Neighbor priority.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "parameters": {
              "aliases": [],
              "description": "OSPFv2 specific parameters.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "abr_type": {
                  "aliases": [],
                  "description": "OSPFv2 ABR Type.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "cisco",
                    "ibm",
                    "shortcut",
                    "standard"
                  ],
                  "suboptions": {}
                },
                "opaque_lsa": {
                  "aliases": [],
                  "description": "Enable the Opaque-LSA capability (rfc2370).",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "rfc1583_compatibility": {
                  "aliases": [],
                  "description": "Enable rfc1583 criteria for handling AS external routes.",
                  "type": "bool",
                  "required": false,
                  "suboptions": {}
                },
                "router_id": {
                  "aliases": [],
                  "description": "Override the default router identifier.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "passive_interface": {
              "aliases": [],
              "description": "Suppress routing updates on an interface.",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "passive_interface_exclude": {
              "aliases": [],
              "description": "Interface to exclude when using passive-interface default.",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "redistribute": {
              "aliases": [],
              "description": "Redistribute information from another routing protocol.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "metric": {
                  "aliases": [],
                  "description": "Metric for redistribution routes.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "metric_type": {
                  "aliases": [],
                  "description": "OSPFv2 Metric types.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "route_map": {
                  "aliases": [],
                  "description": "Route map references.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "route_type": {
                  "aliases": [],
                  "description": "Route type to redistribute.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "bgp",
                    "connected",
                    "kernel",
                    "rip",
                    "static"
                  ],
                  "suboptions": {}
                }
              }
            },
            "route_map": {
              "aliases": [],
              "description": "Filter routes installed in local route map.",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "timers": {
              "aliases": [],
              "description": "Adjust routing timers.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "refresh": {
                  "aliases": [],
                  "description": "Adjust refresh parameters.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "timers": {
                      "aliases": [],
                      "description": "refresh timer.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "throttle": {
                  "aliases": [],
                  "description": "Throttling adaptive timers.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "spf": {
                      "aliases": [],
                      "description": "OSPFv2 SPF timers.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "delay": {
                          "aliases": [],
                          "description": "Delay (msec) from first change received till SPF calculation.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "initial_holdtime": {
                          "aliases": [],
                          "description": "Initial hold time(msec) between consecutive SPF calculations.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "max_holdtime": {
                          "aliases": [],
                          "description": "maximum hold time (sec).",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep ospf).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "deleted",
            "parsed",
            "gathered",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "OSPFv2 resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos# run show  configuration commands | grep ospf\n#\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_ospfv2:\n    config:\n      log_adjacency_changes: detail\n      max_metric:\n        router_lsa:\n          administrative: true\n          on_shutdown: 10\n          on_startup: 10\n        default_information:\n          originate:\n            always: true\n            metric: 10\n            metric_type: 2\n            route_map: ingress\n        mpls_te:\n          enabled: true\n          router_address: 192.0.11.11\n        auto_cost:\n          reference_bandwidth: 2\n        neighbor:\n        - neighbor_id: 192.0.11.12\n          poll_interval: 10\n          priority: 2\n        redistribute:\n        - route_type: bgp\n          metric: 10\n          metric_type: 2\n        passive_interface:\n        - eth1\n        - eth2\n        parameters:\n          router_id: 192.0.1.1\n          opaque_lsa: true\n          rfc1583_compatibility: true\n          abr_type: cisco\n        areas:\n        - area_id: '2'\n          area_type:\n            normal: true\n            authentication: plaintext-password\n            shortcut: enable\n        - area_id: '3'\n          area_type:\n            nssa:\n              set: true\n        - area_id: '4'\n          area_type:\n            stub:\n              default_cost: 20\n          network:\n          - address: 192.0.2.0/24\n          range:\n          - address: 192.0.3.0/24\n            cost: 10\n          - address: 192.0.4.0/24\n          cost: 12\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": {}\n#\n#    \"commands\": [\n#       \"set protocols ospf mpls-te enable\",\n#       \"set protocols ospf mpls-te router-address '192.0.11.11'\",\n#       \"set protocols ospf redistribute bgp\",\n#       \"set protocols ospf redistribute bgp metric-type 2\",\n#       \"set protocols ospf redistribute bgp metric 10\",\n#       \"set protocols ospf default-information originate metric-type 2\",\n#       \"set protocols ospf default-information originate always\",\n#       \"set protocols ospf default-information originate metric 10\",\n#       \"set protocols ospf default-information originate route-map ingress\",\n#       \"set protocols ospf auto-cost reference-bandwidth '2'\",\n#       \"set protocols ospf parameters router-id '192.0.1.1'\",\n#       \"set protocols ospf parameters opaque-lsa\",\n#       \"set protocols ospf parameters abr-type 'cisco'\",\n#       \"set protocols ospf parameters rfc1583-compatibility\",\n#       \"set protocols ospf passive-interface eth1\",\n#       \"set protocols ospf passive-interface eth2\",\n#       \"set protocols ospf max-metric router-lsa on-shutdown 10\",\n#       \"set protocols ospf max-metric router-lsa administrative\",\n#       \"set protocols ospf max-metric router-lsa on-startup 10\",\n#       \"set protocols ospf log-adjacency-changes 'detail'\",\n#       \"set protocols ospf neighbor 192.0.11.12 priority 2\",\n#       \"set protocols ospf neighbor 192.0.11.12 poll-interval 10\",\n#       \"set protocols ospf neighbor 192.0.11.12\",\n#       \"set protocols ospf area '2'\",\n#       \"set protocols ospf area 2 authentication plaintext-password\",\n#       \"set protocols ospf area 2 shortcut enable\",\n#       \"set protocols ospf area 2 area-type normal\",\n#       \"set protocols ospf area '3'\",\n#       \"set protocols ospf area 3 area-type nssa\",\n#       \"set protocols ospf area 4 range 192.0.3.0/24 cost 10\",\n#       \"set protocols ospf area 4 range 192.0.3.0/24\",\n#       \"set protocols ospf area 4 range 192.0.4.0/24 cost 12\",\n#       \"set protocols ospf area 4 range 192.0.4.0/24\",\n#       \"set protocols ospf area 4 area-type stub default-cost 20\",\n#       \"set protocols ospf area '4'\",\n#       \"set protocols ospf area 4 network 192.0.2.0/24\"\n#    ]\n#\n# \"after\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n\n\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos# run show  configuration commands | grep ospf\n#\n#\n- name: Merge the provided configuration to update existing running configuration\n  vyos.vyos.vyos_ospfv2:\n    config:\n      areas:\n      - area_id: '2'\n        area_type:\n          normal: true\n        authentication: plaintext-password\n        shortcut: enable\n      - area_id: '3'\n        area_type:\n          nssa:\n            set: false\n      - area_id: '4'\n        area_type:\n          stub:\n            default_cost: 20\n        network:\n        - address: 192.0.2.0/24\n        - address: 192.0.22.0/24\n        - address: 192.0.32.0/24\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n#    \"commands\": [\n#       \"delete protocols ospf area 4 area-type stub\",\n#       \"set protocols ospf area 4 network 192.0.22.0/24\"\n#       \"set protocols ospf area 4 network 192.0.32.0/24\"\n#    ]\n#\n# \"after\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    },\n#                    {\n#                        \"address\": \"192.0.22.0/24\"\n#                    },\n#                    {\n#                        \"address\": \"192.0.32.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 network '192.0.22.0/24'\n# set protocols ospf area 4 network '192.0.32.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n#\n- name: Replace ospfv2 routes attributes configuration.\n  vyos.vyos.vyos_ospfv2:\n    config:\n      log_adjacency_changes: detail\n      max_metric:\n        router_lsa:\n          administrative: true\n          on_shutdown: 10\n          on_startup: 10\n        default_information:\n          originate:\n            always: true\n            metric: 10\n            metric_type: 2\n            route_map: ingress\n        mpls_te:\n          enabled: true\n          router_address: 192.0.22.22\n        auto_cost:\n          reference_bandwidth: 2\n        neighbor:\n        - neighbor_id: 192.0.11.12\n          poll_interval: 10\n          priority: 2\n        redistribute:\n        - route_type: bgp\n          metric: 10\n          metric_type: 2\n        passive_interface:\n        - eth1\n        parameters:\n          router_id: 192.0.1.1\n          opaque_lsa: true\n          rfc1583_compatibility: true\n          abr_type: cisco\n        areas:\n        - area_id: '2'\n          area_type:\n            normal: true\n          authentication: plaintext-password\n          shortcut: enable\n        - area_id: '4'\n          area_type:\n            stub:\n              default_cost: 20\n          network:\n          - address: 192.0.2.0/24\n          - address: 192.0.12.0/24\n          - address: 192.0.22.0/24\n          - address: 192.0.32.0/24\n          range:\n          - address: 192.0.42.0/24\n            cost: 10\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# \"commands\": [\n#     \"delete protocols ospf passive-interface eth2\",\n#     \"delete protocols ospf area 3\",\n#     \"delete protocols ospf area 4 range 192.0.3.0/24 cost\",\n#     \"delete protocols ospf area 4 range 192.0.3.0/24\",\n#     \"delete protocols ospf area 4 range 192.0.4.0/24 cost\",\n#     \"delete protocols ospf area 4 range 192.0.4.0/24\",\n#     \"set protocols ospf mpls-te router-address '192.0.22.22'\",\n#     \"set protocols ospf area 4 range 192.0.42.0/24 cost 10\",\n#     \"set protocols ospf area 4 range 192.0.42.0/24\",\n#     \"set protocols ospf area 4 network 192.0.12.0/24\",\n#     \"set protocols ospf area 4 network 192.0.22.0/24\",\n#     \"set protocols ospf area 4 network 192.0.32.0/24\"\n#    ]\n#\n#    \"after\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.12.0/24\"\n#                    },\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    },\n#                    {\n#                        \"address\": \"192.0.22.0/24\"\n#                    },\n#                    {\n#                        \"address\": \"192.0.32.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.42.0/24\",\n#                        \"cost\": 10\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.22.22\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 network '192.0.12.0/24'\n# set protocols ospf area 4 network '192.0.22.0/24'\n# set protocols ospf area 4 network '192.0.32.0/24'\n# set protocols ospf area 4 range 192.0.42.0/24 cost '10'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.22.22'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_ospfv2:\n    config:\n      log_adjacency_changes: detail\n      max_metric:\n        router_lsa:\n          administrative: true\n          on_shutdown: 10\n          on_startup: 10\n        default_information:\n          originate:\n            always: true\n            metric: 10\n            metric_type: 2\n            route_map: ingress\n        mpls_te:\n          enabled: true\n          router_address: 192.0.11.11\n        auto_cost:\n          reference_bandwidth: 2\n        neighbor:\n        - neighbor_id: 192.0.11.12\n          poll_interval: 10\n          priority: 2\n        redistribute:\n        - route_type: bgp\n          metric: 10\n          metric_type: 2\n        passive_interface:\n        - eth1\n        - eth2\n        parameters:\n          router_id: 192.0.1.1\n          opaque_lsa: true\n          rfc1583_compatibility: true\n          abr_type: cisco\n        areas:\n        - area_id: '2'\n          area_type:\n            normal: true\n          authentication: plaintext-password\n          shortcut: enable\n        - area_id: '3'\n          area_type:\n            nssa:\n              set: true\n        - area_id: '4'\n          area_type:\n            stub:\n              default_cost: 20\n          network:\n          - address: 192.0.2.0/24\n          range:\n          - address: 192.0.3.0/24\n            cost: 10\n          - address: 192.0.4.0/24\n            cost: 12\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        [\n#       \"set protocols ospf mpls-te enable\",\n#       \"set protocols ospf mpls-te router-address '192.0.11.11'\",\n#       \"set protocols ospf redistribute bgp\",\n#       \"set protocols ospf redistribute bgp metric-type 2\",\n#       \"set protocols ospf redistribute bgp metric 10\",\n#       \"set protocols ospf default-information originate metric-type 2\",\n#       \"set protocols ospf default-information originate always\",\n#       \"set protocols ospf default-information originate metric 10\",\n#       \"set protocols ospf default-information originate route-map ingress\",\n#       \"set protocols ospf auto-cost reference-bandwidth '2'\",\n#       \"set protocols ospf parameters router-id '192.0.1.1'\",\n#       \"set protocols ospf parameters opaque-lsa\",\n#       \"set protocols ospf parameters abr-type 'cisco'\",\n#       \"set protocols ospf parameters rfc1583-compatibility\",\n#       \"set protocols ospf passive-interface eth1\",\n#       \"set protocols ospf passive-interface eth2\",\n#       \"set protocols ospf max-metric router-lsa on-shutdown 10\",\n#       \"set protocols ospf max-metric router-lsa administrative\",\n#       \"set protocols ospf max-metric router-lsa on-startup 10\",\n#       \"set protocols ospf log-adjacency-changes 'detail'\",\n#       \"set protocols ospf neighbor 192.0.11.12 priority 2\",\n#       \"set protocols ospf neighbor 192.0.11.12 poll-interval 10\",\n#       \"set protocols ospf neighbor 192.0.11.12\",\n#       \"set protocols ospf area '2'\",\n#       \"set protocols ospf area 2 authentication plaintext-password\",\n#       \"set protocols ospf area 2 shortcut enable\",\n#       \"set protocols ospf area 2 area-type normal\",\n#       \"set protocols ospf area '3'\",\n#       \"set protocols ospf area 3 area-type nssa\",\n#       \"set protocols ospf area 4 range 192.0.3.0/24 cost 10\",\n#       \"set protocols ospf area 4 range 192.0.3.0/24\",\n#       \"set protocols ospf area 4 range 192.0.4.0/24 cost 12\",\n#       \"set protocols ospf area 4 range 192.0.4.0/24\",\n#       \"set protocols ospf area 4 area-type stub default-cost 20\",\n#       \"set protocols ospf area '4'\",\n#       \"set protocols ospf area 4 network 192.0.2.0/24\"\n#    ]\n\n\n# Using parsed\n#\n#\n- name: Parse the commands for provided  structured configuration\n  vyos.vyos.vyos_ospfv2:\n    running_config:\n      \"set protocols ospf area 2 area-type 'normal'\n       set protocols ospf area 2 authentication 'plaintext-password'\n       set protocols ospf area 2 shortcut 'enable'\n       set protocols ospf area 3 area-type 'nssa'\n       set protocols ospf area 4 area-type stub default-cost '20'\n       set protocols ospf area 4 network '192.0.2.0/24'\n       set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n       set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n       set protocols ospf auto-cost reference-bandwidth '2'\n       set protocols ospf default-information originate 'always'\n       set protocols ospf default-information originate metric '10'\n       set protocols ospf default-information originate metric-type '2'\n       set protocols ospf default-information originate route-map 'ingress'\n       set protocols ospf log-adjacency-changes 'detail'\n       set protocols ospf max-metric router-lsa 'administrative'\n       set protocols ospf max-metric router-lsa on-shutdown '10'\n       set protocols ospf max-metric router-lsa on-startup '10'\n       set protocols ospf mpls-te 'enable'\n       set protocols ospf mpls-te router-address '192.0.11.11'\n       set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n       set protocols ospf neighbor 192.0.11.12 priority '2'\n       set protocols ospf parameters abr-type 'cisco'\n       set protocols ospf parameters 'opaque-lsa'\n       set protocols ospf parameters 'rfc1583-compatibility'\n       set protocols ospf parameters router-id '192.0.1.1'\n       set protocols ospf passive-interface 'eth1'\n       set protocols ospf passive-interface 'eth2'\n       set protocols ospf redistribute bgp metric '10'\n       set protocols ospf redistribute bgp metric-type '2'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n# }\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n#\n- name: Gather ospfv2 routes config with provided configurations\n  vyos.vyos.vyos_ospfv2:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n\n\n# Using deleted\n#\n# Before state\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospf\n# set protocols ospf area 2 area-type 'normal'\n# set protocols ospf area 2 authentication 'plaintext-password'\n# set protocols ospf area 2 shortcut 'enable'\n# set protocols ospf area 3 area-type 'nssa'\n# set protocols ospf area 4 area-type stub default-cost '20'\n# set protocols ospf area 4 network '192.0.2.0/24'\n# set protocols ospf area 4 range 192.0.3.0/24 cost '10'\n# set protocols ospf area 4 range 192.0.4.0/24 cost '12'\n# set protocols ospf auto-cost reference-bandwidth '2'\n# set protocols ospf default-information originate 'always'\n# set protocols ospf default-information originate metric '10'\n# set protocols ospf default-information originate metric-type '2'\n# set protocols ospf default-information originate route-map 'ingress'\n# set protocols ospf log-adjacency-changes 'detail'\n# set protocols ospf max-metric router-lsa 'administrative'\n# set protocols ospf max-metric router-lsa on-shutdown '10'\n# set protocols ospf max-metric router-lsa on-startup '10'\n# set protocols ospf mpls-te 'enable'\n# set protocols ospf mpls-te router-address '192.0.11.11'\n# set protocols ospf neighbor 192.0.11.12 poll-interval '10'\n# set protocols ospf neighbor 192.0.11.12 priority '2'\n# set protocols ospf parameters abr-type 'cisco'\n# set protocols ospf parameters 'opaque-lsa'\n# set protocols ospf parameters 'rfc1583-compatibility'\n# set protocols ospf parameters router-id '192.0.1.1'\n# set protocols ospf passive-interface 'eth1'\n# set protocols ospf passive-interface 'eth2'\n# set protocols ospf redistribute bgp metric '10'\n# set protocols ospf redistribute bgp metric-type '2'\n#\n- name: Delete attributes of ospfv2 routes.\n  vyos.vyos.vyos_ospfv2:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"area_type\": {\n#                    \"normal\": true\n#                },\n#                \"authentication\": \"plaintext-password\",\n#                \"shortcut\": \"enable\"\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"area_type\": {\n#                    \"nssa\": {\n#                        \"set\": true\n#                    }\n#                }\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"area_type\": {\n#                    \"stub\": {\n#                        \"default_cost\": 20,\n#                        \"set\": true\n#                    }\n#                },\n#                \"network\": [\n#                    {\n#                        \"address\": \"192.0.2.0/24\"\n#                    }\n#                ],\n#                \"range\": [\n#                    {\n#                        \"address\": \"192.0.3.0/24\",\n#                        \"cost\": 10\n#                    },\n#                    {\n#                        \"address\": \"192.0.4.0/24\",\n#                        \"cost\": 12\n#                    }\n#                ]\n#            }\n#        ],\n#        \"auto_cost\": {\n#            \"reference_bandwidth\": 2\n#        },\n#        \"default_information\": {\n#            \"originate\": {\n#                \"always\": true,\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_map\": \"ingress\"\n#            }\n#        },\n#        \"log_adjacency_changes\": \"detail\",\n#        \"max_metric\": {\n#            \"router_lsa\": {\n#                \"administrative\": true,\n#                \"on_shutdown\": 10,\n#                \"on_startup\": 10\n#            }\n#        },\n#        \"mpls_te\": {\n#            \"enabled\": true,\n#            \"router_address\": \"192.0.11.11\"\n#        },\n#        \"neighbor\": [\n#            {\n#                \"neighbor_id\": \"192.0.11.12\",\n#                \"poll_interval\": 10,\n#                \"priority\": 2\n#            }\n#        ],\n#        \"parameters\": {\n#            \"abr_type\": \"cisco\",\n#            \"opaque_lsa\": true,\n#            \"rfc1583_compatibility\": true,\n#            \"router_id\": \"192.0.1.1\"\n#        },\n#        \"passive_interface\": [\n#            \"eth2\",\n#            \"eth1\"\n#        ],\n#        \"redistribute\": [\n#            {\n#                \"metric\": 10,\n#                \"metric_type\": 2,\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n# \"commands\": [\n#        \"delete protocols ospf\"\n#    ]\n#\n# \"after\": {}\n# After state\n# ------------\n# vyos@192# run show configuration commands | grep ospf\n#\n\n"
  },
  "vyos.vyos.vyos_ospfv3": {
    "doc": {
      "description": "This resource module configures and manages attributes of OSPFv3 routes on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A provided OSPFv3 route configuration.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "areas": {
              "aliases": [],
              "description": "OSPFv3 area.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "area_id": {
                  "aliases": [],
                  "description": "OSPFv3 Area name/identity.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "export_list": {
                  "aliases": [],
                  "description": "Name of export-list.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "import_list": {
                  "aliases": [],
                  "description": "Name of import-list.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "range": {
                  "aliases": [],
                  "description": "Summarize routes matching prefix (border routers only).",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "border router IPv4 address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "advertise": {
                      "aliases": [],
                      "description": "Advertise this range.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "not_advertise": {
                      "aliases": [],
                      "description": "Don't advertise this range.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "parameters": {
              "aliases": [],
              "description": "OSPFv3 specific parameters.",
              "type": "dict",
              "required": false,
              "suboptions": {
                "router_id": {
                  "aliases": [],
                  "description": "Override the default router identifier.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "redistribute": {
              "aliases": [],
              "description": "Redistribute information from another routing protocol.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "route_map": {
                  "aliases": [],
                  "description": "Route map references.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "route_type": {
                  "aliases": [],
                  "description": "Route type to redistribute.",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "bgp",
                    "connected",
                    "kernel",
                    "ripng",
                    "static"
                  ],
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep ospfv3).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "deleted",
            "parsed",
            "gathered",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "OSPFV3 resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos# run show  configuration commands | grep ospfv3\n#\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_ospfv3:\n    config:\n      redistribute:\n      - route_type: bgp\n      parameters:\n        router_id: 192.0.2.10\n      areas:\n      - area_id: '2'\n        export_list: export1\n        import_list: import1\n        range:\n        - address: 2001:db10::/32\n        - address: 2001:db20::/32\n        - address: 2001:db30::/32\n      - area_id: '3'\n        range:\n        - address: 2001:db40::/32\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": {}\n#\n#    \"commands\": [\n#       \"set protocols ospfv3 redistribute bgp\",\n#       \"set protocols ospfv3 parameters router-id '192.0.2.10'\",\n#       \"set protocols ospfv3 area 2 range 2001:db10::/32\",\n#       \"set protocols ospfv3 area 2 range 2001:db20::/32\",\n#       \"set protocols ospfv3 area 2 range 2001:db30::/32\",\n#       \"set protocols ospfv3 area '2'\",\n#       \"set protocols ospfv3 area 2 export-list export1\",\n#       \"set protocols ospfv3 area 2 import-list import1\",\n#       \"set protocols ospfv3 area '3'\",\n#       \"set protocols ospfv3 area 3 range 2001:db40::/32\"\n#    ]\n#\n# \"after\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db20::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db40::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db20::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 3 range '2001:db40::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db20::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 3 range '2001:db40::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n#\n- name: Replace ospfv3 routes attributes configuration.\n  vyos.vyos.vyos_ospfv3:\n    config:\n      redistribute:\n      - route_type: bgp\n      parameters:\n        router_id: 192.0.2.10\n      areas:\n      - area_id: '2'\n        export_list: export1\n        import_list: import1\n        range:\n        - address: 2001:db10::/32\n        - address: 2001:db30::/32\n        - address: 2001:db50::/32\n      - area_id: '4'\n        range:\n        - address: 2001:db60::/32\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db20::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db40::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# \"commands\": [\n#     \"delete protocols ospfv3 area 2 range 2001:db20::/32\",\n#     \"delete protocols ospfv3 area 3\",\n#     \"set protocols ospfv3 area 2 range 2001:db50::/32\",\n#     \"set protocols ospfv3 area '4'\",\n#     \"set protocols ospfv3 area 4 range 2001:db60::/32\"\n#    ]\n#\n#    \"after\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db50::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"4\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db60::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 2 range '2001:db50::/32'\n# set protocols ospfv3 area 4 range '2001:db60::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_ospfv3:\n    config:\n      redistribute:\n      - route_type: bgp\n      parameters:\n        router_id: 192.0.2.10\n      areas:\n      - area_id: '2'\n        export_list: export1\n        import_list: import1\n        range:\n        - address: 2001:db10::/32\n        - address: 2001:db20::/32\n        - address: 2001:db30::/32\n      - area_id: '3'\n        range:\n        - address: 2001:db40::/32\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        [\n#       \"set protocols ospfv3 redistribute bgp\",\n#       \"set protocols ospfv3 parameters router-id '192.0.2.10'\",\n#       \"set protocols ospfv3 area 2 range 2001:db10::/32\",\n#       \"set protocols ospfv3 area 2 range 2001:db20::/32\",\n#       \"set protocols ospfv3 area 2 range 2001:db30::/32\",\n#       \"set protocols ospfv3 area '2'\",\n#       \"set protocols ospfv3 area 2 export-list export1\",\n#       \"set protocols ospfv3 area 2 import-list import1\",\n#       \"set protocols ospfv3 area '3'\",\n#       \"set protocols ospfv3 area 3 range 2001:db40::/32\"\n#    ]\n\n\n# Using parsed\n#\n#\n- name: Parse the commands to provide structured configuration.\n  vyos.vyos.vyos_ospfv3:\n    running_config:\n      \"set protocols ospfv3 area 2 export-list 'export1'\n       set protocols ospfv3 area 2 import-list 'import1'\n       set protocols ospfv3 area 2 range '2001:db10::/32'\n       set protocols ospfv3 area 2 range '2001:db20::/32'\n       set protocols ospfv3 area 2 range '2001:db30::/32'\n       set protocols ospfv3 area 3 range '2001:db40::/32'\n       set protocols ospfv3 parameters router-id '192.0.2.10'\n       set protocols ospfv3 redistribute 'bgp'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db20::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db40::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db20::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 3 range '2001:db40::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n#\n- name: Gather ospfv3 routes config with provided configurations\n  vyos.vyos.vyos_ospfv3:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db20::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db40::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n#\n# After state:\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db20::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 3 range '2001:db40::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n\n\n# Using deleted\n#\n# Before state\n# -------------\n#\n# vyos@192# run show configuration commands | grep ospfv3\n# set protocols ospfv3 area 2 export-list 'export1'\n# set protocols ospfv3 area 2 import-list 'import1'\n# set protocols ospfv3 area 2 range '2001:db10::/32'\n# set protocols ospfv3 area 2 range '2001:db20::/32'\n# set protocols ospfv3 area 2 range '2001:db30::/32'\n# set protocols ospfv3 area 3 range '2001:db40::/32'\n# set protocols ospfv3 parameters router-id '192.0.2.10'\n# set protocols ospfv3 redistribute 'bgp'\n#\n- name: Delete attributes of ospfv3 routes.\n  vyos.vyos.vyos_ospfv3:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": {\n#        \"areas\": [\n#            {\n#                \"area_id\": \"2\",\n#                \"export_list\": \"export1\",\n#                \"import_list\": \"import1\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db10::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db20::/32\"\n#                    },\n#                    {\n#                        \"address\": \"2001:db30::/32\"\n#                    }\n#                ]\n#            },\n#            {\n#                \"area_id\": \"3\",\n#                \"range\": [\n#                    {\n#                        \"address\": \"2001:db40::/32\"\n#                    }\n#                ]\n#            }\n#        ],\n#        \"parameters\": {\n#            \"router_id\": \"192.0.2.10\"\n#        },\n#        \"redistribute\": [\n#            {\n#                \"route_type\": \"bgp\"\n#            }\n#        ]\n#    }\n# \"commands\": [\n#        \"delete protocols ospfv3\"\n#    ]\n#\n# \"after\": {}\n# After state\n# ------------\n# vyos@192# run show configuration commands | grep ospfv3\n\n\n"
  },
  "vyos.vyos.vyos_ping": {
    "doc": {
      "description": "Tests reachability using ping from a VyOS device to a remote destination.\nTested against VyOS 1.1.8 (helium)\nFor a general purpose network module, see the net_ping module.\nFor Windows targets, use the win_ping module instead.\nFor targets running Python, use the ping module instead.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nFor a general purpose network module, see the net_ping module.\nFor Windows targets, use the win_ping module instead.\nFor targets running Python, use the ping module instead.\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "count": {
          "aliases": [],
          "description": "Number of packets to send to check reachability.",
          "default": "5",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "dest": {
          "aliases": [],
          "description": "The IP Address or hostname (resolvable by the device) of the remote node.",
          "type": "str",
          "required": true,
          "suboptions": {}
        },
        "interval": {
          "aliases": [],
          "description": "Determines the interval (in seconds) between consecutive pings.",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "size": {
          "aliases": [],
          "description": "Determines the size (in bytes) of the ping packet(s).",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "source": {
          "aliases": [],
          "description": "The source interface or IP Address to use while sending the ping packet(s).",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "Determines if the expected result is success or fail.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "absent",
            "present"
          ],
          "suboptions": {}
        },
        "ttl": {
          "aliases": [],
          "description": "The time-to-live value for the ICMP packet(s).",
          "type": "int",
          "required": false,
          "suboptions": {}
        }
      },
      "short_description": "Tests reachability using ping from VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: Test reachability to 10.10.10.10\n  vyos.vyos.vyos_ping:\n    dest: 10.10.10.10\n\n- name: Test reachability to 10.20.20.20 using source and ttl set\n  vyos.vyos.vyos_ping:\n    dest: 10.20.20.20\n    source: eth0\n    ttl: 128\n\n- name: Test reachability to 10.30.30.30 using interval\n  vyos.vyos.vyos_ping:\n    dest: 10.30.30.30\n    interval: 3\n    state: absent\n\n- name: Test reachability to 10.40.40.40 setting count and source\n  vyos.vyos.vyos_ping:\n    dest: 10.40.40.40\n    source: eth1\n    count: 20\n    size: 512\n"
  },
  "vyos.vyos.vyos_prefix_lists": {
    "doc": {
      "description": "This module manages prefix-lists configuration on devices running VyOS",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium)\nThis module works with connection C(network_cli)",
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of prefix-list options",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "afi": {
              "aliases": [],
              "description": "The Address Family Indicator (AFI) for the prefix-lists",
              "type": "str",
              "required": true,
              "choices": [
                "ipv4",
                "ipv6"
              ],
              "suboptions": {}
            },
            "prefix_lists": {
              "aliases": [],
              "description": "A list of prefix-list configurations",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "description": {
                  "aliases": [],
                  "description": "A brief text description for the prefix-list",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "entries": {
                  "aliases": [],
                  "description": "Rule configurations for the prefix-list",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "action": {
                      "aliases": [],
                      "description": "The action to be taken for packets matching a prefix list rule",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "permit",
                        "deny"
                      ],
                      "suboptions": {}
                    },
                    "description": {
                      "aliases": [],
                      "description": "A brief text description for the prefix list rule",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "ge": {
                      "aliases": [],
                      "description": "Minimum prefix length to be matched",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "le": {
                      "aliases": [],
                      "description": "Maximum prefix list length to be matched",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "prefix": {
                      "aliases": [],
                      "description": "IPv4 or IPv6 prefix in A.B.C.D/LEN or A:B::C:D/LEN format",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "sequence": {
                      "aliases": [],
                      "description": "A numeric identifier for the rule",
                      "type": "int",
                      "required": true,
                      "suboptions": {}
                    }
                  }
                },
                "name": {
                  "aliases": [],
                  "description": "The name of a defined prefix-list",
                  "type": "str",
                  "required": true,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep prefix-list).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Prefix-Lists resource module for VyOS",
      "version_added": "2.4.0"
    },
    "examples": "\n# # -------------------\n# # 1. Using merged\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   vyos@vyos:~$\n\n# # Task\n# # -------------\n#     - name: Merge the provided configuration with the existing running configuration\n#         vyos.vyos.vyos_prefix_lists:\n#             config:\n#             - afi: \"ipv4\"\n#                 prefix_lists:\n#                 - name: \"AnsibleIPv4PrefixList\"\n#                     description: \"PL configured by ansible\"\n#                     entries:\n#                     - sequence: 2\n#                         description: \"Rule 2 given by ansible\"\n#                         action: \"permit\"\n#                         prefix: \"92.168.10.0/26\"\n#                         le: 32\n\n#                     - sequence: 3\n#                         description: \"Rule 3\"\n#                         action: \"deny\"\n#                         prefix: \"72.168.2.0/24\"\n#                         ge: 26\n\n#             - afi: \"ipv6\"\n#                 prefix_lists:\n#                 - name: \"AllowIPv6Prefix\"\n#                     description: \"Configured by ansible for allowing IPv6 networks\"\n#                     entries:\n#                     - sequence: 5\n#                         description: \"Permit rule\"\n#                         action: \"permit\"\n#                         prefix: \"2001:db8:8000::/35\"\n#                         le: 37\n\n#                 - name: DenyIPv6Prefix\n#                     description: \"Configured by ansible for disallowing IPv6 networks\"\n#                     entries:\n#                     - sequence: 8\n#                         action: deny\n#                         prefix: \"2001:db8:2000::/35\"\n#                         le: 37\n#             state: merged\n\n# # Task output:\n# # -------------\n#     \"after\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"before\": [],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set policy prefix-list AnsibleIPv4PrefixList\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix\",\n#         \"set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix\",\n#         \"set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\"\n#     ]\n\n# After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 2. Using replaced\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n# # Task:\n# # -------------\n#     - name: Replace prefix-lists configurations of listed prefix-lists with provided configurations\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#           - afi: \"ipv4\"\n#             prefix_lists:\n#               - name: \"AnsibleIPv4PrefixList\"\n#                 description: \"Configuration replaced by ansible\"\n#                 entries:\n#                   - sequence: 3\n#                     description: \"Rule 3 replaced by ansible\"\n#                     action: \"permit\"\n#                     prefix: \"82.168.2.0/24\"\n#                     ge: 26\n#         state: replaced\n\n# # Task output:\n# # -------------\n#     \"after\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configuration replaced by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 3 replaced by ansible\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"82.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set policy prefix-list AnsibleIPv4PrefixList description 'Configuration replaced by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'permit'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3 replaced by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '82.168.2.0/24'\",\n#         \"delete policy prefix-list AnsibleIPv4PrefixList rule 2\"\n#     ]\n\n# # After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'Configuration replaced by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3 replaced by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '82.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 3. Using overridden\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n# # Task:\n# # -------------\n#     - name: Override all prefix-lists configuration with provided configuration\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#           - afi: \"ipv4\"\n#             prefix_lists:\n#               - name: \"AnsibleIPv4PrefixList\"\n#                 description: Rule 2 overridden by ansible\n#                 entries:\n#                   - sequence: 2\n#                     action: \"deny\"\n#                     ge: 26\n#                     prefix: \"82.168.2.0/24\"\n\n#               - name: \"OverriddenPrefixList\"\n#                 description: Configuration overridden by ansible\n#                 entries:\n#                   - sequence: 10\n#                     action: permit\n#                     prefix: \"203.0.113.96/27\"\n#                     le: 32\n#         state: overridden\n\n# # Task output:\n# # -------------\n#     \"after\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Rule 2 overridden by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"ge\": 26,\n#                             \"sequence\": 2,\n#                             \"prefix\": \"82.168.2.0/24\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configuration overridden by ansible\",\n#                     \"name\": \"OverriddenPrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"sequence\": 10,\n#                             \"le\": 32,\n#                             \"prefix\": \"203.0.113.96/27\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy prefix-list6 AllowIPv6Prefix\",\n#         \"delete policy prefix-list6 DenyIPv6Prefix\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList description 'Rule 2 overridden by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'deny'\",\n#         \"delete policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 ge '26'\",\n#         \"delete policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '82.168.2.0/24'\",\n#         \"delete policy prefix-list AnsibleIPv4PrefixList rule 3\",\n#         \"set policy prefix-list OverriddenPrefixList\",\n#         \"set policy prefix-list OverriddenPrefixList description 'Configuration overridden by ansible'\",\n#         \"set policy prefix-list OverriddenPrefixList rule 10\",\n#         \"set policy prefix-list OverriddenPrefixList rule 10 action 'permit'\",\n#         \"set policy prefix-list OverriddenPrefixList rule 10 le '32'\",\n#         \"set policy prefix-list OverriddenPrefixList rule 10 prefix '203.0.113.96/27'\"\n#     ]\n\n# # After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'Rule 2 overridden by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '82.168.2.0/24'\n#   set policy prefix-list OverriddenPrefixList description 'Configuration overridden by ansible'\n#   set policy prefix-list OverriddenPrefixList rule 10 action 'permit'\n#   set policy prefix-list OverriddenPrefixList rule 10 le '32'\n#   set policy prefix-list OverriddenPrefixList rule 10 prefix '203.0.113.96/27'\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 4(i). Using deleted (to delete all prefix lists from the device)\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n# # Task:\n# # -------------\n#     - name: Delete all prefix-lists\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#         state: deleted\n\n# # Task output:\n# # -------------\n#     \"after\": [],\n#     \"before\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy prefix-list AnsibleIPv4PrefixList\",\n#         \"delete policy prefix-list6 AllowIPv6Prefix\",\n#         \"delete policy prefix-list6 DenyIPv6Prefix\"\n#     ]\n\n# # After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 4(ii). Using deleted (to delete all prefix lists for an AFI)\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n# # Task:\n# # -------------\n#     - name: Delete all prefix-lists for IPv6 AFI\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#           - afi: \"ipv6\"\n#         state: deleted\n\n# # Task output:\n# # -------------\n#     \"after\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy prefix-list6 AllowIPv6Prefix\",\n#         \"delete policy prefix-list6 DenyIPv6Prefix\"\n#     ]\n\n# # After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 4(iii). Using deleted (to delete single prefix list by name in different AFIs)\n# # -------------------\n\n# # Before state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n#   set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n#   set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n#   vyos@vyos:~$\n\n# # Task:\n# # -------------\n#     - name: Delete a single prefix-list from different AFIs\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#           - afi: \"ipv4\"\n#             prefix_lists:\n#               - name: \"AnsibleIPv4PrefixList\"\n#           - afi: \"ipv6\"\n#             prefix_lists:\n#               - name: \"DenyIPv6Prefix\"\n#         state: deleted\n\n# # Task output:\n# # -------------\n#     \"after\": [\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy prefix-list AnsibleIPv4PrefixList\",\n#         \"delete policy prefix-list6 DenyIPv6Prefix\"\n#     ]\n\n# # After state:\n# # -------------\n#   vyos@vyos:~$ show configuration commands | grep prefix-list\n#   set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n#   set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n#   vyos@vyos:~$\n\n\n# # -------------------\n# # 5. Using gathered\n# # -------------------\n\n# # Task:\n# # -------------\n#     - name: Gather prefix-lists configurations\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#         state: gathered\n\n# # Task output:\n# # -------------\n#     \"gathered\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ]\n\n\n# # -------------------\n# # 6. Using rendered\n# # -------------------\n\n# # Task:\n# # -------------\n#     - name: Render commands externally for the described prefix-list configurations\n#       vyos.vyos.vyos_prefix_lists:\n#         config:\n#           - afi: \"ipv4\"\n#             prefix_lists:\n#               - name: \"AnsibleIPv4PrefixList\"\n#                 description: \"PL configured by ansible\"\n#                 entries:\n#                   - sequence: 2\n#                     description: \"Rule 2 given by ansible\"\n#                     action: \"permit\"\n#                     prefix: \"92.168.10.0/26\"\n#                     le: 32\n\n#                   - sequence: 3\n#                     description: \"Rule 3\"\n#                     action: \"deny\"\n#                     prefix: \"72.168.2.0/24\"\n#                     ge: 26\n\n#           - afi: \"ipv6\"\n#             prefix_lists:\n#               - name: \"AllowIPv6Prefix\"\n#                 description: \"Configured by ansible for allowing IPv6 networks\"\n#                 entries:\n#                   - sequence: 5\n#                     description: \"Permit rule\"\n#                     action: \"permit\"\n#                     prefix: \"2001:db8:8000::/35\"\n#                     le: 37\n\n#               - name: DenyIPv6Prefix\n#                 description: \"Configured by ansible for disallowing IPv6 networks\"\n#                 entries:\n#                   - sequence: 8\n#                     action: deny\n#                     prefix: \"2001:db8:2000::/35\"\n#                     le: 37\n#         state: rendered\n\n# # Task output:\n# # -------------\n#     \"rendered\": [\n#         \"set policy prefix-list AnsibleIPv4PrefixList\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\",\n#         \"set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix\",\n#         \"set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\",\n#         \"set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix\",\n#         \"set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\",\n#         \"set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\"\n#     ]\n\n\n# # -------------------\n# # 7. Using parsed\n# # -------------------\n\n# # sample_config.cfg:\n# # -------------\n# set policy prefix-list AnsibleIPv4PrefixList description 'PL configured by ansible'\n# set policy prefix-list AnsibleIPv4PrefixList rule 2 action 'permit'\n# set policy prefix-list AnsibleIPv4PrefixList rule 2 description 'Rule 2 given by ansible'\n# set policy prefix-list AnsibleIPv4PrefixList rule 2 le '32'\n# set policy prefix-list AnsibleIPv4PrefixList rule 2 prefix '92.168.10.0/26'\n# set policy prefix-list AnsibleIPv4PrefixList rule 3 action 'deny'\n# set policy prefix-list AnsibleIPv4PrefixList rule 3 description 'Rule 3'\n# set policy prefix-list AnsibleIPv4PrefixList rule 3 ge '26'\n# set policy prefix-list AnsibleIPv4PrefixList rule 3 prefix '72.168.2.0/24'\n# set policy prefix-list6 AllowIPv6Prefix description 'Configured by ansible for allowing IPv6 networks'\n# set policy prefix-list6 AllowIPv6Prefix rule 5 action 'permit'\n# set policy prefix-list6 AllowIPv6Prefix rule 5 description 'Permit rule'\n# set policy prefix-list6 AllowIPv6Prefix rule 5 le '37'\n# set policy prefix-list6 AllowIPv6Prefix rule 5 prefix '2001:db8:8000::/35'\n# set policy prefix-list6 DenyIPv6Prefix description 'Configured by ansible for disallowing IPv6 networks'\n# set policy prefix-list6 DenyIPv6Prefix rule 8 action 'deny'\n# set policy prefix-list6 DenyIPv6Prefix rule 8 le '37'\n# set policy prefix-list6 DenyIPv6Prefix rule 8 prefix '2001:db8:2000::/35'\n\n# # Task:\n# # -------------\n#     - name: Parse externally provided prefix-lists configuration\n#       vyos.vyos.vyos_prefix_lists:\n#         running_config: \"{{ lookup('file', './sample_config.cfg') }}\"\n#         state: parsed\n\n# # Task output:\n# # -------------\n#     \"parsed\": [\n#         {\n#             \"afi\": \"ipv4\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"PL configured by ansible\",\n#                     \"name\": \"AnsibleIPv4PrefixList\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Rule 2 given by ansible\",\n#                             \"sequence\": 2,\n#                             \"le\": 32,\n#                             \"prefix\": \"92.168.10.0/26\"\n#                         },\n#                         {\n#                             \"action\": \"deny\",\n#                             \"description\": \"Rule 3\",\n#                             \"ge\": 26,\n#                             \"sequence\": 3,\n#                             \"prefix\": \"72.168.2.0/24\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         },\n#         {\n#             \"afi\": \"ipv6\",\n#             \"prefix_lists\": [\n#                 {\n#                     \"description\": \"Configured by ansible for allowing IPv6 networks\",\n#                     \"name\": \"AllowIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"permit\",\n#                             \"description\": \"Permit rule\",\n#                             \"sequence\": 5,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:8000::/35\"\n#                         }\n#                     ]\n#                 },\n#                 {\n#                     \"description\": \"Configured by ansible for disallowing IPv6 networks\",\n#                     \"name\": \"DenyIPv6Prefix\",\n#                     \"entries\": [\n#                         {\n#                             \"action\": \"deny\",\n#                             \"sequence\": 8,\n#                             \"le\": 37,\n#                             \"prefix\": \"2001:db8:2000::/35\"\n#                         }\n#                     ]\n#                 }\n#             ]\n#         }\n#     ]\n\n"
  },
  "vyos.vyos.vyos_route_maps": {
    "doc": {
      "description": "This module manages route map configurations on devices running VYOS.",
      "has_action": false,
      "notes": "Tested against vyos 1.2.\nThis module works with connection C(network_cli).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A list of route-map configuration.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "entries": {
              "aliases": [
                "rules"
              ],
              "description": "Route Map rules.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "action": {
                  "aliases": [],
                  "description": "Action for matching routes",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "deny",
                    "permit"
                  ],
                  "suboptions": {}
                },
                "call": {
                  "aliases": [],
                  "description": "Route map name",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "continue_sequence": {
                  "aliases": [],
                  "description": "Continue on a different entry within the route-map.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "description": {
                  "aliases": [],
                  "description": "Description for the rule.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "match": {
                  "aliases": [],
                  "description": "Route parameters to match.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "as_path": {
                      "aliases": [],
                      "description": "Set as-path.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "community": {
                      "aliases": [],
                      "description": "BGP community attribute.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "community_list": {
                          "aliases": [],
                          "description": "BGP community-list to match",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "exact_match": {
                          "aliases": [],
                          "description": "BGP community-list to match",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "extcommunity": {
                      "aliases": [],
                      "description": "Extended community name.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "interface": {
                      "aliases": [],
                      "description": "First hop interface of a route to match.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "ip": {
                      "aliases": [],
                      "description": "IP prefix parameters to match.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "IP address of route to match.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "list_type": {
                              "aliases": [],
                              "description": "type of list",
                              "type": "str",
                              "required": false,
                              "choices": [
                                "access-list",
                                "prefix-list"
                              ],
                              "suboptions": {}
                            },
                            "value": {
                              "aliases": [],
                              "description": "value of access-list and prefix list",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "next_hop": {
                          "aliases": [],
                          "description": "next hop prefix list.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "list_type": {
                              "aliases": [],
                              "description": "type of list",
                              "type": "str",
                              "required": false,
                              "choices": [
                                "access-list",
                                "prefix-list"
                              ],
                              "suboptions": {}
                            },
                            "value": {
                              "aliases": [],
                              "description": "value of access-list and prefix list",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "route_source": {
                          "aliases": [],
                          "description": "IP route-source to match",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "list_type": {
                              "aliases": [],
                              "description": "type of list",
                              "type": "str",
                              "required": false,
                              "choices": [
                                "access-list",
                                "prefix-list"
                              ],
                              "suboptions": {}
                            },
                            "value": {
                              "aliases": [],
                              "description": "value of access-list and prefix list",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        }
                      }
                    },
                    "ipv6": {
                      "aliases": [],
                      "description": "IPv6 prefix parameters to match.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "address": {
                          "aliases": [],
                          "description": "IPv6 address of route to match.",
                          "type": "dict",
                          "required": false,
                          "suboptions": {
                            "list_type": {
                              "aliases": [],
                              "description": "type of list",
                              "type": "str",
                              "required": false,
                              "choices": [
                                "access-list",
                                "prefix-list"
                              ],
                              "suboptions": {}
                            },
                            "value": {
                              "aliases": [],
                              "description": "value of access-list and prefix list",
                              "type": "str",
                              "required": false,
                              "suboptions": {}
                            }
                          }
                        },
                        "next_hop": {
                          "aliases": [],
                          "description": "next-hop ipv6 address IPv6 <h:h:h:h:h:h:h:h>.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "large_community_large_community_list": {
                      "aliases": [],
                      "description": "BGP large-community-list to match.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "metric": {
                      "aliases": [],
                      "description": "Route metric <1-65535>.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "origin": {
                      "aliases": [],
                      "description": "bgp origin.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ebgp",
                        "ibgp",
                        "incomplete"
                      ],
                      "suboptions": {}
                    },
                    "peer": {
                      "aliases": [],
                      "description": "Peer IP address <x.x.x.x>.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "rpki": {
                      "aliases": [],
                      "description": "RPKI validation value.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "notfound",
                        "invalid",
                        "valid"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "on_match": {
                  "aliases": [],
                  "description": "Exit policy on matches.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "goto": {
                      "aliases": [],
                      "description": "Rule number to goto on match <1-65535>.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "next": {
                      "aliases": [],
                      "description": "Next sequence number to goto on match.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "sequence": {
                  "aliases": [],
                  "description": "Route map rule number <1-65535>.",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                },
                "set": {
                  "aliases": [],
                  "description": "Route parameters.",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "aggregator": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) aggregator attribute.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "as": {
                          "aliases": [],
                          "description": "AS number of an aggregation.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "ip": {
                          "aliases": [],
                          "description": "IP address.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "as_path_exclude": {
                      "aliases": [],
                      "description": "BGP AS path exclude string ex \"456 64500 45001\"",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "as_path_prepend": {
                      "aliases": [],
                      "description": "Prepend string for a Border Gateway Protocol (BGP) AS-path attribute.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "atomic_aggregate": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) atomic aggregate attribute.",
                      "type": "bool",
                      "required": false,
                      "suboptions": {}
                    },
                    "bgp_extcommunity_rt": {
                      "aliases": [],
                      "description": "ExtCommunity in format AS:value",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "comm_list": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) communities matching a community-list.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "comm_list": {
                          "aliases": [],
                          "description": "BGP communities with a community-list.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "delete": {
                          "aliases": [],
                          "description": "Delete BGP communities matching the community-list.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "community": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) community attribute.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "value": {
                          "aliases": [],
                          "description": "Community in 4 octet AS:value format or it can be from local-AS, no-advertise,no-expert,internet,additive,none.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "extcommunity_rt": {
                      "aliases": [],
                      "description": "Set route target value.ASN:nn_or_IP_address:nn VPN extended community.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "extcommunity_soo": {
                      "aliases": [],
                      "description": "Set Site of Origin value. ASN:nn_or_IP_address:nn VPN extended community",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "ip_next_hop": {
                      "aliases": [],
                      "description": "IP address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "ipv6_next_hop": {
                      "aliases": [],
                      "description": "Nexthop IPv6 address.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "ip_type": {
                          "aliases": [],
                          "description": "Global or Local",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "global",
                            "local"
                          ],
                          "suboptions": {}
                        },
                        "value": {
                          "aliases": [],
                          "description": "ipv6 address",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "large_community": {
                      "aliases": [],
                      "description": "Set BGP large community value.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "local_preference": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) local preference attribute.Example <0-4294967295>.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "metric": {
                      "aliases": [],
                      "description": "Destination routing protocol metric. Example <0-4294967295>.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "metric_type": {
                      "aliases": [],
                      "description": "Open Shortest Path First (OSPF) external metric-type.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "type-1",
                        "type-2"
                      ],
                      "suboptions": {}
                    },
                    "origin": {
                      "aliases": [],
                      "description": "Set bgp origin.",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "egp",
                        "igp",
                        "incomplete"
                      ],
                      "suboptions": {}
                    },
                    "originator_id": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) originator ID attribute. Originator IP address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "src": {
                      "aliases": [],
                      "description": "Source address for route. Example <x.x.x.x> IP address.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "tag": {
                      "aliases": [],
                      "description": "Tag value for routing protocol. Example <1-65535>",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "weight": {
                      "aliases": [],
                      "description": "Border Gateway Protocol (BGP) weight attribute. Example <0-4294967295>",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "route_map": {
              "aliases": [],
              "description": "Route map name.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VYOS device by executing the command B(show configuration commands | grep route-map).\nThe state I(parsed) reads the configuration from C(show configuration commands | grep route-map) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "deleted",
            "merged",
            "overridden",
            "replaced",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Route Map Resource Module.",
      "version_added": "2.3.0"
    },
    "examples": "\n# Using merged\n# Before state\n\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# vyos@vyos:~$\n    - name: Merge the provided configuration with the existing running configuration\n      register: result\n      vyos.vyos.vyos_route_maps: &id001\n        config:\n          - route_map: test1\n            entries:\n              - sequence: 1\n                description: \"test\"\n                action: permit\n                continue: 2\n                on_match:\n                  next: True\n          - route_map: test3\n            entries:\n              - sequence: 1\n                action: permit\n                match:\n                  rpki: invalid\n                  metric: 1\n                  peer: 192.0.2.32\n                set:\n                  local_preference: 4\n                  metric: 5\n                  metric_type: \"type-1\"\n                  origin: egp\n                  originator_id: 192.0.2.34\n                  tag: 5\n                  weight: 4\n        state: merged\n# After State\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-maps\"\n#   set policy route-map test1 rule 1 description test\n#   set policy route-map test1 rule 1 action permit\n#   set policy route-map test1 rule 1 continue 2\n#   set policy route-map test1 rule 1 on-match next\n#   set policy route-map test3 rule 1 action permit\n#   set policy route-map test3 rule 1 set local-preference 4\n#   set policy route-map test3 rule 1 set metric 5\n#   set policy route-map test3 rule 1 set metric-type type-1\n#   set policy route-map test3 rule 1 set origin egp\n#   set policy route-map test3 rule 1 set originator-id 192.0.2.34\n#   set policy route-map test3 rule 1 set tag 5\n#   set policy route-map test3 rule 1 set weight 4\n#   set policy route-map test3 rule 1 match metric 1\n#   set policy route-map test3 rule 1 match peer 192.0.2.32\n#   set policy route-map test3 rule 1 match rpki invalid\n\n# \"after\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"continue_sequence\": 2,\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 }\n#             ],\n#             \"route_map\": \"test1\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 1,\n#                         \"peer\": \"192.0.2.32\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"4\",\n#                         \"metric\": \"5\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"5\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"before\": [],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set policy route-map test1 rule 1 description test\",\n#         \"set policy route-map test1 rule 1 action permit\",\n#         \"set policy route-map test1 rule 1 continue 2\",\n#         \"set policy route-map test1 rule 1 on-match next\",\n#         \"set policy route-map test3 rule 1 action permit\",\n#         \"set policy route-map test3 rule 1 set local-preference 4\",\n#         \"set policy route-map test3 rule 1 set metric 5\",\n#         \"set policy route-map test3 rule 1 set metric-type type-1\",\n#         \"set policy route-map test3 rule 1 set origin egp\",\n#         \"set policy route-map test3 rule 1 set originator-id 192.0.2.34\",\n#         \"set policy route-map test3 rule 1 set tag 5\",\n#         \"set policy route-map test3 rule 1 set weight 4\",\n#         \"set policy route-map test3 rule 1 match metric 1\",\n#         \"set policy route-map test3 rule 1 match peer 192.0.2.32\",\n#         \"set policy route-map test3 rule 1 match rpki invalid\"\n#     ],\n\n# Using replaced:\n# --------------\n\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set route-map policy\"\n# set policy route-map test2 rule 1 action 'permit'\n# set policy route-map test2 rule 1 description 'test'\n# set policy route-map test2 rule 1 on-match next\n# set policy route-map test2 rule 2 action 'permit'\n# set policy route-map test2 rule 2 on-match goto '4'\n# set policy route-map test3 rule 1 action 'permit'\n# set policy route-map test3 rule 1 match metric '1'\n# set policy route-map test3 rule 1 match peer '192.0.2.32'\n# set policy route-map test3 rule 1 match rpki 'invalid'\n# set policy route-map test3 rule 1 set community 'internet'\n# set policy route-map test3 rule 1 set ip-next-hop '192.0.2.33'\n# set policy route-map test3 rule 1 set local-preference '4'\n# set policy route-map test3 rule 1 set metric '5'\n# set policy route-map test3 rule 1 set metric-type 'type-1'\n# set policy route-map test3 rule 1 set origin 'egp'\n# set policy route-map test3 rule 1 set originator-id '192.0.2.34'\n# set policy route-map test3 rule 1 set tag '5'\n# set policy route-map test3 rule 1 set weight '4'\n#\n#     - name: Replace  the provided configuration with the existing running configuration\n#       register: result\n#       vyos.vyos.vyos_route_maps: &id001\n#         config:\n#           - route_map: test3\n#             entries:\n#               - sequence: 1\n#                 action: permit\n#                 match:\n#                   rpki: invalid\n#                   metric: 3\n#                   peer: 192.0.2.35\n#                 set:\n#                   local_preference: 6\n#                   metric: 4\n#                   metric_type: \"type-1\"\n#                   origin: egp\n#                   originator_id: 192.0.2.34\n#                   tag: 4\n#                   weight: 4\n#         state: replaced\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# set policy route-map test3 rule 1 set local-preference 6\n# set policy route-map test3 rule 1 set metric 4\n# set policy route-map test3 rule 1 set tag 4\n# set policy route-map test3 rule 1 match metric 3\n# set policy route-map test3 rule 1 match peer 192.0.2.35\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n#\n# \"after\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 },\n#                 {\n#                     \"action\": \"permit\",\n#                     \"on_match\": {\n#                         \"goto\": 4\n#                     },\n#                     \"sequence\": 2\n#                 }\n#             ],\n#             \"route_map\": \"test2\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 3,\n#                         \"peer\": \"192.0.2.35\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"6\",\n#                         \"metric\": \"4\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"4\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 },\n#                 {\n#                     \"action\": \"permit\",\n#                     \"on_match\": {\n#                         \"goto\": 4\n#                     },\n#                     \"sequence\": 2\n#                 }\n#             ],\n#             \"route_map\": \"test2\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 1,\n#                         \"peer\": \"192.0.2.32\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"community\": {\n#                             \"value\": \"internet\"\n#                         },\n#                         \"ip_next_hop\": \"192.0.2.33\",\n#                         \"local_preference\": \"4\",\n#                         \"metric\": \"5\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"5\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy route-map test3 rule 1 set ip-next-hop 192.0.2.33\",\n#         \"set policy route-map test3 rule 1 set local-preference 6\",\n#         \"set policy route-map test3 rule 1 set metric 4\",\n#         \"set policy route-map test3 rule 1 set tag 4\",\n#         \"delete policy route-map test3 rule 1 set community internet\",\n#         \"set policy route-map test3 rule 1 match metric 3\",\n#         \"set policy route-map test3 rule 1 match peer 192.0.2.35\"\n#     ],\n#\n# Using deleted:\n# -------------\n\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# set policy route-map test3 rule 1 set local-preference 6\n# set policy route-map test3 rule 1 set metric 4\n# set policy route-map test3 rule 1 set tag 4\n# set policy route-map test3 rule 1 match metric 3\n# set policy route-map test3 rule 1 match peer 192.0.2.35\n# vyos@vyos:~$\n#\n# - name: Delete the provided configuration\n#   register: result\n#   vyos.vyos.vyos_route_maps:\n#     config:\n#     state: deleted\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n#\n# \"after\": [],\n#     \"before\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 3,\n#                         \"peer\": \"192.0.2.35\",\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"6\",\n#                         \"metric\": \"4\",\n#                         \"tag\": \"4\",\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy route-map test3\"\n#     ],\n#\n# using gathered:\n# --------------\n#\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-maps\"\n#   set policy route-map test1 rule 1 description test\n#   set policy route-map test1 rule 1 action permit\n#   set policy route-map test1 rule 1 continue 2\n#   set policy route-map test1 rule 1 on-match next\n#   set policy route-map test3 rule 1 action permit\n#   set policy route-map test3 rule 1 set local-preference 4\n#   set policy route-map test3 rule 1 set metric 5\n#   set policy route-map test3 rule 1 set metric-type type-1\n#   set policy route-map test3 rule 1 set origin egp\n#   set policy route-map test3 rule 1 set originator-id 192.0.2.34\n#   set policy route-map test3 rule 1 set tag 5\n#   set policy route-map test3 rule 1 set weight 4\n#   set policy route-map test3 rule 1 match metric 1\n#   set policy route-map test3 rule 1 match peer 192.0.2.32\n#   set policy route-map test3 rule 1 match rpki invalid\n#\n# - name: gather configs\n#     vyos.vyos.vyos_route_maps:\n#       state: gathered\n\n# \"gathered\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"continue_sequence\": 2,\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 }\n#             ],\n#             \"route_map\": \"test1\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 1,\n#                         \"peer\": \"192.0.2.32\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"4\",\n#                         \"metric\": \"5\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"5\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ]\n\n# Using parsed:\n# ------------\n\n# parsed.cfg\n# set policy route-map test1 rule 1 description test\n# set policy route-map test1 rule 1 action permit\n# set policy route-map test1 rule 1 continue 2\n# set policy route-map test1 rule 1 on-match next\n# set policy route-map test3 rule 1 action permit\n# set policy route-map test3 rule 1 set local-preference 4\n# set policy route-map test3 rule 1 set metric 5\n# set policy route-map test3 rule 1 set metric-type type-1\n# set policy route-map test3 rule 1 set origin egp\n# set policy route-map test3 rule 1 set originator-id 192.0.2.34\n# set policy route-map test3 rule 1 set tag 5\n# set policy route-map test3 rule 1 set weight 4\n# set policy route-map test3 rule 1 match metric 1\n# set policy route-map test3 rule 1 match peer 192.0.2.32\n# set policy route-map test3 rule 1 match rpki invalid\n#\n# - name: parse configs\n#   vyos.vyos.vyos_route_maps:\n#     running_config: \"{{ lookup('file', './parsed.cfg') }}\"\n#     state: parsed\n#   tags:\n#     - parsed\n#\n# Module execution:\n# \"parsed\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"continue_sequence\": 2,\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 }\n#             ],\n#             \"route_map\": \"test1\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 1,\n#                         \"peer\": \"192.0.2.32\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"4\",\n#                         \"metric\": \"5\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"5\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ]\n#\n#\n# Using rendered:\n# --------------\n# - name: Structure provided configuration into device specific commands\n#       register: result\n#       vyos.vyos.vyos_route_maps: &id001\n#         config:\n#           - route_map: test1\n#             entries:\n#               - sequence: 1\n#                 description: \"test\"\n#                 action: permit\n#                 continue_sequence: 2\n#                 on_match:\n#                   next: True\n#           - route_map: test3\n#             entries:\n#               - sequence: 1\n#                 action: permit\n#                 match:\n#                   rpki: invalid\n#                   metric: 1\n#                   peer: 192.0.2.32\n#                 set:\n#                   local_preference: 4\n#                   metric: 5\n#                   metric_type: \"type-1\"\n#                   origin: egp\n#                   originator_id: 192.0.2.34\n#                   tag: 5\n#                   weight: 4\n#         state: rendered\n# Module Execution:\n# \"rendered\": [\n#         \"set policy route-map test1 rule 1 description test\",\n#         \"set policy route-map test1 rule 1 action permit\",\n#         \"set policy route-map test1 rule 1 continue 2\",\n#         \"set policy route-map test1 rule 1 on-match next\",\n#         \"set policy route-map test3 rule 1 action permit\",\n#         \"set policy route-map test3 rule 1 set local-preference 4\",\n#         \"set policy route-map test3 rule 1 set metric 5\",\n#         \"set policy route-map test3 rule 1 set metric-type type-1\",\n#         \"set policy route-map test3 rule 1 set origin egp\",\n#         \"set policy route-map test3 rule 1 set originator-id 192.0.2.34\",\n#         \"set policy route-map test3 rule 1 set tag 5\",\n#         \"set policy route-map test3 rule 1 set weight 4\",\n#         \"set policy route-map test3 rule 1 match metric 1\",\n#         \"set policy route-map test3 rule 1 match peer 192.0.2.32\",\n#         \"set policy route-map test3 rule 1 match rpki invalid\"\n#     ]\n#\n#\n# Using overridden:\n# --------------\n# Before state:\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# set policy route-map test2 rule 1 action 'permit'\n# set policy route-map test2 rule 1 description 'test'\n# set policy route-map test2 rule 1 on-match next\n# set policy route-map test2 rule 2 action 'permit'\n# set policy route-map test2 rule 2 on-match goto '4'\n# set policy route-map test3 rule 1 action 'permit'\n# set policy route-map test3 rule 1 match metric '1'\n# set policy route-map test3 rule 1 match peer '192.0.2.32'\n# set policy route-map test3 rule 1 match rpki 'invalid'\n# set policy route-map test3 rule 1 set community 'internet'\n# set policy route-map test3 rule 1 set ip-next-hop '192.0.2.33'\n# set policy route-map test3 rule 1 set local-preference '4'\n# set policy route-map test3 rule 1 set metric '5'\n# set policy route-map test3 rule 1 set metric-type 'type-1'\n# set policy route-map test3 rule 1 set origin 'egp'\n# set policy route-map test3 rule 1 set originator-id '192.0.2.34'\n# set policy route-map test3 rule 1 set tag '5'\n# set policy route-map test3 rule 1 set weight '4'\n#\n#     - name: Override the existing configuration with the provided running configuration\n#       register: result\n#       vyos.vyos.vyos_route_maps: &id001\n#         config:\n#           - route_map: test3\n#             entries:\n#               - sequence: 1\n#                 action: permit\n#                 match:\n#                   rpki: invalid\n#                   metric: 3\n#                   peer: 192.0.2.35\n#                 set:\n#                   local_preference: 6\n#                   metric: 4\n#                   metric_type: \"type-1\"\n#                   origin: egp\n#                   originator_id: 192.0.2.34\n#                   tag: 4\n#                   weight: 4\n#         state: overridden\n# After state:\n\n# vyos@vyos:~$ show configuration commands |  match \"set policy route-map\"\n# set policy route-map test3 rule 1 set metric-type 'type-1'\n# set policy route-map test3 rule 1 set origin 'egp'\n# set policy route-map test3 rule 1 set originator-id '192.0.2.34'\n# set policy route-map test3 rule 1 set weight '4'\n# set policy route-map test3 rule 1 set local-preference 6\n# set policy route-map test3 rule 1 set metric 4\n# set policy route-map test3 rule 1 set tag 4\n# set policy route-map test3 rule 1 match metric 3\n# set policy route-map test3 rule 1 match peer 192.0.2.35\n# set policy route-map test3 rule 1 match rpki 'invalid'\n\n# Module Execution:\n# \"after\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 3,\n#                         \"peer\": \"192.0.2.35\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"local_preference\": \"6\",\n#                         \"metric\": \"4\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"4\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"before\": [\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"description\": \"test\",\n#                     \"on_match\": {\n#                         \"next\": true\n#                     },\n#                     \"sequence\": 1\n#                 },\n#                 {\n#                     \"action\": \"permit\",\n#                     \"on_match\": {\n#                         \"goto\": 4\n#                     },\n#                     \"sequence\": 2\n#                 }\n#             ],\n#             \"route_map\": \"test2\"\n#         },\n#         {\n#             \"entries\": [\n#                 {\n#                     \"action\": \"permit\",\n#                     \"match\": {\n#                         \"metric\": 1,\n#                         \"peer\": \"192.0.2.32\",\n#                         \"rpki\": \"invalid\"\n#                     },\n#                     \"sequence\": 1,\n#                     \"set\": {\n#                         \"community\": {\n#                             \"value\": \"internet\"\n#                         },\n#                         \"ip_next_hop\": \"192.0.2.33\",\n#                         \"local_preference\": \"4\",\n#                         \"metric\": \"5\",\n#                         \"metric_type\": \"type-1\",\n#                         \"origin\": \"egp\",\n#                         \"originator_id\": \"192.0.2.34\",\n#                         \"tag\": \"5\",\n#                         \"weight\": \"4\"\n#                     }\n#                 }\n#             ],\n#             \"route_map\": \"test3\"\n#         }\n#     ],\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete policy route-map test2\",\n#         \"delete policy route-map test3 rule 1 set ip-next-hop 192.0.2.33\",\n#         \"set policy route-map test3 rule 1 set local-preference 6\",\n#         \"set policy route-map test3 rule 1 set metric 4\",\n#         \"set policy route-map test3 rule 1 set tag 4\",\n#         \"delete policy route-map test3 rule 1 set community internet\",\n#         \"set policy route-map test3 rule 1 match metric 3\",\n#         \"set policy route-map test3 rule 1 match peer 192.0.2.35\"\n#     ],\n#\n\n"
  },
  "vyos.vyos.vyos_snmp_server": {
    "doc": {
      "description": "This module manages the snmp server attributes of Vyos network devices",
      "has_action": true,
      "notes": "Tested against vyos 1.1.8\nThis module works with connection C(network_cli).\nThe Configuration defaults of the Vyos network devices are supposed to hinder idempotent behavior of plays",
      "options": {
        "config": {
          "aliases": [],
          "description": "SNMP server configuration.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "communities": {
              "aliases": [],
              "description": "Community name configuration.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "authorization_type": {
                  "aliases": [],
                  "description": "Authorization type (rw or ro)",
                  "type": "str",
                  "required": false,
                  "choices": [
                    "ro",
                    "rw"
                  ],
                  "suboptions": {}
                },
                "clients": {
                  "aliases": [],
                  "description": "IP address of SNMP client allowed to contact system",
                  "type": "list",
                  "required": false,
                  "elements": "str",
                  "suboptions": {}
                },
                "name": {
                  "aliases": [],
                  "description": "Community name",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "networks": {
                  "aliases": [],
                  "description": "Subnet of SNMP client(s) allowed to contact system",
                  "type": "list",
                  "required": false,
                  "elements": "str",
                  "suboptions": {}
                }
              }
            },
            "contact": {
              "aliases": [],
              "description": "Person to contact about the system.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "description": {
              "aliases": [],
              "description": "Description information",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "listen_addresses": {
              "aliases": [],
              "description": "IP address to listen for incoming SNMP requests",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "IP address to listen for incoming SNMP requests.",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "port": {
                  "aliases": [],
                  "description": "Port for SNMP service",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            },
            "location": {
              "aliases": [],
              "description": "Location information",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "smux_peer": {
              "aliases": [],
              "description": "Register a subtree for SMUX-based processing.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "snmp_v3": {
              "aliases": [],
              "description": "Simple Network Management Protocol (SNMP) v3",
              "type": "dict",
              "required": false,
              "suboptions": {
                "engine_id": {
                  "aliases": [],
                  "description": "Specifies the EngineID as a hex value",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "groups": {
                  "aliases": [],
                  "description": "Specifies the group with name groupname",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "group": {
                      "aliases": [],
                      "description": "Specifies the group with name groupname",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "mode": {
                      "aliases": [],
                      "description": "Defines the read/write access",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ro",
                        "rw"
                      ],
                      "suboptions": {}
                    },
                    "seclevel": {
                      "aliases": [],
                      "description": "Defines security level",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "auth",
                        "priv"
                      ],
                      "suboptions": {}
                    },
                    "view": {
                      "aliases": [],
                      "description": "Defines the name of view",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "trap_targets": {
                  "aliases": [],
                  "description": "Defines SNMP target for inform or traps for IP",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "address": {
                      "aliases": [],
                      "description": "IP/IPv6 address of trap target",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "authentication": {
                      "aliases": [],
                      "description": "Defines the authentication",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "encrypted_key": {
                          "aliases": [],
                          "description": "Defines the encrypted password for authentication",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "plaintext_key": {
                          "aliases": [],
                          "description": "Defines the clear text password for authentication",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "Defines the protocol using for authentication",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "md5",
                            "sha"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "engine_id": {
                      "aliases": [],
                      "description": "Defines the engineID.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "port": {
                      "aliases": [],
                      "description": "Specifies the TCP/UDP port of a destination for SNMP traps/informs.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    },
                    "privacy": {
                      "aliases": [],
                      "description": "Defines the privacy",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "encrypted_key": {
                          "aliases": [],
                          "description": "Defines the encrypted password for privacy",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "plaintext_key": {
                          "aliases": [],
                          "description": "Defines the clear text password for privacy",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "Defines the protocol using for privacy",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "des",
                            "aes"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "protocol": {
                      "aliases": [],
                      "description": "Defines protocol for notification between TCP and UDP",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "tcp",
                        "udp"
                      ],
                      "suboptions": {}
                    },
                    "type": {
                      "aliases": [],
                      "description": "Specifies the type of notification between inform and trap",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "inform",
                        "trap"
                      ],
                      "suboptions": {}
                    }
                  }
                },
                "tsm": {
                  "aliases": [],
                  "description": "Specifies that the snmpd uses encryption",
                  "type": "dict",
                  "required": false,
                  "suboptions": {
                    "local_key": {
                      "aliases": [],
                      "description": "Defines the server certificate fingerprint or key-file name.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "port": {
                      "aliases": [],
                      "description": "Defines the port for tsm.",
                      "type": "int",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "users": {
                  "aliases": [],
                  "description": "Defines username for authentication",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "authentication": {
                      "aliases": [],
                      "description": "Defines the authentication",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "encrypted_key": {
                          "aliases": [],
                          "description": "Defines the encrypted password for authentication",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "plaintext_key": {
                          "aliases": [],
                          "description": "Defines the clear text password for authentication",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "Defines the protocol using for authentication",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "md5",
                            "sha"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "engine_id": {
                      "aliases": [],
                      "description": "Defines the engineID.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "group": {
                      "aliases": [],
                      "description": "Specifies group for user name",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "mode": {
                      "aliases": [],
                      "description": "Specifies the mode for access rights of user, read only or write",
                      "type": "str",
                      "required": false,
                      "choices": [
                        "ro",
                        "rw"
                      ],
                      "suboptions": {}
                    },
                    "privacy": {
                      "aliases": [],
                      "description": "Defines the privacy",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "encrypted_key": {
                          "aliases": [],
                          "description": "Defines the encrypted password for privacy",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "plaintext_key": {
                          "aliases": [],
                          "description": "Defines the clear text password for privacy",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "Defines the protocol using for privacy",
                          "type": "str",
                          "required": false,
                          "choices": [
                            "des",
                            "aes"
                          ],
                          "suboptions": {}
                        }
                      }
                    },
                    "tsm_key": {
                      "aliases": [],
                      "description": "Specifies finger print or file name of TSM certificate.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "user": {
                      "aliases": [],
                      "description": "Specifies the user with name username",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                },
                "views": {
                  "aliases": [],
                  "description": "Specifies the view with name viewname",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "exclude": {
                      "aliases": [],
                      "description": "Exclude is optional argument.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "mask": {
                      "aliases": [],
                      "description": "Defines a bit-mask that is indicating which subidentifiers of the associated subtree OID should be regarded as significant.",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "oid": {
                      "aliases": [],
                      "description": "Specify oid",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    },
                    "view": {
                      "aliases": [],
                      "description": "view name",
                      "type": "str",
                      "required": false,
                      "suboptions": {}
                    }
                  }
                }
              }
            },
            "trap_source": {
              "aliases": [],
              "description": "SNMP trap source address",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "trap_target": {
              "aliases": [],
              "description": "Address of trap target",
              "type": "dict",
              "required": false,
              "suboptions": {
                "address": {
                  "aliases": [],
                  "description": "Address of trap target",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "community": {
                  "aliases": [],
                  "description": "Community used when sending trap information",
                  "type": "str",
                  "required": false,
                  "suboptions": {}
                },
                "port": {
                  "aliases": [],
                  "description": "Destination port used for trap notification",
                  "type": "int",
                  "required": false,
                  "suboptions": {}
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "The state the configuration should be left in.\nThe states I(replaced) and I(overridden) have identical behaviour for this module.\nPlease refer to examples for more details.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state the configuration should be left in",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "parsed",
            "rendered"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Manages snmp_server resource module",
      "version_added": "2.7.0"
    },
    "examples": "\n\n# Using merged\n# Before State:\n\n# vyos@vyos:~$ show configuration commands | grep snmp\n# vyos@vyos:~$\n\n  - name: Merge provided configuration with device configuration\n    vyos.vyos.vyos_snmp_server:\n      config:\n        communities:\n          - name: \"switches\"\n            authorization_type: \"rw\"\n          - name: \"bridges\"\n            clients: [\"1.1.1.1\", \"12.1.1.10\"]\n        contact: \"admin2@ex.com\"\n        listen_addresses:\n          - address: \"20.1.1.1\"\n          - address: \"100.1.2.1\"\n            port: 33\n        snmp_v3:\n          users:\n            - user: admin_user\n              authentication:\n                plaintext_key: \"abc1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"abc1234567\"\n                type: \"aes\"\n\n      state: merged\n\n# After State:\n\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges client '1.1.1.1'\n# set service snmp community bridges client '12.1.1.10'\n# set service snmp community switches authorization 'rw'\n# set service snmp contact 'admin2@ex.com'\n# set service snmp listen-address 20.1.1.1\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# vyos@vyos:~$\n#\n# Module Execution:\n#\n# \"after\": {\n#         \"communities\": [\n#             {\n#                 \"clients\": [\n#                     \"1.1.1.1\",\n#                     \"12.1.1.10\"\n#                 ],\n#                 \"name\": \"bridges\"\n#             },\n#             {\n#                 \"authorization_type\": \"rw\",\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"contact\": \"admin2@ex.com\",\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             },\n#             {\n#                 \"address\": \"20.1.1.1\"\n#             }\n#         ],\n#         \"snmp_v3\": {\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"before\": {},\n#     \"changed\": true,\n#     \"commands\": [\n#         \"set service snmp community switches authorization rw\",\n#         \"set service snmp community bridges client 1.1.1.1\",\n#         \"set service snmp community bridges client 12.1.1.10\",\n#         \"set service snmp listen-address 20.1.1.1\",\n#         \"set service snmp listen-address 100.1.2.1 port 33\",\n#         \"set service snmp v3 user admin_user auth type sha\",\n#         \"set service snmp v3 user admin_user auth plaintext-key ********\",\n#         \"set service snmp v3 user admin_user privacy type aes\",\n#         \"set service snmp v3 user admin_user privacy plaintext-key ********\",\n#         \"set service snmp contact admin2@ex.com\"\n#     ],\n#\n\n# using Replaced:\n\n# Before State\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges client '1.1.1.1'\n# set service snmp community bridges client '12.1.1.10'\n# set service snmp community switches authorization 'rw'\n# set service snmp contact 'admin2@ex.com'\n# set service snmp listen-address 20.1.1.1\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# vyos@vyos:~$\n\n  - name: Replace\n    vyos.vyos.vyos_snmp_server:\n      config:\n        communities:\n          - name: \"bridges\"\n            networks: [\"1.1.1.0/24\", \"12.1.1.0/24\"]\n        location: \"RDU, NC\"\n        listen_addresses:\n          - address: \"100.1.2.1\"\n            port: 33\n        snmp_v3:\n          groups:\n            - group: \"default\"\n              view: \"default\"\n          users:\n            - user: admin_user\n              authentication:\n                plaintext_key: \"abc1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"abc1234567\"\n                type: \"aes\"\n              group: \"default\"\n            - user: guest_user2\n              authentication:\n                plaintext_key: \"opq1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"opq1234567\"\n                type: \"aes\"\n          views:\n            - view: \"default\"\n              oid: 1\n\n      state: replaced\n\n# After State:\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges network '1.1.1.0/24'\n# set service snmp community bridges network '12.1.1.0/24'\n# set service snmp community switches\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp location 'RDU, NC'\n# set service snmp v3 group default view 'default'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user group 'default'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# set service snmp v3 user guest_user2 auth plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 auth type 'sha'\n# set service snmp v3 user guest_user2 privacy plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 privacy type 'aes'\n# set service snmp v3 view default oid 1\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n# \"after\": {\n#         \"communities\": [\n#             {\n#                 \"name\": \"bridges\",\n#                 \"networks\": [\n#                     \"1.1.1.0/24\",\n#                     \"12.1.1.0/24\"\n#                 ]\n#             },\n#             {\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             }\n#         ],\n#         \"location\": \"RDU, NC\",\n#         \"snmp_v3\": {\n#             \"groups\": [\n#                 {\n#                     \"group\": \"default\",\n#                     \"view\": \"default\"\n#                 }\n#             ],\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"group\": \"default\",\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 },\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"guest_user2\"\n#                 }\n#             ],\n#             \"views\": [\n#                 {\n#                     \"oid\": \"1\",\n#                     \"view\": \"default\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"before\": {\n#         \"communities\": [\n#             {\n#                 \"clients\": [\n#                     \"1.1.1.1\",\n#                     \"12.1.1.10\"\n#                 ],\n#                 \"name\": \"bridges\"\n#             },\n#             {\n#                 \"authorization_type\": \"rw\",\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"contact\": \"admin2@ex.com\",\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             },\n#             {\n#                 \"address\": \"20.1.1.1\"\n#             }\n#         ],\n#         \"snmp_v3\": {\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete service snmp contact admin2@ex.com\",\n#         \"delete service snmp listen-address 20.1.1.1\",\n#         \"delete service snmp community switches authorization rw\",\n#         \"delete service snmp community bridges client 12.1.1.10\",\n#         \"delete service snmp community bridges client 1.1.1.1\",\n#         \"set service snmp community bridges network 1.1.1.0/24\",\n#         \"set service snmp community bridges network 12.1.1.0/24\",\n#         \"set service snmp v3 group default view default\",\n#         \"set service snmp v3 user admin_user group default\",\n#         \"set service snmp v3 user guest_user2 auth type sha\",\n#         \"set service snmp v3 user guest_user2 auth plaintext-key ********\",\n#         \"set service snmp v3 user guest_user2 privacy type aes\",\n#         \"set service snmp v3 user guest_user2 privacy plaintext-key ********\",\n#         \"set service snmp v3 view default oid 1\",\n#         \"set service snmp location 'RDU, NC'\"\n#     ],\n\n# Using overridden:\n# Before State\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges client '1.1.1.1'\n# set service snmp community bridges client '12.1.1.10'\n# set service snmp community switches authorization 'rw'\n# set service snmp contact 'admin2@ex.com'\n# set service snmp listen-address 20.1.1.1\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# vyos@vyos:~$\n\n  - name: Override config\n    vyos.vyos.vyos_snmp_server:\n      config:\n        communities:\n          - name: \"bridges\"\n            networks: [\"1.1.1.0/24\", \"12.1.1.0/24\"]\n        location: \"RDU, NC\"\n        listen_addresses:\n          - address: \"100.1.2.1\"\n            port: 33\n        snmp_v3:\n          groups:\n            - group: \"default\"\n              view: \"default\"\n          users:\n            - user: admin_user\n              authentication:\n                plaintext_key: \"abc1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"abc1234567\"\n                type: \"aes\"\n              group: \"default\"\n            - user: guest_user2\n              authentication:\n                plaintext_key: \"opq1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"opq1234567\"\n                type: \"aes\"\n          views:\n            - view: \"default\"\n              oid: 1\n\n      state: overridden\n\n# After State:\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges network '1.1.1.0/24'\n# set service snmp community bridges network '12.1.1.0/24'\n# set service snmp community switches\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp location 'RDU, NC'\n# set service snmp v3 group default view 'default'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user group 'default'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# set service snmp v3 user guest_user2 auth plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 auth type 'sha'\n# set service snmp v3 user guest_user2 privacy plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 privacy type 'aes'\n# set service snmp v3 view default oid 1\n# vyos@vyos:~$\n#\n#\n# Module Execution:\n# \"after\": {\n#         \"communities\": [\n#             {\n#                 \"name\": \"bridges\",\n#                 \"networks\": [\n#                     \"1.1.1.0/24\",\n#                     \"12.1.1.0/24\"\n#                 ]\n#             },\n#             {\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             }\n#         ],\n#         \"location\": \"RDU, NC\",\n#         \"snmp_v3\": {\n#             \"groups\": [\n#                 {\n#                     \"group\": \"default\",\n#                     \"view\": \"default\"\n#                 }\n#             ],\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"group\": \"default\",\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 },\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"guest_user2\"\n#                 }\n#             ],\n#             \"views\": [\n#                 {\n#                     \"oid\": \"1\",\n#                     \"view\": \"default\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"before\": {\n#         \"communities\": [\n#             {\n#                 \"clients\": [\n#                     \"1.1.1.1\",\n#                     \"12.1.1.10\"\n#                 ],\n#                 \"name\": \"bridges\"\n#             },\n#             {\n#                 \"authorization_type\": \"rw\",\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"contact\": \"admin2@ex.com\",\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             },\n#             {\n#                 \"address\": \"20.1.1.1\"\n#             }\n#         ],\n#         \"snmp_v3\": {\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete service snmp contact admin2@ex.com\",\n#         \"delete service snmp listen-address 20.1.1.1\",\n#         \"delete service snmp community switches authorization rw\",\n#         \"delete service snmp community bridges client 12.1.1.10\",\n#         \"delete service snmp community bridges client 1.1.1.1\",\n#         \"set service snmp community bridges network 1.1.1.0/24\",\n#         \"set service snmp community bridges network 12.1.1.0/24\",\n#         \"set service snmp v3 group default view default\",\n#         \"set service snmp v3 user admin_user group default\",\n#         \"set service snmp v3 user guest_user2 auth type sha\",\n#         \"set service snmp v3 user guest_user2 auth plaintext-key ********\",\n#         \"set service snmp v3 user guest_user2 privacy type aes\",\n#         \"set service snmp v3 user guest_user2 privacy plaintext-key ********\",\n#         \"set service snmp v3 view default oid 1\",\n#         \"set service snmp location 'RDU, NC'\"\n#     ],\n\n# Using deleted:\n\n# Before State:\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges network '1.1.1.0/24'\n# set service snmp community bridges network '12.1.1.0/24'\n# set service snmp community switches\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp location 'RDU, NC'\n# set service snmp v3 group default view 'default'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user group 'default'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# set service snmp v3 user guest_user2 auth plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 auth type 'sha'\n# set service snmp v3 user guest_user2 privacy plaintext-key 'opq1234567'\n# set service snmp v3 user guest_user2 privacy type 'aes'\n# set service snmp v3 view default oid 1\n# vyos@vyos:~$\n\n  - name: Delete Config\n    vyos.vyos.vyos_snmp_server:\n      state: deleted\n\n# After State:\n# vyos@vyos:~$ show configuration commands | grep snmp\n# vyos@vyos:~$\n#\n# Module Execution:\n# \"after\": {},\n#     \"before\": {\n#         \"communities\": [\n#             {\n#                 \"name\": \"bridges\",\n#                 \"networks\": [\n#                     \"1.1.1.0/24\",\n#                     \"12.1.1.0/24\"\n#                 ]\n#             },\n#             {\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             }\n#         ],\n#         \"location\": \"RDU, NC\",\n#         \"snmp_v3\": {\n#             \"groups\": [\n#                 {\n#                     \"group\": \"default\",\n#                     \"view\": \"default\"\n#                 }\n#             ],\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"group\": \"default\",\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 },\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"guest_user2\"\n#                 }\n#             ],\n#             \"views\": [\n#                 {\n#                     \"oid\": \"1\",\n#                     \"view\": \"default\"\n#                 }\n#             ]\n#         }\n#     },\n#     \"changed\": true,\n#     \"commands\": [\n#         \"delete service snmp\"\n#     ],\n\n# Using rendered:\n  - name: Render provided configuration\n    vyos.vyos.vyos_snmp_server:\n      config:\n        communities:\n          - name: \"switches\"\n            authorization_type: \"rw\"\n          - name: \"bridges\"\n            clients: [\"1.1.1.1\", \"12.1.1.10\"]\n        contact: \"admin2@ex.com\"\n        listen_addresses:\n          - address: \"20.1.1.1\"\n          - address: \"100.1.2.1\"\n            port: 33\n        snmp_v3:\n          users:\n            - user: admin_user\n              authentication:\n                plaintext_key: \"abc1234567\"\n                type: \"sha\"\n              privacy:\n                plaintext_key: \"abc1234567\"\n                type: \"aes\"\n\n      state: rendered\n\n# Module Execution:\n#  \"rendered\": [\n#         \"set service snmp community switches authorization rw\",\n#         \"set service snmp community bridges client 1.1.1.1\",\n#         \"set service snmp community bridges client 12.1.1.10\",\n#         \"set service snmp listen-address 20.1.1.1\",\n#         \"set service snmp listen-address 100.1.2.1 port 33\",\n#         \"set service snmp v3 user admin_user auth type sha\",\n#         \"set service snmp v3 user admin_user auth plaintext-key ********\",\n#         \"set service snmp v3 user admin_user privacy type aes\",\n#         \"set service snmp v3 user admin_user privacy plaintext-key ********\",\n#         \"set service snmp contact admin2@ex.com\"\n#     ]\n#\n\n# Using Gathered:\n# Before State:\n\n# vyos@vyos:~$ show configuration commands | grep snmp\n# set service snmp community bridges client '1.1.1.1'\n# set service snmp community bridges client '12.1.1.10'\n# set service snmp community switches authorization 'rw'\n# set service snmp contact 'admin2@ex.com'\n# set service snmp listen-address 20.1.1.1\n# set service snmp listen-address 100.1.2.1 port '33'\n# set service snmp v3 user admin_user auth plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user auth type 'sha'\n# set service snmp v3 user admin_user privacy plaintext-key 'abc1234567'\n# set service snmp v3 user admin_user privacy type 'aes'\n# vyos@vyos:~$\n\n  - name: gather configs\n    vyos.vyos.vyos_snmp_server:\n      state: gathered\n\n# Module Execution:\n#   \"gathered\": {\n#         \"communities\": [\n#             {\n#                 \"clients\": [\n#                     \"1.1.1.1\",\n#                     \"12.1.1.10\"\n#                 ],\n#                 \"name\": \"bridges\"\n#             },\n#             {\n#                 \"authorization_type\": \"rw\",\n#                 \"name\": \"switches\"\n#             }\n#         ],\n#         \"contact\": \"admin2@ex.com\",\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"100.1.2.1\",\n#                 \"port\": 33\n#             },\n#             {\n#                 \"address\": \"20.1.1.1\"\n#             }\n#         ],\n#         \"snmp_v3\": {\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"admin_user\"\n#                 }\n#             ]\n#         }\n#     },\n\n# Using parsed:\n\n# _parsed_snmp.cfg\n# set service snmp community routers authorization 'ro'\n# set service snmp community routers client '203.0.113.10'\n# set service snmp community routers client '203.0.113.20'\n# set service snmp community routers network '192.0.2.0/24'\n# set service snmp community routers network '2001::/64'\n# set service snmp contact 'admin@example.com'\n# set service snmp listen-address 172.16.254.36 port '161'\n# set service snmp listen-address 2001::1\n# set service snmp location 'UK, London'\n# set service snmp trap-target 203.0.113.10\n# set service snmp v3 engineid '000000000000000000000002'\n# set service snmp v3 group default mode 'ro'\n# set service snmp v3 group default view 'default'\n# set service snmp v3 user vyos auth plaintext-key 'vyos12345678'\n# set service snmp v3 user vyos auth type 'sha'\n# set service snmp v3 user vyos group 'default'\n# set service snmp v3 user vyos privacy plaintext-key 'vyos12345678'\n# set service snmp v3 user vyos privacy type 'aes'\n# set service snmp v3 view default oid 1\n\n  - name: parse configs\n    vyos.vyos.vyos_snmp_server:\n      running_config: \"{{ lookup('file', './_parsed_snmp.cfg') }}\"\n      state: parsed\n\n# Module Execution:\n# \"parsed\": {\n#         \"communities\": [\n#             {\n#                 \"authorization_type\": \"ro\",\n#                 \"clients\": [\n#                     \"203.0.113.10\",\n#                     \"203.0.113.20\"\n#                 ],\n#                 \"name\": \"routers\",\n#                 \"networks\": [\n#                     \"192.0.2.0/24\",\n#                     \"2001::/64\"\n#                 ]\n#             }\n#         ],\n#         \"contact\": \"admin@example.com\",\n#         \"listen_addresses\": [\n#             {\n#                 \"address\": \"172.16.254.36\",\n#                 \"port\": 161\n#             },\n#             {\n#                 \"address\": \"2001::1\"\n#             }\n#         ],\n#         \"location\": \"UK, London\",\n#         \"snmp_v3\": {\n#             \"engine_id\": \"000000000000000000000002\",\n#             \"groups\": [\n#                 {\n#                     \"group\": \"default\",\n#                     \"mode\": \"ro\",\n#                     \"view\": \"default\"\n#                 }\n#             ],\n#             \"users\": [\n#                 {\n#                     \"authentication\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"sha\"\n#                     },\n#                     \"group\": \"default\",\n#                     \"privacy\": {\n#                         \"plaintext_key\": \"VALUE_SPECIFIED_IN_NO_LOG_PARAMETER\",\n#                         \"type\": \"aes\"\n#                     },\n#                     \"user\": \"vyos\"\n#                 }\n#             ],\n#             \"views\": [\n#                 {\n#                     \"oid\": \"1\",\n#                     \"view\": \"default\"\n#                 }\n#             ]\n#         },\n#         \"trap_target\": {\n#             \"address\": \"203.0.113.10\"\n#         }\n#     }\n#\n"
  },
  "vyos.vyos.vyos_static_route": {
    "doc": {
      "description": "This module provides declarative management of static IP routes on Vyatta VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "admin_distance": {
          "aliases": [],
          "description": "Admin distance of the static route.",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "aggregate": {
          "aliases": [],
          "description": "List of static route definitions",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "admin_distance": {
              "aliases": [],
              "description": "Admin distance of the static route.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "mask": {
              "aliases": [],
              "description": "Network prefix mask of the static route.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "next_hop": {
              "aliases": [],
              "description": "Next hop IP of the static route.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "prefix": {
              "aliases": [],
              "description": "Network prefix of the static route. C(mask) param should be ignored if C(prefix) is provided with C(mask) value C(prefix/mask).",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the static route configuration.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent"
              ],
              "suboptions": {}
            }
          }
        },
        "mask": {
          "aliases": [],
          "description": "Network prefix mask of the static route.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "next_hop": {
          "aliases": [],
          "description": "Next hop IP of the static route.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "prefix": {
          "aliases": [],
          "description": "Network prefix of the static route. C(mask) param should be ignored if C(prefix) is provided with C(mask) value C(prefix/mask).",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "State of the static route configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        }
      },
      "short_description": "(deprecated, removed after 2022-06-01) Manage static IP routes on Vyatta VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure static route\n  vyos.vyos.vyos_static_route:\n    prefix: 192.168.2.0\n    mask: 24\n    next_hop: 10.0.0.1\n\n- name: configure static route prefix/mask\n  vyos.vyos.vyos_static_route:\n    prefix: 192.168.2.0/16\n    next_hop: 10.0.0.1\n\n- name: remove configuration\n  vyos.vyos.vyos_static_route:\n    prefix: 192.168.2.0\n    mask: 16\n    next_hop: 10.0.0.1\n    state: absent\n\n- name: configure aggregates of static routes\n  vyos.vyos.vyos_static_route:\n    aggregate:\n    - {prefix: 192.168.2.0, mask: 24, next_hop: 10.0.0.1}\n    - {prefix: 192.168.3.0, mask: 16, next_hop: 10.0.2.1}\n    - {prefix: 192.168.3.0/16, next_hop: 10.0.2.1}\n\n- name: Remove static route collections\n  vyos.vyos.vyos_static_route:\n    aggregate:\n    - {prefix: 172.24.1.0/24, next_hop: 192.168.42.64}\n    - {prefix: 172.24.3.0/24, next_hop: 192.168.42.64}\n    state: absent\n"
  },
  "vyos.vyos.vyos_static_routes": {
    "doc": {
      "description": "This module manages attributes of static routes on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).",
      "options": {
        "config": {
          "aliases": [],
          "description": "A provided static route configuration.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "address_families": {
              "aliases": [],
              "description": "A dictionary specifying the address family to which the static route(s) belong.",
              "type": "list",
              "required": false,
              "elements": "dict",
              "suboptions": {
                "afi": {
                  "aliases": [],
                  "description": "Specifies the type of route.",
                  "type": "str",
                  "required": true,
                  "choices": [
                    "ipv4",
                    "ipv6"
                  ],
                  "suboptions": {}
                },
                "routes": {
                  "aliases": [],
                  "description": "A dictionary that specify the static route configurations.",
                  "type": "list",
                  "required": false,
                  "elements": "dict",
                  "suboptions": {
                    "blackhole_config": {
                      "aliases": [],
                      "description": "Configured to silently discard packets.",
                      "type": "dict",
                      "required": false,
                      "suboptions": {
                        "distance": {
                          "aliases": [],
                          "description": "Distance for the route.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "type": {
                          "aliases": [],
                          "description": "This is to configure only blackhole.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    },
                    "dest": {
                      "aliases": [],
                      "description": "An IPv4/v6 address in CIDR notation that specifies the destination network for the static route.",
                      "type": "str",
                      "required": true,
                      "suboptions": {}
                    },
                    "next_hops": {
                      "aliases": [],
                      "description": "Next hops to the specified destination.",
                      "type": "list",
                      "required": false,
                      "elements": "dict",
                      "suboptions": {
                        "admin_distance": {
                          "aliases": [],
                          "description": "Distance value for the route.",
                          "type": "int",
                          "required": false,
                          "suboptions": {}
                        },
                        "enabled": {
                          "aliases": [],
                          "description": "Disable IPv4/v6 next-hop static route.",
                          "type": "bool",
                          "required": false,
                          "suboptions": {}
                        },
                        "forward_router_address": {
                          "aliases": [],
                          "description": "The IP address of the next hop that can be used to reach the destination network.",
                          "type": "str",
                          "required": true,
                          "suboptions": {}
                        },
                        "interface": {
                          "aliases": [],
                          "description": "Name of the outgoing interface.",
                          "type": "str",
                          "required": false,
                          "suboptions": {}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "running_config": {
          "aliases": [],
          "description": "This option is used only with state I(parsed).\nThe value of this option should be the output received from the VyOS device by executing the command B(show configuration commands | grep static route).\nThe state I(parsed) reads the configuration from C(running_config) option and transforms it into Ansible structured data as per the resource module's argspec and the value is then returned in the I(parsed) key within the result.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "The state of the configuration after module completion.",
          "default": "merged",
          "type": "str",
          "required": false,
          "choices": [
            "merged",
            "replaced",
            "overridden",
            "deleted",
            "gathered",
            "rendered",
            "parsed"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Static routes resource module",
      "version_added": "1.0.0"
    },
    "examples": "\n# Using merged\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration  commands | grep static\n#\n- name: Merge the provided configuration with the existing running configuration\n  vyos.vyos.vyos_static_routes:\n    config:\n    - address_families:\n      - afi: ipv4\n        routes:\n        - dest: 192.0.2.32/28\n          blackhole_config:\n            type: blackhole\n          next_hops:\n          - forward_router_address: 192.0.2.6\n          - forward_router_address: 192.0.2.7\n    - address_families:\n      - afi: ipv6\n        routes:\n        - dest: 2001:db8:1000::/36\n          blackhole_config:\n            distance: 2\n          next_hops:\n          - forward_router_address: 2001:db8:2000:2::1\n          - forward_router_address: 2001:db8:2000:2::2\n    state: merged\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# before\": []\n#\n#    \"commands\": [\n#        \"set protocols static route 192.0.2.32/28\",\n#        \"set protocols static route 192.0.2.32/28 blackhole\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\",\n#        \"set protocols static route6 2001:db8:1000::/36\",\n#        \"set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\",\n#        \"set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\",\n#        \"set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\"\n#    ]\n#\n# \"after\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.6\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n\n\n# Using replaced\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route 192.0.2.33/28 'blackhole'\n# set protocols static route 192.0.2.33/28 next-hop '192.0.2.3'\n# set protocols static route 192.0.2.33/28 next-hop '192.0.2.4'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n#\n- name: Replace device configurations of listed static routes with provided configurations\n  vyos.vyos.vyos_static_routes:\n    config:\n    - address_families:\n      - afi: ipv4\n        routes:\n        - dest: 192.0.2.32/28\n          blackhole_config:\n            distance: 2\n          next_hops:\n          - forward_router_address: 192.0.2.7\n            enabled: false\n          - forward_router_address: 192.0.2.9\n    state: replaced\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"before\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.6\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                }\n#                            ]\n#                        },\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.33/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.3\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.4\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# \"commands\": [\n#        \"delete protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\",\n#        \"delete protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\",\n#        \"set protocols static route 192.0.2.32/28 next-hop 192.0.2.7 'disable'\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.9'\",\n#        \"set protocols static route 192.0.2.32/28 blackhole distance '2'\"\n#    ]\n#\n#    \"after\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"enabled\": false,\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.9\"\n#                                }\n#                            ]\n#                        },\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.33/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.3\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.4\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 blackhole distance '2'\n# set protocols static route 192.0.2.32/28 next-hop 192.0.2.7 'disable'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.9'\n# set protocols static route 192.0.2.33/28 'blackhole'\n# set protocols static route 192.0.2.33/28 next-hop '192.0.2.3'\n# set protocols static route 192.0.2.33/28 next-hop '192.0.2.4'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n\n\n# Using overridden\n#\n# Before state\n# --------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 blackhole distance '2'\n# set protocols static route 192.0.2.32/28 next-hop 192.0.2.7 'disable'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.9'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n#\n- name: Overrides all device configuration with provided configuration\n  vyos.vyos.vyos_static_routes:\n    config:\n    - address_families:\n      - afi: ipv4\n        routes:\n        - dest: 198.0.2.48/28\n          next_hops:\n          - forward_router_address: 192.0.2.18\n    state: overridden\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n# \"before\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"enabled\": false,\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.9\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#    \"commands\": [\n#        \"delete protocols static route 192.0.2.32/28\",\n#        \"delete protocols static route6 2001:db8:1000::/36\",\n#        \"set protocols static route 198.0.2.48/28\",\n#        \"set protocols static route 198.0.2.48/28 next-hop '192.0.2.18'\"\n#\n#\n#    \"after\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"dest\": \"198.0.2.48/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.18\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#\n# After state\n# ------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 198.0.2.48/28 next-hop '192.0.2.18'\n\n\n# Using deleted to delete static route based on afi\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n#\n- name: Delete static route based on afi.\n  vyos.vyos.vyos_static_routes:\n    config:\n    - address_families:\n      - afi: ipv4\n      - afi: ipv6\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.6\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#    \"commands\": [\n#       \"delete protocols static route\",\n#       \"delete protocols static route6\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep static\n# set protocols 'static'\n\n\n# Using deleted to delete all the static routes when passes config is empty\n#\n# Before state\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n#\n- name: Delete all the static routes.\n  vyos.vyos.vyos_static_routes:\n    config:\n    state: deleted\n#\n#\n# ------------------------\n# Module Execution Results\n# ------------------------\n#\n#    \"before\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.6\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#    \"commands\": [\n#       \"delete protocols static route\",\n#       \"delete protocols static route6\"\n#    ]\n#\n# \"after\": []\n# After state\n# ------------\n# vyos@vyos# run show configuration commands | grep static\n# set protocols 'static'\n\n\n# Using rendered\n#\n#\n- name: Render the commands for provided  configuration\n  vyos.vyos.vyos_static_routes:\n    config:\n    - address_families:\n      - afi: ipv4\n        routes:\n        - dest: 192.0.2.32/28\n          blackhole_config:\n            type: blackhole\n          next_hops:\n          - forward_router_address: 192.0.2.6\n          - forward_router_address: 192.0.2.7\n    - address_families:\n      - afi: ipv6\n        routes:\n        - dest: 2001:db8:1000::/36\n          blackhole_config:\n            distance: 2\n          next_hops:\n          - forward_router_address: 2001:db8:2000:2::1\n          - forward_router_address: 2001:db8:2000:2::2\n    state: rendered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"rendered\": [\n#        \"set protocols static route 192.0.2.32/28\",\n#        \"set protocols static route 192.0.2.32/28 blackhole\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\",\n#        \"set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\",\n#        \"set protocols static route6 2001:db8:1000::/36\",\n#        \"set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\",\n#        \"set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\",\n#        \"set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\"\n#    ]\n\n\n# Using parsed\n#\n#\n- name: Parse the provided running configuration\n  vyos.vyos.vyos_static_routes:\n    running_config:\n      \"set protocols static route 192.0.2.32/28 'blackhole'\n       set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n       set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n       set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n       set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n       set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\"\n    state: parsed\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#\n# \"parsed\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n\n\n# Using gathered\n#\n# Before state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n#\n- name: Gather listed static routes with provided configurations\n  vyos.vyos.vyos_static_routes:\n    config:\n    state: gathered\n#\n#\n# -------------------------\n# Module Execution Result\n# -------------------------\n#\n#    \"gathered\": [\n#        {\n#            \"address_families\": [\n#                {\n#                    \"afi\": \"ipv4\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"type\": \"blackhole\"\n#                            },\n#                            \"dest\": \"192.0.2.32/28\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.6\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"192.0.2.7\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                },\n#                {\n#                    \"afi\": \"ipv6\",\n#                    \"routes\": [\n#                        {\n#                            \"blackhole_config\": {\n#                                \"distance\": 2\n#                            },\n#                            \"dest\": \"2001:db8:1000::/36\",\n#                            \"next_hops\": [\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::1\"\n#                                },\n#                                {\n#                                    \"forward_router_address\": \"2001:db8:2000:2::2\"\n#                                }\n#                            ]\n#                        }\n#                    ]\n#                }\n#            ]\n#        }\n#    ]\n#\n#\n# After state:\n# -------------\n#\n# vyos@vyos:~$ show configuration commands| grep static\n# set protocols static route 192.0.2.32/28 'blackhole'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.6'\n# set protocols static route 192.0.2.32/28 next-hop '192.0.2.7'\n# set protocols static route6 2001:db8:1000::/36 blackhole distance '2'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::1'\n# set protocols static route6 2001:db8:1000::/36 next-hop '2001:db8:2000:2::2'\n\n\n"
  },
  "vyos.vyos.vyos_system": {
    "doc": {
      "description": "Runs one or more commands on remote devices running VyOS. This module can also be introspected to validate key parameters before returning successfully.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "domain_name": {
          "aliases": [],
          "description": "The new domain name to apply to the device.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "domain_search": {
          "aliases": [],
          "description": "A list of domain names to search. Mutually exclusive with I(name_server)",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "host_name": {
          "aliases": [],
          "description": "Configure the device hostname parameter. This option takes an ASCII string value.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "name_server": {
          "aliases": [
            "name_servers"
          ],
          "description": "A list of name servers to use with the device. Mutually exclusive with I(domain_search)",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "state": {
          "aliases": [],
          "description": "Whether to apply (C(present)) or remove (C(absent)) the settings.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Run `set system` commands on VyOS devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: configure hostname and domain-name\n  vyos.vyos.vyos_system:\n    host_name: vyos01\n    domain_name: test.example.com\n\n- name: remove all configuration\n  vyos.vyos.vyos_system:\n    state: absent\n\n- name: configure name servers\n  vyos.vyos.vyos_system: name_servers - 8.8.8.8 - 8.8.4.4\n- name: configure domain search suffixes\n  vyos.vyos.vyos_system:\n    domain_search:\n    - sub1.example.com\n    - sub2.example.com\n"
  },
  "vyos.vyos.vyos_user": {
    "doc": {
      "description": "This module provides declarative management of the local usernames configured on network devices. It allows playbooks to manage either individual usernames or the collection of usernames in the current running config. It also supports purging usernames from the configuration that are not explicitly defined.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "aggregate": {
          "aliases": [
            "users",
            "collection"
          ],
          "description": "The set of username objects to be configured on the remote VyOS device. The list entries can either be the username or a hash of username and properties. This argument is mutually exclusive with the C(name) argument.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "configured_password": {
              "aliases": [],
              "description": "The password to be configured on the VyOS device. The password needs to be provided in clear and it will be encrypted on the device. Please note that this option is not same as C(provider password).",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "full_name": {
              "aliases": [],
              "description": "The C(full_name) argument provides the full name of the user account to be created on the remote device. This argument accepts any text string value.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "level": {
              "aliases": [
                "role"
              ],
              "description": "The C(level) argument configures the level of the user when logged into the system. This argument accepts string values admin or operator.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "The username to be configured on the VyOS device. This argument accepts a string value and is mutually exclusive with the C(aggregate) argument. Please note that this option is not same as C(provider username).",
              "type": "str",
              "required": true,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "Configures the state of the username definition as it relates to the device operational configuration. When set to I(present), the username(s) should be configured in the device active configuration and when set to I(absent) the username(s) should not be in the device active configuration",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent"
              ],
              "suboptions": {}
            },
            "update_password": {
              "aliases": [],
              "description": "Since passwords are encrypted in the device running config, this argument will instruct the module when to change the password.  When set to C(always), the password will always be updated in the device and when set to C(on_create) the password will be updated only if the username is created.",
              "type": "str",
              "required": false,
              "choices": [
                "on_create",
                "always"
              ],
              "suboptions": {}
            }
          }
        },
        "configured_password": {
          "aliases": [],
          "description": "The password to be configured on the VyOS device. The password needs to be provided in clear and it will be encrypted on the device. Please note that this option is not same as C(provider password).",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "full_name": {
          "aliases": [],
          "description": "The C(full_name) argument provides the full name of the user account to be created on the remote device. This argument accepts any text string value.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "level": {
          "aliases": [
            "role"
          ],
          "description": "The C(level) argument configures the level of the user when logged into the system. This argument accepts string values admin or operator.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "The username to be configured on the VyOS device. This argument accepts a string value and is mutually exclusive with the C(aggregate) argument. Please note that this option is not same as C(provider username).",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "purge": {
          "aliases": [],
          "description": "Instructs the module to consider the resource definition absolute. It will remove any previously configured usernames on the device with the exception of the `admin` user (the current defined set of users).",
          "default": "False",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "Configures the state of the username definition as it relates to the device operational configuration. When set to I(present), the username(s) should be configured in the device active configuration and when set to I(absent) the username(s) should not be in the device active configuration",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        },
        "update_password": {
          "aliases": [],
          "description": "Since passwords are encrypted in the device running config, this argument will instruct the module when to change the password.  When set to C(always), the password will always be updated in the device and when set to C(on_create) the password will be updated only if the username is created.",
          "default": "always",
          "type": "str",
          "required": false,
          "choices": [
            "on_create",
            "always"
          ],
          "suboptions": {}
        }
      },
      "short_description": "Manage the collection of local users on VyOS device",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: create a new user\n  vyos.vyos.vyos_user:\n    name: ansible\n    configured_password: password\n    state: present\n- name: remove all users except admin\n  vyos.vyos.vyos_user:\n    purge: yes\n- name: set multiple users to level operator\n  vyos.vyos.vyos_user:\n    aggregate:\n    - name: netop\n    - name: netend\n    level: operator\n    state: present\n- name: Change Password for User netop\n  vyos.vyos.vyos_user:\n    name: netop\n    configured_password: '{{ new_password }}'\n    update_password: always\n    state: present\n"
  },
  "vyos.vyos.vyos_vlan": {
    "doc": {
      "description": "This module provides declarative management of VLANs on VyOS network devices.",
      "has_action": true,
      "notes": "Tested against VyOS 1.1.8 (helium).\nThis module works with connection C(network_cli). See L(the VyOS OS Platform Options,../network/user_guide/platform_vyos.html).\nFor more information on using Ansible to manage network devices see the :ref:`Ansible Network Guide <network_guide>`",
      "options": {
        "address": {
          "aliases": [],
          "description": "Configure Virtual interface address.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "aggregate": {
          "aliases": [],
          "description": "List of VLANs definitions.",
          "type": "list",
          "required": false,
          "elements": "dict",
          "suboptions": {
            "address": {
              "aliases": [],
              "description": "Configure Virtual interface address.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "associated_interfaces": {
              "aliases": [],
              "description": "This is a intent option and checks the operational state of the for given vlan C(name) for associated interfaces. If the value in the C(associated_interfaces) does not match with the operational state of vlan on device it will result in failure.",
              "type": "list",
              "required": false,
              "elements": "str",
              "suboptions": {}
            },
            "delay": {
              "aliases": [],
              "description": "Delay the play should wait to check for declarative intent params values.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "interfaces": {
              "aliases": [],
              "description": "List of interfaces that should be associated to the VLAN.",
              "type": "list",
              "required": true,
              "elements": "str",
              "suboptions": {}
            },
            "name": {
              "aliases": [],
              "description": "Name of the VLAN.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "state": {
              "aliases": [],
              "description": "State of the VLAN configuration.",
              "type": "str",
              "required": false,
              "choices": [
                "present",
                "absent"
              ],
              "suboptions": {}
            },
            "vlan_id": {
              "aliases": [],
              "description": "ID of the VLAN. Range 0-4094.",
              "type": "int",
              "required": true,
              "suboptions": {}
            }
          }
        },
        "associated_interfaces": {
          "aliases": [],
          "description": "This is a intent option and checks the operational state of the for given vlan C(name) for associated interfaces. If the value in the C(associated_interfaces) does not match with the operational state of vlan on device it will result in failure.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "delay": {
          "aliases": [],
          "description": "Delay the play should wait to check for declarative intent params values.",
          "default": "10",
          "type": "int",
          "required": false,
          "suboptions": {}
        },
        "interfaces": {
          "aliases": [],
          "description": "List of interfaces that should be associated to the VLAN.",
          "type": "list",
          "required": false,
          "elements": "str",
          "suboptions": {}
        },
        "name": {
          "aliases": [],
          "description": "Name of the VLAN.",
          "type": "str",
          "required": false,
          "suboptions": {}
        },
        "provider": {
          "aliases": [],
          "description": "B(Deprecated)\nStarting with Ansible 2.5 we recommend using C(connection: network_cli).\nFor more information please see the L(Network Guide, ../network/getting_started/network_differences.html#multiple-communication-protocols).\nHORIZONTALLINE\nA dict object containing connection details.",
          "type": "dict",
          "required": false,
          "suboptions": {
            "host": {
              "aliases": [],
              "description": "Specifies the DNS host name or address for connecting to the remote device over the specified transport.  The value of host is used as the destination address for the transport.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "password": {
              "aliases": [],
              "description": "Specifies the password to use to authenticate the connection to the remote device.   This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_PASSWORD) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            },
            "port": {
              "aliases": [],
              "description": "Specifies the port to use when building the connection to the remote device.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "ssh_keyfile": {
              "aliases": [],
              "description": "Specifies the SSH key to use to authenticate the connection to the remote device.   This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_SSH_KEYFILE) will be used instead.",
              "type": "path",
              "required": false,
              "suboptions": {}
            },
            "timeout": {
              "aliases": [],
              "description": "Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands.  If the timeout is exceeded before the operation is completed, the module will error.",
              "type": "int",
              "required": false,
              "suboptions": {}
            },
            "username": {
              "aliases": [],
              "description": "Configures the username to use to authenticate the connection to the remote device.  This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable C(ANSIBLE_NET_USERNAME) will be used instead.",
              "type": "str",
              "required": false,
              "suboptions": {}
            }
          }
        },
        "purge": {
          "aliases": [],
          "description": "Purge VLANs not defined in the I(aggregate) parameter.",
          "default": "False",
          "type": "bool",
          "required": false,
          "suboptions": {}
        },
        "state": {
          "aliases": [],
          "description": "State of the VLAN configuration.",
          "default": "present",
          "type": "str",
          "required": false,
          "choices": [
            "present",
            "absent"
          ],
          "suboptions": {}
        },
        "vlan_id": {
          "aliases": [],
          "description": "ID of the VLAN. Range 0-4094.",
          "type": "int",
          "required": false,
          "suboptions": {}
        }
      },
      "short_description": "Manage VLANs on VyOS network devices",
      "version_added": "1.0.0"
    },
    "examples": "\n- name: Create vlan\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    name: vlan-100\n    interfaces: eth1\n    state: present\n\n- name: Add interfaces to VLAN\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    interfaces:\n    - eth1\n    - eth2\n\n- name: Configure virtual interface address\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    interfaces: eth1\n    address: 172.26.100.37/24\n\n- name: vlan interface config + intent\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    interfaces: eth0\n    associated_interfaces:\n    - eth0\n\n- name: vlan intent check\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    associated_interfaces:\n    - eth3\n    - eth4\n\n- name: Delete vlan\n  vyos.vyos.vyos_vlan:\n    vlan_id: 100\n    interfaces: eth1\n    state: absent\n"
  }
}